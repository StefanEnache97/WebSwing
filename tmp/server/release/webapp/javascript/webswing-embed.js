!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=386)}([function(t,e,n){var r=n(3),o=n(14).f,i=n(18),a=n(15),s=n(84),c=n(112),l=n(53);t.exports=function(t,e){var n,u,d,p,f,h=t.target,y=t.global,g=t.stat;if(n=y?r:g?r[h]||s(h,{}):(r[h]||{}).prototype)for(u in e){if(p=e[u],d=t.noTargetGet?(f=o(n,u))&&f.value:n[u],!l(y?u:h+(g?".":"#")+u,t.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(t.sham||d&&d.sham)&&i(p,"sham",!0),a(n,u,p,t)}}},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,c,"next",t)}function c(t){a(i,r,o,s,c,"throw",t)}s(void 0)}))}}function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d;n.d(e,"a",(function(){return y})),n.d(e,"c",(function(){return g})),n.d(e,"s",(function(){return v})),n.d(e,"q",(function(){return m})),n.d(e,"u",(function(){return w})),n.d(e,"i",(function(){return b})),n.d(e,"g",(function(){return O})),n.d(e,"j",(function(){return P})),n.d(e,"d",(function(){return k})),n.d(e,"p",(function(){return S})),n.d(e,"v",(function(){return I})),n.d(e,"b",(function(){return E})),n.d(e,"h",(function(){return j})),n.d(e,"e",(function(){return x})),n.d(e,"z",(function(){return T})),n.d(e,"k",(function(){return M})),n.d(e,"o",(function(){return A})),n.d(e,"w",(function(){return C})),n.d(e,"r",(function(){return D})),n.d(e,"n",(function(){return R})),n.d(e,"l",(function(){return B})),n.d(e,"A",(function(){return L})),n.d(e,"m",(function(){return _})),n.d(e,"y",(function(){return N})),n.d(e,"C",(function(){return H})),n.d(e,"D",(function(){return q})),n.d(e,"E",(function(){return U})),n.d(e,"f",(function(){return z})),n.d(e,"t",(function(){return J})),n.d(e,"B",(function(){return Y})),n.d(e,"x",(function(){return G}));var p,f,h,y=(p=null,f=null,h=0,{fetch:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3,r=new AbortController,i=setTimeout((function(){return r.abort()}),n);p&&0===h&&p(),h++;var a=fetch(t,o(o({},e),{},{signal:r.signal}));return a.then((function(){clearTimeout(i),h--,f&&0===h&&f()})).catch((function(){clearTimeout(i),h--,f&&0===h&&f()})),a})),onFetchStart:function(t){p=t},onFetchComplete:function(t){f=t}});function g(t){var e=function(e){return t.translate(e)};return{webswingLogin:n,webswingLogout:function(t,n,r,o,a){var s=d,c={"X-Requested-With":"XMLHttpRequest"};null!=s&&s.length&&(c.Authorization="Bearer "+s);y.fetch(t+"logout",{method:"GET",headers:c,credentials:"include"}).then((function(t){t.text().then((function(t){var s;if(a||localStorage.setItem("webswingLogout",Date.now().toString()),s="function"==typeof n?n():n,null!=t){d=null;var c={};try{c=JSON.parse(t)}catch(t){return console.error(t),void o()}if(null!=c.redirectUrl)return void(window.top.location.href=c.redirectUrl);null!=c.partialHtml?i(s,e(c.partialHtml)):(console.error("WebswingLogin: Unexpected response:"+JSON.stringify(c)),r())}else o()}))})).catch((function(t){console.error(t),a||localStorage.setItem("webswingLogout",Date.now().toString()),o()}))},refreshLogin:a,getToken:v};function n(t,e,n,o,i){null==d?a(t,(function(){r(t,e,n,o,i)})):r(t,e,n,o,i)}function r(t,r,a,c,l){var p={"X-Requested-With":"XMLHttpRequest","Content-Type":"object"===u(a)?"application/json":"application/x-www-form-urlencoded"};null!=d&&d.length&&(p.Authorization="Bearer "+d),y.fetch(t+"login",{method:"POST",headers:p,credentials:"include",body:"object"!==u(a)?a:JSON.stringify(a)}).then((function(a){a.text().then((function(u){var d;if(a.ok)u&&s(u),null!=c&&c(u,a.headers.get("webswingUsername"));else if(null!=u){d="function"==typeof r?r():r;var p={};try{p=JSON.parse(u)}catch(t){return console.error(t),void o(r,l)}if(null!=p.redirectUrl)window.top.location.href=p.redirectUrl;else if(null!=p.partialHtml){i(d,e(p.partialHtml));var f=d.querySelector("form");f.addEventListener("submit",(function(e){var r=L(f);d.querySelectorAll("#progress")[0].style.display="",n(t,d,r,c),e.preventDefault()}))}else console.error("WebswingLogin: Unexpected response:"+JSON.stringify(p)),o(r,l)}else o(r,l)}))})).catch((function(t){console.error(t),o(r,l)}))}function o(t,n){null!=n?n():i("function"==typeof t?t():t,e("<p>${login.serverNotAvailable}</p>"))}function i(t,e){t.innerHTML=e;var n=N(t,".ws-modal-container[data-id=commonDialog]");0!==n.length&&n[0].setAttribute("data-type","login")}function a(t,e){y.fetch(t+"rest/refreshToken",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"},credentials:"include"}).then((function(t){t.text().then((function(n){var r=!1;t.ok&&n&&(s(n),r=!0),e&&e(r)}))})).catch((function(t){console.error(t),e&&e(!1)}))}function s(t){var e=JSON.parse(t);d=e.accessToken}}function v(){return d||""}function m(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.href);return null==e?void 0:decodeURIComponent(e[1])}function w(){return"ArrayBuffer"in window&&-1!==ArrayBuffer.toString().indexOf("[native code]")}function b(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}function O(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function P(){return navigator.platform.toUpperCase().indexOf("MAC")>=0}function k(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var t=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}function S(t){var e;if("string"==typeof t)e=t;else if("object"===u(t)){for(var n="",r=0,o=t.byteLength;r<o;r++)n+=String.fromCharCode(t[r]);e=window.btoa(n)}return"data:image/png;base64,"+e}function I(){return-1!==["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)||-1!==navigator.userAgent.indexOf("Mac")&&"ontouchend"in document}function E(){var t=function(){return Math.floor(65536*Math.random()).toString(16)};return t()+t()+t()}function j(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function x(t,e,n){var r;if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toUTCString()}else r="";document.cookie=escape(t)+"="+escape(e)+r+"; path=/"}function T(t){var e,n=escape(t)+"=",r=c(document.cookie.split(";"));try{for(r.s();!(e=r.n()).done;){for(var o=e.value;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return unescape(o.substring(n.length,o.length))}}catch(t){r.e(t)}finally{r.f()}return null}function M(t){x(t,"",-1)}function A(){return Math.ceil(window.devicePixelRatio)||1}function C(){return"ontouchstart"in window}function D(){var t,e=Intl.DateTimeFormat().resolvedOptions().timeZone;return e||"GMT"+((t=(new Date).getTimezoneOffset())<0?"+":"-")+F(Math.abs(t/60),2)+F(Math.abs(t%60),2)}function R(t){if(0!==t.toLowerCase().indexOf("http")){var e=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),n=t;if(0!==n.indexOf("/")){var r=document.location.pathname;n=r.lastIndexOf("/")===r.length-1?r+n:r.substring(0,r.lastIndexOf("/")+1)+n}t=e+n}return t}function F(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n}function B(t,e){var n,r={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function L(t){var e=[];return t.querySelectorAll("[name]").forEach((function(t){var n=t;e.push(n.name+"="+n.value)})),e.join("&")}function _(t,e){return W.apply(this,arguments)}function W(){return(W=s(regeneratorRuntime.mark((function t(e,n){var r,o,i,a,s,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],o="Authorization",i={"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},null!=d&&d.length&&(i[o]="Bearer "+d),a={method:n,headers:i,credentials:"include"},t.next=7,y.fetch(e,a);case 7:return s=t.sent,t.abrupt("return",r?s.text():s.json());case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t,e){for(var n=[],r=t,o=void 0!==e;null!==(r=r.parentElement);)r.nodeType===Node.ELEMENT_NODE&&(o&&!r.matches(e)||n.push(r));return n}function H(t){if(void 0!==t._eventListeners&&0!==t._eventListeners.length){for(var e=0,n=t._eventListeners.length;e<n;e++){var r=t._eventListeners[e];t.removeEventListener(r.event,r.callback)}t._eventListeners=[]}}function q(t){for(var e=document.createDocumentFragment();t.firstChild;){var n=t.removeChild(t.firstChild);e.appendChild(n)}t.parentNode&&t.parentNode.replaceChild(e,t)}function U(t,e){e.parentNode&&(e.parentNode.insertBefore(t,e),t.appendChild(e))}function z(t){return t.parentElement?t.parentElement.removeChild(t):t}function J(t){t.style.display="none"}function Y(t,e){t.style.display=e||"block"}function G(t){return!(!t||null==t)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(49))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(3),o=n(87),i=n(11),a=n(51),s=n(91),c=n(115),l=o("wks"),u=r.Symbol,d=c?u:u&&u.withoutSetter||a;t.exports=function(t){return i(l,t)&&(s||"string"==typeof l[t])||(s&&i(u,t)?l[t]=u[t]:l[t]=d("Symbol."+t)),l[t]}},function(t,e,n){"use strict";var r,o=n(128),i=n(8),a=n(3),s=n(4),c=n(11),l=n(61),u=n(18),d=n(15),p=n(10).f,f=n(27),h=n(45),y=n(6),g=n(51),v=a.Int8Array,m=v&&v.prototype,w=a.Uint8ClampedArray,b=w&&w.prototype,O=v&&f(v),P=m&&f(m),k=Object.prototype,S=k.isPrototypeOf,I=y("toStringTag"),E=g("TYPED_ARRAY_TAG"),j=o&&!!h&&"Opera"!==l(a.opera),x=!1,T={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},A=function(t){if(!s(t))return!1;var e=l(t);return c(T,e)||c(M,e)};for(r in T)a[r]||(j=!1);if((!j||"function"!=typeof O||O===Function.prototype)&&(O=function(){throw TypeError("Incorrect invocation")},j))for(r in T)a[r]&&h(a[r],O);if((!j||!P||P===k)&&(P=O.prototype,j))for(r in T)a[r]&&h(a[r].prototype,P);if(j&&f(b)!==P&&h(b,P),i&&!c(P,I))for(r in x=!0,p(P,I,{get:function(){return s(this)?this[E]:void 0}}),T)a[r]&&u(a[r],E,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:x&&E,aTypedArray:function(t){if(A(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(h){if(S.call(O,t))return t}else for(var e in T)if(c(T,r)){var n=a[e];if(n&&(t===n||S.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var r in T){var o=a[r];o&&c(o.prototype,t)&&delete o.prototype[t]}P[t]&&!n||d(P,t,n?e:j&&m[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(i){if(h){if(n)for(r in T)(o=a[r])&&c(o,t)&&delete o[t];if(O[t]&&!n)return;try{return d(O,t,n?e:j&&v[t]||e)}catch(t){}}for(r in T)!(o=a[r])||o[t]&&!n||d(o,t,e)}},isView:function(t){if(!s(t))return!1;var e=l(t);return"DataView"===e||c(T,e)||c(M,e)},isTypedArray:A,TypedArray:O,TypedArrayPrototype:P}},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(24),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(8),o=n(110),i=n(5),a=n(28),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(17);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c}));var s=function(){function t(e){r(this,t),this.i=e,a(this,"ready",void 0)}return i(t,[{key:"api",get:function(){return this.i.getInjected(this)}}]),t}(),c=function(){function t(){r(this,t),a(this,"registeredModules",{}),a(this,"modules",{}),a(this,"services",{}),a(this,"inject",{}),a(this,"ready",{})}return i(t,[{key:"addModule",value:function(t,e,n){null!=t&&null!=e&&null!=n&&(this.modules[t]={},this.registeredModules[t]=e,this.services[t]=this.expand(t,e.provides(),e),this.inject[t]=n,e.ready&&(this.ready[t]=e.ready))}},{key:"module",value:function(t,e){null!=e&&(this.modules[t]=e,null!=e.provides&&(this.services[t]=this.expand(t,e.provides)),null!=e.injects&&(this.inject[t]=e.injects),null!=e.ready&&(this.ready[t]=e.ready))}},{key:"injectAndVerify",value:function(){var t="";for(var e in this.inject)if(this.inject.hasOwnProperty(e))try{var n=this.modules[e].injected,r=this.injectObject(this.inject[e]);this.modules[e].injected=n?Object.assign(n,r):r}catch(n){if(!(n instanceof l))throw n;t+="\tModule "+e+" :\n"+n+"\n"}if(t.length>0)throw new l("Dependency injection errors:\n"+t);for(var o in this.ready)if(this.ready.hasOwnProperty(o))try{this.ready[o]()}catch(e){if(!(e instanceof l))throw e;t+="\tModule "+o+" ready function :\n"+e+"\n"}if(t.length>0)throw new l("Starting modules failed:\n"+t)}},{key:"getInjected",value:function(t){var e=this,n=Object.keys(this.registeredModules).find((function(n){return e.registeredModules[n]===t}));if(void 0===n||void 0===this.modules[n])throw new l("IllegalState: module has not been registered by injector.");var r=this.modules[n].injected;if(void 0===r)throw new l("IllegalState: Injection not finished yet.");return r}},{key:"expand",value:function(t,e,n){var r={};for(var o in e)if(e.hasOwnProperty(o)){var i=o.split(".");if(i.length<=1||i[0]!==t)throw new l("Provided service key'"+o+"' must start with owner module name '"+t+".'");var a=e[o],s="function"==typeof a&&n?a.bind(n):a;r[i.splice(1).join(".")]=s}return r}},{key:"injectObject",value:function(t){var e="",n={};for(var r in t)if(t.hasOwnProperty(r))try{var o=this.resolve(t[r]);n[r]=o}catch(t){if(!(t instanceof l))throw t;e+="\t\tField "+r+" not injected: "+t+"\n"}if(e.length>0)throw new l(e);return n}},{key:"resolve",value:function(t){try{return t.split(".").reduce((function(t,e){if(t.hasOwnProperty(e))return t[e];throw new Error}),this.services)}catch(e){throw new l("service "+t+" not found.")}}}]),t}(),l=function(){function t(e){r(this,t),a(this,"message",void 0),this.message=e}return i(t,[{key:"toString",value:function(){return this.message}}]),t}()},function(t,e,n){var r=n(8),o=n(64),i=n(32),a=n(19),s=n(28),c=n(11),l=n(110),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=a(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(3),o=n(18),i=n(11),a=n(84),s=n(85),c=n(20),l=c.get,u=c.enforce,d=String(String).split("String");(t.exports=function(t,e,n,s){var c,l=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(c=u(n)).source||(c.source=d.join("string"==typeof e?e:""))),t!==r?(l?!f&&t[e]&&(p=!0):delete t[e],p?t[e]=n:o(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},function(t,e,n){var r=n(35),o=n(50),i=n(12),a=n(9),s=n(57),c=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,u=4==t,d=6==t,p=7==t,f=5==t||d;return function(h,y,g,v){for(var m,w,b=i(h),O=o(b),P=r(y,g,3),k=a(O.length),S=0,I=v||s,E=e?I(h,k):n||p?I(h,0):void 0;k>S;S++)if((f||S in O)&&(w=P(m=O[S],S,b),t))if(e)E[S]=w;else if(w)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:c.call(E,m)}else switch(t){case 4:return!1;case 7:c.call(E,m)}return d?-1:l||u?u:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(8),o=n(10),i=n(32);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(50),o=n(17);t.exports=function(t){return r(o(t))}},function(t,e,n){var r,o,i,a=n(111),s=n(3),c=n(4),l=n(18),u=n(11),d=n(86),p=n(65),f=n(52),h=s.WeakMap;if(a){var y=d.state||(d.state=new h),g=y.get,v=y.has,m=y.set;r=function(t,e){return e.facade=t,m.call(y,t,e),e},o=function(t){return g.call(y,t)||{}},i=function(t){return v.call(y,t)}}else{var w=p("state");f[w]=!0,r=function(t,e){return e.facade=t,l(t,w,e),e},o=function(t){return u(t,w)?t[w]:{}},i=function(t){return u(t,w)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(113),o=n(11),i=n(119),a=n(10).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){var r=n(17),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var r=n(2);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(113),o=n(3),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(11),o=n(12),i=n(65),a=n(96),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=!1},function(t,e,n){var r=n(10).f,o=n(11),i=n(6)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(8),a=n(106),s=n(7),c=n(127),l=n(37),u=n(32),d=n(18),p=n(9),f=n(129),h=n(146),y=n(28),g=n(11),v=n(61),m=n(4),w=n(34),b=n(45),O=n(38).f,P=n(147),k=n(16).forEach,S=n(46),I=n(10),E=n(14),j=n(20),x=n(72),T=j.get,M=j.set,A=I.f,C=E.f,D=Math.round,R=o.RangeError,F=c.ArrayBuffer,B=c.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,_=s.TYPED_ARRAY_TAG,W=s.TypedArray,N=s.TypedArrayPrototype,H=s.aTypedArrayConstructor,q=s.isTypedArray,U=function(t,e){for(var n=0,r=e.length,o=new(H(t))(r);r>n;)o[n]=e[n++];return o},z=function(t,e){A(t,e,{get:function(){return T(this)[e]}})},J=function(t){var e;return t instanceof F||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},Y=function(t,e){return q(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},G=function(t,e){return Y(t,e=y(e,!0))?u(2,t[e]):C(t,e)},X=function(t,e,n){return!(Y(t,e=y(e,!0))&&m(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?A(t,e,n):(t[e]=n.value,t)};i?(L||(E.f=G,I.f=X,z(N,"buffer"),z(N,"byteOffset"),z(N,"byteLength"),z(N,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:G,defineProperty:X}),t.exports=function(t,e,n){var i=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",c="get"+t,u="set"+t,y=o[s],g=y,v=g&&g.prototype,I={},E=function(t,e){A(t,e,{get:function(){return function(t,e){var n=T(t);return n.view[c](e*i+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var o=T(t);n&&(r=(r=D(r))<0?0:r>255?255:255&r),o.view[u](e*i+o.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};L?a&&(g=e((function(t,e,n,r){return l(t,g,s),x(m(e)?J(e)?void 0!==r?new y(e,h(n,i),r):void 0!==n?new y(e,h(n,i)):new y(e):q(e)?U(g,e):P.call(g,e):new y(f(e)),t,g)})),b&&b(g,W),k(O(y),(function(t){t in g||d(g,t,y[t])})),g.prototype=v):(g=e((function(t,e,n,r){l(t,g,s);var o,a,c,u=0,d=0;if(m(e)){if(!J(e))return q(e)?U(g,e):P.call(g,e);o=e,d=h(n,i);var y=e.byteLength;if(void 0===r){if(y%i)throw R("Wrong length");if((a=y-d)<0)throw R("Wrong length")}else if((a=p(r)*i)+d>y)throw R("Wrong length");c=a/i}else c=f(e),o=new F(a=c*i);for(M(t,{buffer:o,byteOffset:d,byteLength:a,length:c,view:new B(o)});u<c;)E(t,u++)})),b&&b(g,W),v=g.prototype=w(N)),v.constructor!==g&&d(v,"constructor",g),_&&d(v,_,s),I[s]=g,r({global:!0,forced:g!=y,sham:!L},I),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",i),S(s)}):t.exports=function(){}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r,o=n(5),i=n(116),a=n(89),s=n(52),c=n(117),l=n(83),u=n(65),d=u("IE_PROTO"),p=function(){},f=function(t){return"<script>"+t+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=r?function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=l("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[d]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(26);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(6),o=n(34),i=n(10),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(114),o=n(89).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(24),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){"use strict";var r=n(28),o=n(10),i=n(32);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(52),o=n(4),i=n(11),a=n(10).f,s=n(51),c=n(62),l=s("meta"),u=0,d=Object.isExtensible||function(){return!0},p=function(t){a(t,l,{value:{objectID:"O"+ ++u,weakData:{}}})},f=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,l)){if(!d(t))return"F";if(!e)return"E";p(t)}return t[l].objectID},getWeakData:function(t,e){if(!i(t,l)){if(!d(t))return!0;if(!e)return!1;p(t)}return t[l].weakData},onFreeze:function(t){return c&&f.REQUIRED&&d(t)&&!i(t,l)&&p(t),t}};r[l]=!0},function(t,e,n){var r=n(5),o=n(26),i=n(6)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,s=n(359),c=s.Reader,l=s.util,u=s.roots.default||(s.roots.default={});u.appFrameProtoOut=((a={}).AppFrameMsgOutProto=function(){function t(t){if(this.windows=[],this.componentTree=[],this.windowSwitchList=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.startApplication=null,t.prototype.linkAction=null,t.prototype.copyEvent=null,t.prototype.pasteRequest=null,t.prototype.fileDialogEvent=null,t.prototype.windows=l.emptyArray,t.prototype.closedWindow=null,t.prototype.event=0,t.prototype.jsRequest=null,t.prototype.javaResponse=null,t.prototype.pixelsRequest=null,t.prototype.playback=null,t.prototype.instanceId="",t.prototype.startTimestamp="",t.prototype.sendTimestamp="",t.prototype.focusEvent=null,t.prototype.componentTree=l.emptyArray,t.prototype.directDraw=!1,t.prototype.actionEvent=null,t.prototype.audioEvent=null,t.prototype.accessible=null,t.prototype.windowSwitchList=l.emptyArray,t.prototype.cursorChangeEvent=null,t.prototype.undockEvent=null,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.AppFrameMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.startApplication=u.appFrameProtoOut.StartApplicationMsgOutProto.decode(t,t.uint32());break;case 2:r.linkAction=u.appFrameProtoOut.LinkActionMsgOutProto.decode(t,t.uint32());break;case 3:r.copyEvent=u.appFrameProtoOut.CopyEventMsgOutProto.decode(t,t.uint32());break;case 4:r.pasteRequest=u.appFrameProtoOut.PasteRequestMsgOutProto.decode(t,t.uint32());break;case 5:r.fileDialogEvent=u.appFrameProtoOut.FileDialogEventMsgOutProto.decode(t,t.uint32());break;case 6:r.windows&&r.windows.length||(r.windows=[]),r.windows.push(u.appFrameProtoOut.WindowMsgOutProto.decode(t,t.uint32()));break;case 7:r.closedWindow=u.appFrameProtoOut.WindowMsgOutProto.decode(t,t.uint32());break;case 8:r.event=t.int32();break;case 9:r.jsRequest=u.appFrameProtoOut.JsEvalRequestMsgOutProto.decode(t,t.uint32());break;case 10:r.javaResponse=u.appFrameProtoOut.JsResultMsgOutProto.decode(t,t.uint32());break;case 11:r.pixelsRequest=u.appFrameProtoOut.PixelsAreaRequestMsgOutProto.decode(t,t.uint32());break;case 12:r.playback=u.appFrameProtoOut.PlaybackInfoMsgOutProto.decode(t,t.uint32());break;case 13:r.instanceId=t.string();break;case 14:r.startTimestamp=t.string();break;case 15:r.sendTimestamp=t.string();break;case 16:r.focusEvent=u.appFrameProtoOut.FocusEventMsgOutProto.decode(t,t.uint32());break;case 17:r.componentTree&&r.componentTree.length||(r.componentTree=[]),r.componentTree.push(u.appFrameProtoOut.ComponentTreeMsgOutProto.decode(t,t.uint32()));break;case 18:r.directDraw=t.bool();break;case 19:r.actionEvent=u.appFrameProtoOut.ActionEventMsgOutProto.decode(t,t.uint32());break;case 20:r.audioEvent=u.appFrameProtoOut.AudioEventMsgOutProto.decode(t,t.uint32());break;case 21:r.accessible=u.appFrameProtoOut.AccessibilityMsgOutProto.decode(t,t.uint32());break;case 22:r.windowSwitchList&&r.windowSwitchList.length||(r.windowSwitchList=[]),r.windowSwitchList.push(u.appFrameProtoOut.WindowSwitchMsgOutProto.decode(t,t.uint32()));break;case 23:r.cursorChangeEvent=u.appFrameProtoOut.CursorChangeEventMsgOutProto.decode(t,t.uint32());break;case 24:r.undockEvent=u.appFrameProtoOut.WindowUndockEventMsgOutProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.AppFrameMsgOutProto)return t;var e=new u.appFrameProtoOut.AppFrameMsgOutProto;if(null!=t.startApplication){if("object"!==r(t.startApplication))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.startApplication: object expected");e.startApplication=u.appFrameProtoOut.StartApplicationMsgOutProto.fromObject(t.startApplication)}if(null!=t.linkAction){if("object"!==r(t.linkAction))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.linkAction: object expected");e.linkAction=u.appFrameProtoOut.LinkActionMsgOutProto.fromObject(t.linkAction)}if(null!=t.copyEvent){if("object"!==r(t.copyEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.copyEvent: object expected");e.copyEvent=u.appFrameProtoOut.CopyEventMsgOutProto.fromObject(t.copyEvent)}if(null!=t.pasteRequest){if("object"!==r(t.pasteRequest))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.pasteRequest: object expected");e.pasteRequest=u.appFrameProtoOut.PasteRequestMsgOutProto.fromObject(t.pasteRequest)}if(null!=t.fileDialogEvent){if("object"!==r(t.fileDialogEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.fileDialogEvent: object expected");e.fileDialogEvent=u.appFrameProtoOut.FileDialogEventMsgOutProto.fromObject(t.fileDialogEvent)}if(t.windows){if(!Array.isArray(t.windows))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windows: array expected");e.windows=[];for(var n=0;n<t.windows.length;++n){if("object"!==r(t.windows[n]))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windows: object expected");e.windows[n]=u.appFrameProtoOut.WindowMsgOutProto.fromObject(t.windows[n])}}if(null!=t.closedWindow){if("object"!==r(t.closedWindow))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.closedWindow: object expected");e.closedWindow=u.appFrameProtoOut.WindowMsgOutProto.fromObject(t.closedWindow)}switch(t.event){case"applicationAlreadyRunning":case 0:e.event=0;break;case"shutDownNotification":case 1:e.event=1;break;case"tooManyClientsNotification":case 2:e.event=2;break;case"continueOldSession":case 3:e.event=3;break;case"configurationError":case 4:e.event=4;break;case"sessionStolenNotification":case 5:e.event=5;break;case"unauthorizedAccess":case 6:e.event=6;break;case"shutDownAutoLogoutNotification":case 7:e.event=7;break;case"sessionTimeoutWarning":case 8:e.event=8;break;case"sessionTimedOutNotification":case 9:e.event=9;break;case"applicationBusy":case 10:e.event=10;break;case"reconnectInstanceNotFound":case 11:e.event=11}if(null!=t.jsRequest){if("object"!==r(t.jsRequest))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.jsRequest: object expected");e.jsRequest=u.appFrameProtoOut.JsEvalRequestMsgOutProto.fromObject(t.jsRequest)}if(null!=t.javaResponse){if("object"!==r(t.javaResponse))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.javaResponse: object expected");e.javaResponse=u.appFrameProtoOut.JsResultMsgOutProto.fromObject(t.javaResponse)}if(null!=t.pixelsRequest){if("object"!==r(t.pixelsRequest))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.pixelsRequest: object expected");e.pixelsRequest=u.appFrameProtoOut.PixelsAreaRequestMsgOutProto.fromObject(t.pixelsRequest)}if(null!=t.playback){if("object"!==r(t.playback))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.playback: object expected");e.playback=u.appFrameProtoOut.PlaybackInfoMsgOutProto.fromObject(t.playback)}if(null!=t.instanceId&&(e.instanceId=String(t.instanceId)),null!=t.startTimestamp&&(e.startTimestamp=String(t.startTimestamp)),null!=t.sendTimestamp&&(e.sendTimestamp=String(t.sendTimestamp)),null!=t.focusEvent){if("object"!==r(t.focusEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.focusEvent: object expected");e.focusEvent=u.appFrameProtoOut.FocusEventMsgOutProto.fromObject(t.focusEvent)}if(t.componentTree){if(!Array.isArray(t.componentTree))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.componentTree: array expected");for(e.componentTree=[],n=0;n<t.componentTree.length;++n){if("object"!==r(t.componentTree[n]))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.componentTree: object expected");e.componentTree[n]=u.appFrameProtoOut.ComponentTreeMsgOutProto.fromObject(t.componentTree[n])}}if(null!=t.directDraw&&(e.directDraw=Boolean(t.directDraw)),null!=t.actionEvent){if("object"!==r(t.actionEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.actionEvent: object expected");e.actionEvent=u.appFrameProtoOut.ActionEventMsgOutProto.fromObject(t.actionEvent)}if(null!=t.audioEvent){if("object"!==r(t.audioEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.audioEvent: object expected");e.audioEvent=u.appFrameProtoOut.AudioEventMsgOutProto.fromObject(t.audioEvent)}if(null!=t.accessible){if("object"!==r(t.accessible))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.accessible: object expected");e.accessible=u.appFrameProtoOut.AccessibilityMsgOutProto.fromObject(t.accessible)}if(t.windowSwitchList){if(!Array.isArray(t.windowSwitchList))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windowSwitchList: array expected");for(e.windowSwitchList=[],n=0;n<t.windowSwitchList.length;++n){if("object"!==r(t.windowSwitchList[n]))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windowSwitchList: object expected");e.windowSwitchList[n]=u.appFrameProtoOut.WindowSwitchMsgOutProto.fromObject(t.windowSwitchList[n])}}if(null!=t.cursorChangeEvent){if("object"!==r(t.cursorChangeEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.cursorChangeEvent: object expected");e.cursorChangeEvent=u.appFrameProtoOut.CursorChangeEventMsgOutProto.fromObject(t.cursorChangeEvent)}if(null!=t.undockEvent){if("object"!==r(t.undockEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.undockEvent: object expected");e.undockEvent=u.appFrameProtoOut.WindowUndockEventMsgOutProto.fromObject(t.undockEvent)}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.windows=[],n.componentTree=[],n.windowSwitchList=[]),e.defaults&&(n.startApplication=null,n.linkAction=null,n.copyEvent=null,n.pasteRequest=null,n.fileDialogEvent=null,n.closedWindow=null,n.event=e.enums===String?"applicationAlreadyRunning":0,n.jsRequest=null,n.javaResponse=null,n.pixelsRequest=null,n.playback=null,n.instanceId="",n.startTimestamp="",n.sendTimestamp="",n.focusEvent=null,n.directDraw=!1,n.actionEvent=null,n.audioEvent=null,n.accessible=null,n.cursorChangeEvent=null,n.undockEvent=null),null!=t.startApplication&&t.hasOwnProperty("startApplication")&&(n.startApplication=u.appFrameProtoOut.StartApplicationMsgOutProto.toObject(t.startApplication,e)),null!=t.linkAction&&t.hasOwnProperty("linkAction")&&(n.linkAction=u.appFrameProtoOut.LinkActionMsgOutProto.toObject(t.linkAction,e)),null!=t.copyEvent&&t.hasOwnProperty("copyEvent")&&(n.copyEvent=u.appFrameProtoOut.CopyEventMsgOutProto.toObject(t.copyEvent,e)),null!=t.pasteRequest&&t.hasOwnProperty("pasteRequest")&&(n.pasteRequest=u.appFrameProtoOut.PasteRequestMsgOutProto.toObject(t.pasteRequest,e)),null!=t.fileDialogEvent&&t.hasOwnProperty("fileDialogEvent")&&(n.fileDialogEvent=u.appFrameProtoOut.FileDialogEventMsgOutProto.toObject(t.fileDialogEvent,e)),t.windows&&t.windows.length){n.windows=[];for(var r=0;r<t.windows.length;++r)n.windows[r]=u.appFrameProtoOut.WindowMsgOutProto.toObject(t.windows[r],e)}if(null!=t.closedWindow&&t.hasOwnProperty("closedWindow")&&(n.closedWindow=u.appFrameProtoOut.WindowMsgOutProto.toObject(t.closedWindow,e)),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?u.appFrameProtoOut.SimpleEventMsgOutProto[t.event]:t.event),null!=t.jsRequest&&t.hasOwnProperty("jsRequest")&&(n.jsRequest=u.appFrameProtoOut.JsEvalRequestMsgOutProto.toObject(t.jsRequest,e)),null!=t.javaResponse&&t.hasOwnProperty("javaResponse")&&(n.javaResponse=u.appFrameProtoOut.JsResultMsgOutProto.toObject(t.javaResponse,e)),null!=t.pixelsRequest&&t.hasOwnProperty("pixelsRequest")&&(n.pixelsRequest=u.appFrameProtoOut.PixelsAreaRequestMsgOutProto.toObject(t.pixelsRequest,e)),null!=t.playback&&t.hasOwnProperty("playback")&&(n.playback=u.appFrameProtoOut.PlaybackInfoMsgOutProto.toObject(t.playback,e)),null!=t.instanceId&&t.hasOwnProperty("instanceId")&&(n.instanceId=t.instanceId),null!=t.startTimestamp&&t.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.startTimestamp),null!=t.sendTimestamp&&t.hasOwnProperty("sendTimestamp")&&(n.sendTimestamp=t.sendTimestamp),null!=t.focusEvent&&t.hasOwnProperty("focusEvent")&&(n.focusEvent=u.appFrameProtoOut.FocusEventMsgOutProto.toObject(t.focusEvent,e)),t.componentTree&&t.componentTree.length)for(n.componentTree=[],r=0;r<t.componentTree.length;++r)n.componentTree[r]=u.appFrameProtoOut.ComponentTreeMsgOutProto.toObject(t.componentTree[r],e);if(null!=t.directDraw&&t.hasOwnProperty("directDraw")&&(n.directDraw=t.directDraw),null!=t.actionEvent&&t.hasOwnProperty("actionEvent")&&(n.actionEvent=u.appFrameProtoOut.ActionEventMsgOutProto.toObject(t.actionEvent,e)),null!=t.audioEvent&&t.hasOwnProperty("audioEvent")&&(n.audioEvent=u.appFrameProtoOut.AudioEventMsgOutProto.toObject(t.audioEvent,e)),null!=t.accessible&&t.hasOwnProperty("accessible")&&(n.accessible=u.appFrameProtoOut.AccessibilityMsgOutProto.toObject(t.accessible,e)),t.windowSwitchList&&t.windowSwitchList.length)for(n.windowSwitchList=[],r=0;r<t.windowSwitchList.length;++r)n.windowSwitchList[r]=u.appFrameProtoOut.WindowSwitchMsgOutProto.toObject(t.windowSwitchList[r],e);return null!=t.cursorChangeEvent&&t.hasOwnProperty("cursorChangeEvent")&&(n.cursorChangeEvent=u.appFrameProtoOut.CursorChangeEventMsgOutProto.toObject(t.cursorChangeEvent,e)),null!=t.undockEvent&&t.hasOwnProperty("undockEvent")&&(n.undockEvent=u.appFrameProtoOut.WindowUndockEventMsgOutProto.toObject(t.undockEvent,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.AccessibilityMsgOutProto=function(){function t(t){if(this.states=[],this.hierarchy=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.role="",t.prototype.text="",t.prototype.tooltip="",t.prototype.value="",t.prototype.description="",t.prototype.columnheader="",t.prototype.password=!1,t.prototype.toggle=!1,t.prototype.selstart=0,t.prototype.selend=0,t.prototype.rowheight=0,t.prototype.rows=0,t.prototype.size=0,t.prototype.position=0,t.prototype.level=0,t.prototype.colindex=0,t.prototype.rowindex=0,t.prototype.colcount=0,t.prototype.rowcount=0,t.prototype.states=l.emptyArray,t.prototype.min=0,t.prototype.max=0,t.prototype.val=0,t.prototype.screenX=0,t.prototype.screenY=0,t.prototype.width=0,t.prototype.height=0,t.prototype.hierarchy=l.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.AccessibilityMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.role=t.string();break;case 3:r.text=t.string();break;case 4:r.tooltip=t.string();break;case 5:r.value=t.string();break;case 6:r.description=t.string();break;case 7:r.columnheader=t.string();break;case 8:r.password=t.bool();break;case 9:r.toggle=t.bool();break;case 10:r.selstart=t.sint32();break;case 11:r.selend=t.sint32();break;case 12:r.rowheight=t.sint32();break;case 13:r.rows=t.sint32();break;case 14:r.size=t.sint32();break;case 15:r.position=t.sint32();break;case 16:r.level=t.sint32();break;case 17:r.colindex=t.sint32();break;case 18:r.rowindex=t.sint32();break;case 19:r.colcount=t.sint32();break;case 20:r.rowcount=t.sint32();break;case 21:r.states&&r.states.length||(r.states=[]),r.states.push(t.string());break;case 22:r.min=t.sint32();break;case 23:r.max=t.sint32();break;case 24:r.val=t.sint32();break;case 25:r.screenX=t.sint32();break;case 26:r.screenY=t.sint32();break;case 27:r.width=t.sint32();break;case 28:r.height=t.sint32();break;case 29:r.hierarchy&&r.hierarchy.length||(r.hierarchy=[]),r.hierarchy.push(u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.AccessibilityMsgOutProto)return t;var e=new u.appFrameProtoOut.AccessibilityMsgOutProto;if(null!=t.id&&(e.id=String(t.id)),null!=t.role&&(e.role=String(t.role)),null!=t.text&&(e.text=String(t.text)),null!=t.tooltip&&(e.tooltip=String(t.tooltip)),null!=t.value&&(e.value=String(t.value)),null!=t.description&&(e.description=String(t.description)),null!=t.columnheader&&(e.columnheader=String(t.columnheader)),null!=t.password&&(e.password=Boolean(t.password)),null!=t.toggle&&(e.toggle=Boolean(t.toggle)),null!=t.selstart&&(e.selstart=0|t.selstart),null!=t.selend&&(e.selend=0|t.selend),null!=t.rowheight&&(e.rowheight=0|t.rowheight),null!=t.rows&&(e.rows=0|t.rows),null!=t.size&&(e.size=0|t.size),null!=t.position&&(e.position=0|t.position),null!=t.level&&(e.level=0|t.level),null!=t.colindex&&(e.colindex=0|t.colindex),null!=t.rowindex&&(e.rowindex=0|t.rowindex),null!=t.colcount&&(e.colcount=0|t.colcount),null!=t.rowcount&&(e.rowcount=0|t.rowcount),t.states){if(!Array.isArray(t.states))throw TypeError(".appFrameProtoOut.AccessibilityMsgOutProto.states: array expected");e.states=[];for(var n=0;n<t.states.length;++n)e.states[n]=String(t.states[n])}if(null!=t.min&&(e.min=0|t.min),null!=t.max&&(e.max=0|t.max),null!=t.val&&(e.val=0|t.val),null!=t.screenX&&(e.screenX=0|t.screenX),null!=t.screenY&&(e.screenY=0|t.screenY),null!=t.width&&(e.width=0|t.width),null!=t.height&&(e.height=0|t.height),t.hierarchy){if(!Array.isArray(t.hierarchy))throw TypeError(".appFrameProtoOut.AccessibilityMsgOutProto.hierarchy: array expected");for(e.hierarchy=[],n=0;n<t.hierarchy.length;++n){if("object"!==r(t.hierarchy[n]))throw TypeError(".appFrameProtoOut.AccessibilityMsgOutProto.hierarchy: object expected");e.hierarchy[n]=u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto.fromObject(t.hierarchy[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.states=[],n.hierarchy=[]),e.defaults&&(n.id="",n.role="",n.text="",n.tooltip="",n.value="",n.description="",n.columnheader="",n.password=!1,n.toggle=!1,n.selstart=0,n.selend=0,n.rowheight=0,n.rows=0,n.size=0,n.position=0,n.level=0,n.colindex=0,n.rowindex=0,n.colcount=0,n.rowcount=0,n.min=0,n.max=0,n.val=0,n.screenX=0,n.screenY=0,n.width=0,n.height=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.role&&t.hasOwnProperty("role")&&(n.role=t.role),null!=t.text&&t.hasOwnProperty("text")&&(n.text=t.text),null!=t.tooltip&&t.hasOwnProperty("tooltip")&&(n.tooltip=t.tooltip),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),null!=t.description&&t.hasOwnProperty("description")&&(n.description=t.description),null!=t.columnheader&&t.hasOwnProperty("columnheader")&&(n.columnheader=t.columnheader),null!=t.password&&t.hasOwnProperty("password")&&(n.password=t.password),null!=t.toggle&&t.hasOwnProperty("toggle")&&(n.toggle=t.toggle),null!=t.selstart&&t.hasOwnProperty("selstart")&&(n.selstart=t.selstart),null!=t.selend&&t.hasOwnProperty("selend")&&(n.selend=t.selend),null!=t.rowheight&&t.hasOwnProperty("rowheight")&&(n.rowheight=t.rowheight),null!=t.rows&&t.hasOwnProperty("rows")&&(n.rows=t.rows),null!=t.size&&t.hasOwnProperty("size")&&(n.size=t.size),null!=t.position&&t.hasOwnProperty("position")&&(n.position=t.position),null!=t.level&&t.hasOwnProperty("level")&&(n.level=t.level),null!=t.colindex&&t.hasOwnProperty("colindex")&&(n.colindex=t.colindex),null!=t.rowindex&&t.hasOwnProperty("rowindex")&&(n.rowindex=t.rowindex),null!=t.colcount&&t.hasOwnProperty("colcount")&&(n.colcount=t.colcount),null!=t.rowcount&&t.hasOwnProperty("rowcount")&&(n.rowcount=t.rowcount),t.states&&t.states.length){n.states=[];for(var r=0;r<t.states.length;++r)n.states[r]=t.states[r]}if(null!=t.min&&t.hasOwnProperty("min")&&(n.min=t.min),null!=t.max&&t.hasOwnProperty("max")&&(n.max=t.max),null!=t.val&&t.hasOwnProperty("val")&&(n.val=t.val),null!=t.screenX&&t.hasOwnProperty("screenX")&&(n.screenX=t.screenX),null!=t.screenY&&t.hasOwnProperty("screenY")&&(n.screenY=t.screenY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),t.hierarchy&&t.hierarchy.length)for(n.hierarchy=[],r=0;r<t.hierarchy.length;++r)n.hierarchy[r]=u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto.toObject(t.hierarchy[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.AccessibilityHierarchyMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.role="",t.prototype.text="",t.prototype.position=0,t.prototype.size=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.role=t.string();break;case 3:r.text=t.string();break;case 4:r.position=t.sint32();break;case 5:r.size=t.sint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto)return t;var e=new u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto;return null!=t.id&&(e.id=String(t.id)),null!=t.role&&(e.role=String(t.role)),null!=t.text&&(e.text=String(t.text)),null!=t.position&&(e.position=0|t.position),null!=t.size&&(e.size=0|t.size),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.role="",n.text="",n.position=0,n.size=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.role&&t.hasOwnProperty("role")&&(n.role=t.role),null!=t.text&&t.hasOwnProperty("text")&&(n.text=t.text),null!=t.position&&t.hasOwnProperty("position")&&(n.position=t.position),null!=t.size&&t.hasOwnProperty("size")&&(n.size=t.size),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.FocusEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=1,t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.prototype.caretX=0,t.prototype.caretY=0,t.prototype.caretH=0,t.prototype.editable=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.FocusEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.type=t.int32();break;case 2:r.x=t.sint32();break;case 3:r.y=t.sint32();break;case 4:r.w=t.uint32();break;case 5:r.h=t.uint32();break;case 6:r.caretX=t.sint32();break;case 7:r.caretY=t.sint32();break;case 8:r.caretH=t.sint32();break;case 9:r.editable=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("type"))throw l.ProtocolError("missing required 'type'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.FocusEventMsgOutProto)return t;var e=new u.appFrameProtoOut.FocusEventMsgOutProto;switch(t.type){case"focusLost":case 1:e.type=1;break;case"focusGained":case 2:e.type=2;break;case"focusWithCarretGained":case 3:e.type=3;break;case"focusPasswordGained":case 4:e.type=4}return null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),null!=t.w&&(e.w=t.w>>>0),null!=t.h&&(e.h=t.h>>>0),null!=t.caretX&&(e.caretX=0|t.caretX),null!=t.caretY&&(e.caretY=0|t.caretY),null!=t.caretH&&(e.caretH=0|t.caretH),null!=t.editable&&(e.editable=Boolean(t.editable)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"focusLost":1,n.x=0,n.y=0,n.w=0,n.h=0,n.caretX=0,n.caretY=0,n.caretH=0,n.editable=!1),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?u.appFrameProtoOut.FocusEventMsgOutProto.FocusEventTypeProto[t.type]:t.type),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=t.h),null!=t.caretX&&t.hasOwnProperty("caretX")&&(n.caretX=t.caretX),null!=t.caretY&&t.hasOwnProperty("caretY")&&(n.caretY=t.caretY),null!=t.caretH&&t.hasOwnProperty("caretH")&&(n.caretH=t.caretH),null!=t.editable&&t.hasOwnProperty("editable")&&(n.editable=t.editable),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.FocusEventTypeProto=(e={},(n=Object.create(e))[e[1]="focusLost"]=1,n[e[2]="focusGained"]=2,n[e[3]="focusWithCarretGained"]=3,n[e[4]="focusPasswordGained"]=4,n),t}(),a.StartApplicationMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.StartApplicationMsgOutProto;t.pos<n;){var o=t.uint32();t.skipType(7&o)}return r},t.fromObject=function(t){return t instanceof u.appFrameProtoOut.StartApplicationMsgOutProto?t:new u.appFrameProtoOut.StartApplicationMsgOutProto},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.LinkActionMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.action=0,t.prototype.src="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.LinkActionMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.action=t.int32();break;case 2:r.src=t.string();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("action"))throw l.ProtocolError("missing required 'action'",{instance:r});if(!r.hasOwnProperty("src"))throw l.ProtocolError("missing required 'src'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.LinkActionMsgOutProto)return t;var e=new u.appFrameProtoOut.LinkActionMsgOutProto;switch(t.action){case"file":case 0:e.action=0;break;case"url":case 1:e.action=1;break;case"print":case 2:e.action=2;break;case"redirect":case 3:e.action=3}return null!=t.src&&(e.src=String(t.src)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.action=e.enums===String?"file":0,n.src=""),null!=t.action&&t.hasOwnProperty("action")&&(n.action=e.enums===String?u.appFrameProtoOut.LinkActionMsgOutProto.LinkActionTypeProto[t.action]:t.action),null!=t.src&&t.hasOwnProperty("src")&&(n.src=t.src),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.LinkActionTypeProto=(e={},(n=Object.create(e))[e[0]="file"]=0,n[e[1]="url"]=1,n[e[2]="print"]=2,n[e[3]="redirect"]=3,n),t}(),a.CopyEventMsgOutProto=function(){function t(t){if(this.files=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.text="",t.prototype.html="",t.prototype.img=l.newBuffer([]),t.prototype.files=l.emptyArray,t.prototype.other=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.CopyEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.text=t.string();break;case 2:r.html=t.string();break;case 3:r.img=t.bytes();break;case 4:r.files&&r.files.length||(r.files=[]),r.files.push(t.string());break;case 5:r.other=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.CopyEventMsgOutProto)return t;var e=new u.appFrameProtoOut.CopyEventMsgOutProto;if(null!=t.text&&(e.text=String(t.text)),null!=t.html&&(e.html=String(t.html)),null!=t.img&&("string"==typeof t.img?l.base64.decode(t.img,e.img=l.newBuffer(l.base64.length(t.img)),0):t.img.length&&(e.img=t.img)),t.files){if(!Array.isArray(t.files))throw TypeError(".appFrameProtoOut.CopyEventMsgOutProto.files: array expected");e.files=[];for(var n=0;n<t.files.length;++n)e.files[n]=String(t.files[n])}return null!=t.other&&(e.other=Boolean(t.other)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.files=[]),e.defaults&&(n.text="",n.html="",e.bytes===String?n.img="":(n.img=[],e.bytes!==Array&&(n.img=l.newBuffer(n.img))),n.other=!1),null!=t.text&&t.hasOwnProperty("text")&&(n.text=t.text),null!=t.html&&t.hasOwnProperty("html")&&(n.html=t.html),null!=t.img&&t.hasOwnProperty("img")&&(n.img=e.bytes===String?l.base64.encode(t.img,0,t.img.length):e.bytes===Array?Array.prototype.slice.call(t.img):t.img),t.files&&t.files.length){n.files=[];for(var r=0;r<t.files.length;++r)n.files[r]=t.files[r]}return null!=t.other&&t.hasOwnProperty("other")&&(n.other=t.other),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.PasteRequestMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.title="",t.prototype.message="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.PasteRequestMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.title=t.string();break;case 2:r.message=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.PasteRequestMsgOutProto)return t;var e=new u.appFrameProtoOut.PasteRequestMsgOutProto;return null!=t.title&&(e.title=String(t.title)),null!=t.message&&(e.message=String(t.message)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.title="",n.message=""),null!=t.title&&t.hasOwnProperty("title")&&(n.title=t.title),null!=t.message&&t.hasOwnProperty("message")&&(n.message=t.message),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.FileDialogEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.eventType=0,t.prototype.allowDownload=!1,t.prototype.allowUpload=!1,t.prototype.allowDelete=!1,t.prototype.filter="",t.prototype.isMultiSelection=!1,t.prototype.selection="",t.prototype.customDialog=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.FileDialogEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.eventType=t.int32();break;case 2:r.allowDownload=t.bool();break;case 3:r.allowUpload=t.bool();break;case 4:r.allowDelete=t.bool();break;case 5:r.filter=t.string();break;case 6:r.isMultiSelection=t.bool();break;case 7:r.selection=t.string();break;case 8:r.customDialog=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("eventType"))throw l.ProtocolError("missing required 'eventType'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.FileDialogEventMsgOutProto)return t;var e=new u.appFrameProtoOut.FileDialogEventMsgOutProto;switch(t.eventType){case"Open":case 0:e.eventType=0;break;case"Close":case 1:e.eventType=1;break;case"AutoUpload":case 2:e.eventType=2;break;case"AutoSave":case 3:e.eventType=3}return null!=t.allowDownload&&(e.allowDownload=Boolean(t.allowDownload)),null!=t.allowUpload&&(e.allowUpload=Boolean(t.allowUpload)),null!=t.allowDelete&&(e.allowDelete=Boolean(t.allowDelete)),null!=t.filter&&(e.filter=String(t.filter)),null!=t.isMultiSelection&&(e.isMultiSelection=Boolean(t.isMultiSelection)),null!=t.selection&&(e.selection=String(t.selection)),null!=t.customDialog&&(e.customDialog=Boolean(t.customDialog)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.eventType=e.enums===String?"Open":0,n.allowDownload=!1,n.allowUpload=!1,n.allowDelete=!1,n.filter="",n.isMultiSelection=!1,n.selection="",n.customDialog=!1),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=e.enums===String?u.appFrameProtoOut.FileDialogEventMsgOutProto.FileDialogEventTypeProto[t.eventType]:t.eventType),null!=t.allowDownload&&t.hasOwnProperty("allowDownload")&&(n.allowDownload=t.allowDownload),null!=t.allowUpload&&t.hasOwnProperty("allowUpload")&&(n.allowUpload=t.allowUpload),null!=t.allowDelete&&t.hasOwnProperty("allowDelete")&&(n.allowDelete=t.allowDelete),null!=t.filter&&t.hasOwnProperty("filter")&&(n.filter=t.filter),null!=t.isMultiSelection&&t.hasOwnProperty("isMultiSelection")&&(n.isMultiSelection=t.isMultiSelection),null!=t.selection&&t.hasOwnProperty("selection")&&(n.selection=t.selection),null!=t.customDialog&&t.hasOwnProperty("customDialog")&&(n.customDialog=t.customDialog),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.FileDialogEventTypeProto=(e={},(n=Object.create(e))[e[0]="Open"]=0,n[e[1]="Close"]=1,n[e[2]="AutoUpload"]=2,n[e[3]="AutoSave"]=3,n),t}(),a.WindowSwitchMsg=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.title="",t.prototype.modalBlocked=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowSwitchMsg;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.title=t.string();break;case 3:r.modalBlocked=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw l.ProtocolError("missing required 'id'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowSwitchMsg)return t;var e=new u.appFrameProtoOut.WindowSwitchMsg;return null!=t.id&&(e.id=String(t.id)),null!=t.title&&(e.title=String(t.title)),null!=t.modalBlocked&&(e.modalBlocked=Boolean(t.modalBlocked)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.title="",n.modalBlocked=!1),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.title&&t.hasOwnProperty("title")&&(n.title=t.title),null!=t.modalBlocked&&t.hasOwnProperty("modalBlocked")&&(n.modalBlocked=t.modalBlocked),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.WindowMsgOutProto=function(){function t(t){if(this.content=[],this.internalWindows=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.id="",t.prototype.content=l.emptyArray,t.prototype.directDraw=l.newBuffer([]),t.prototype.title="",t.prototype.posX=0,t.prototype.posY=0,t.prototype.width=0,t.prototype.height=0,t.prototype.dpr=0,t.prototype.name="",t.prototype.type=1,t.prototype.modalBlocked=!1,t.prototype.ownerId="",t.prototype.state=0,t.prototype.internalWindows=l.emptyArray,t.prototype.dockMode=1,t.prototype.dockState=1,t.prototype.classType=1,t.prototype.minimized=!1,t.prototype.tabId="",t.prototype.screenPosX=0,t.prototype.screenPosY=0,t.prototype.resizable=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.content&&r.content.length||(r.content=[]),r.content.push(u.appFrameProtoOut.WindowPartialContentMsgOutProto.decode(t,t.uint32()));break;case 3:r.directDraw=t.bytes();break;case 4:r.title=t.string();break;case 5:r.posX=t.sint32();break;case 6:r.posY=t.sint32();break;case 7:r.width=t.uint32();break;case 8:r.height=t.uint32();break;case 9:r.dpr=t.uint32();break;case 10:r.name=t.string();break;case 11:r.type=t.int32();break;case 12:r.modalBlocked=t.bool();break;case 13:r.ownerId=t.string();break;case 14:r.state=t.uint32();break;case 15:r.internalWindows&&r.internalWindows.length||(r.internalWindows=[]),r.internalWindows.push(u.appFrameProtoOut.WindowMsgOutProto.decode(t,t.uint32()));break;case 16:r.dockMode=t.int32();break;case 17:r.dockState=t.int32();break;case 18:r.classType=t.int32();break;case 19:r.minimized=t.bool();break;case 20:r.tabId=t.string();break;case 21:r.screenPosX=t.sint32();break;case 22:r.screenPosY=t.sint32();break;case 23:r.resizable=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw l.ProtocolError("missing required 'id'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowMsgOutProto;if(null!=t.id&&(e.id=String(t.id)),t.content){if(!Array.isArray(t.content))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.content: array expected");e.content=[];for(var n=0;n<t.content.length;++n){if("object"!==r(t.content[n]))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.content: object expected");e.content[n]=u.appFrameProtoOut.WindowPartialContentMsgOutProto.fromObject(t.content[n])}}switch(null!=t.directDraw&&("string"==typeof t.directDraw?l.base64.decode(t.directDraw,e.directDraw=l.newBuffer(l.base64.length(t.directDraw)),0):t.directDraw.length&&(e.directDraw=t.directDraw)),null!=t.title&&(e.title=String(t.title)),null!=t.posX&&(e.posX=0|t.posX),null!=t.posY&&(e.posY=0|t.posY),null!=t.width&&(e.width=t.width>>>0),null!=t.height&&(e.height=t.height>>>0),null!=t.dpr&&(e.dpr=t.dpr>>>0),null!=t.name&&(e.name=String(t.name)),t.type){case"basic":case 1:e.type=1;break;case"html":case 2:e.type=2;break;case"internal":case 3:e.type=3;break;case"internalHtml":case 4:e.type=4;break;case"internalWrapper":case 5:e.type=5}if(null!=t.modalBlocked&&(e.modalBlocked=Boolean(t.modalBlocked)),null!=t.ownerId&&(e.ownerId=String(t.ownerId)),null!=t.state&&(e.state=t.state>>>0),t.internalWindows){if(!Array.isArray(t.internalWindows))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.internalWindows: array expected");for(e.internalWindows=[],n=0;n<t.internalWindows.length;++n){if("object"!==r(t.internalWindows[n]))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.internalWindows: object expected");e.internalWindows[n]=u.appFrameProtoOut.WindowMsgOutProto.fromObject(t.internalWindows[n])}}switch(t.dockMode){case"none":case 1:e.dockMode=1;break;case"dockable":case 2:e.dockMode=2;break;case"autoUndock":case 3:e.dockMode=3}switch(t.dockState){case"docked":case 1:e.dockState=1;break;case"undocked":case 2:e.dockState=2;break;case"toBeUndocked":case 3:e.dockState=3}switch(t.classType){case"other":case 1:e.classType=1;break;case"Window":case 2:e.classType=2;break;case"JWindow":case 3:e.classType=3;break;case"Dialog":case 4:e.classType=4;break;case"JDialog":case 5:e.classType=5;break;case"Frame":case 6:e.classType=6;break;case"JFrame":case 7:e.classType=7}return null!=t.minimized&&(e.minimized=Boolean(t.minimized)),null!=t.tabId&&(e.tabId=String(t.tabId)),null!=t.screenPosX&&(e.screenPosX=0|t.screenPosX),null!=t.screenPosY&&(e.screenPosY=0|t.screenPosY),null!=t.resizable&&(e.resizable=Boolean(t.resizable)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.content=[],n.internalWindows=[]),e.defaults&&(n.id="",e.bytes===String?n.directDraw="":(n.directDraw=[],e.bytes!==Array&&(n.directDraw=l.newBuffer(n.directDraw))),n.title="",n.posX=0,n.posY=0,n.width=0,n.height=0,n.dpr=0,n.name="",n.type=e.enums===String?"basic":1,n.modalBlocked=!1,n.ownerId="",n.state=0,n.dockMode=e.enums===String?"none":1,n.dockState=e.enums===String?"docked":1,n.classType=e.enums===String?"other":1,n.minimized=!1,n.tabId="",n.screenPosX=0,n.screenPosY=0,n.resizable=!1),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),t.content&&t.content.length){n.content=[];for(var r=0;r<t.content.length;++r)n.content[r]=u.appFrameProtoOut.WindowPartialContentMsgOutProto.toObject(t.content[r],e)}if(null!=t.directDraw&&t.hasOwnProperty("directDraw")&&(n.directDraw=e.bytes===String?l.base64.encode(t.directDraw,0,t.directDraw.length):e.bytes===Array?Array.prototype.slice.call(t.directDraw):t.directDraw),null!=t.title&&t.hasOwnProperty("title")&&(n.title=t.title),null!=t.posX&&t.hasOwnProperty("posX")&&(n.posX=t.posX),null!=t.posY&&t.hasOwnProperty("posY")&&(n.posY=t.posY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),null!=t.dpr&&t.hasOwnProperty("dpr")&&(n.dpr=t.dpr),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?u.appFrameProtoOut.WindowMsgOutProto.WindowTypeProto[t.type]:t.type),null!=t.modalBlocked&&t.hasOwnProperty("modalBlocked")&&(n.modalBlocked=t.modalBlocked),null!=t.ownerId&&t.hasOwnProperty("ownerId")&&(n.ownerId=t.ownerId),null!=t.state&&t.hasOwnProperty("state")&&(n.state=t.state),t.internalWindows&&t.internalWindows.length)for(n.internalWindows=[],r=0;r<t.internalWindows.length;++r)n.internalWindows[r]=u.appFrameProtoOut.WindowMsgOutProto.toObject(t.internalWindows[r],e);return null!=t.dockMode&&t.hasOwnProperty("dockMode")&&(n.dockMode=e.enums===String?u.appFrameProtoOut.WindowMsgOutProto.DockModeProto[t.dockMode]:t.dockMode),null!=t.dockState&&t.hasOwnProperty("dockState")&&(n.dockState=e.enums===String?u.appFrameProtoOut.WindowMsgOutProto.DockStateProto[t.dockState]:t.dockState),null!=t.classType&&t.hasOwnProperty("classType")&&(n.classType=e.enums===String?u.appFrameProtoOut.WindowMsgOutProto.WindowClassTypeProto[t.classType]:t.classType),null!=t.minimized&&t.hasOwnProperty("minimized")&&(n.minimized=t.minimized),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),null!=t.screenPosX&&t.hasOwnProperty("screenPosX")&&(n.screenPosX=t.screenPosX),null!=t.screenPosY&&t.hasOwnProperty("screenPosY")&&(n.screenPosY=t.screenPosY),null!=t.resizable&&t.hasOwnProperty("resizable")&&(n.resizable=t.resizable),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.WindowTypeProto=(e={},(n=Object.create(e))[e[1]="basic"]=1,n[e[2]="html"]=2,n[e[3]="internal"]=3,n[e[4]="internalHtml"]=4,n[e[5]="internalWrapper"]=5,n),t.WindowClassTypeProto=function(){var t={},e=Object.create(t);return e[t[1]="other"]=1,e[t[2]="Window"]=2,e[t[3]="JWindow"]=3,e[t[4]="Dialog"]=4,e[t[5]="JDialog"]=5,e[t[6]="Frame"]=6,e[t[7]="JFrame"]=7,e}(),t.DockModeProto=function(){var t={},e=Object.create(t);return e[t[1]="none"]=1,e[t[2]="dockable"]=2,e[t[3]="autoUndock"]=3,e}(),t.DockStateProto=function(){var t={},e=Object.create(t);return e[t[1]="docked"]=1,e[t[2]="undocked"]=2,e[t[3]="toBeUndocked"]=3,e}(),t}(),a.WindowSwitchMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.title="",t.prototype.modalBlocked=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowSwitchMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.title=t.string();break;case 3:r.modalBlocked=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw l.ProtocolError("missing required 'id'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowSwitchMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowSwitchMsgOutProto;return null!=t.id&&(e.id=String(t.id)),null!=t.title&&(e.title=String(t.title)),null!=t.modalBlocked&&(e.modalBlocked=Boolean(t.modalBlocked)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.title="",n.modalBlocked=!1),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.title&&t.hasOwnProperty("title")&&(n.title=t.title),null!=t.modalBlocked&&t.hasOwnProperty("modalBlocked")&&(n.modalBlocked=t.modalBlocked),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.WindowPartialContentMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.positionX=0,t.prototype.positionY=0,t.prototype.width=0,t.prototype.height=0,t.prototype.base64Content=l.newBuffer([]),t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowPartialContentMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.positionX=t.sint32();break;case 2:r.positionY=t.sint32();break;case 3:r.width=t.uint32();break;case 4:r.height=t.uint32();break;case 5:r.base64Content=t.bytes();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowPartialContentMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowPartialContentMsgOutProto;return null!=t.positionX&&(e.positionX=0|t.positionX),null!=t.positionY&&(e.positionY=0|t.positionY),null!=t.width&&(e.width=t.width>>>0),null!=t.height&&(e.height=t.height>>>0),null!=t.base64Content&&("string"==typeof t.base64Content?l.base64.decode(t.base64Content,e.base64Content=l.newBuffer(l.base64.length(t.base64Content)),0):t.base64Content.length&&(e.base64Content=t.base64Content)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.positionX=0,n.positionY=0,n.width=0,n.height=0,e.bytes===String?n.base64Content="":(n.base64Content=[],e.bytes!==Array&&(n.base64Content=l.newBuffer(n.base64Content)))),null!=t.positionX&&t.hasOwnProperty("positionX")&&(n.positionX=t.positionX),null!=t.positionY&&t.hasOwnProperty("positionY")&&(n.positionY=t.positionY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),null!=t.base64Content&&t.hasOwnProperty("base64Content")&&(n.base64Content=e.bytes===String?l.base64.encode(t.base64Content,0,t.base64Content.length):e.bytes===Array?Array.prototype.slice.call(t.base64Content):t.base64Content),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.SimpleEventMsgOutProto=(o={},(i=Object.create(o))[o[0]="applicationAlreadyRunning"]=0,i[o[1]="shutDownNotification"]=1,i[o[2]="tooManyClientsNotification"]=2,i[o[3]="continueOldSession"]=3,i[o[4]="configurationError"]=4,i[o[5]="sessionStolenNotification"]=5,i[o[6]="unauthorizedAccess"]=6,i[o[7]="shutDownAutoLogoutNotification"]=7,i[o[8]="sessionTimeoutWarning"]=8,i[o[9]="sessionTimedOutNotification"]=9,i[o[10]="applicationBusy"]=10,i[o[11]="reconnectInstanceNotFound"]=11,i),a.JsEvalRequestMsgOutProto=function(){function t(t){if(this.params=[],this.garbageIds=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.thisObjectId="",t.prototype.type=0,t.prototype.evalString="",t.prototype.params=l.emptyArray,t.prototype.garbageIds=l.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JsEvalRequestMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.correlationId=t.string();break;case 2:r.thisObjectId=t.string();break;case 3:r.type=t.int32();break;case 4:r.evalString=t.string();break;case 5:r.params&&r.params.length||(r.params=[]),r.params.push(u.appFrameProtoOut.JsParamMsgOutProto.decode(t,t.uint32()));break;case 6:r.garbageIds&&r.garbageIds.length||(r.garbageIds=[]),r.garbageIds.push(t.string());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JsEvalRequestMsgOutProto)return t;var e=new u.appFrameProtoOut.JsEvalRequestMsgOutProto;switch(null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.thisObjectId&&(e.thisObjectId=String(t.thisObjectId)),t.type){case"eval":case 0:e.type=0;break;case"call":case 1:e.type=1;break;case"setMember":case 2:e.type=2;break;case"getMember":case 3:e.type=3;break;case"deleteMember":case 4:e.type=4;break;case"setSlot":case 5:e.type=5;break;case"getSlot":case 6:e.type=6}if(null!=t.evalString&&(e.evalString=String(t.evalString)),t.params){if(!Array.isArray(t.params))throw TypeError(".appFrameProtoOut.JsEvalRequestMsgOutProto.params: array expected");e.params=[];for(var n=0;n<t.params.length;++n){if("object"!==r(t.params[n]))throw TypeError(".appFrameProtoOut.JsEvalRequestMsgOutProto.params: object expected");e.params[n]=u.appFrameProtoOut.JsParamMsgOutProto.fromObject(t.params[n])}}if(t.garbageIds){if(!Array.isArray(t.garbageIds))throw TypeError(".appFrameProtoOut.JsEvalRequestMsgOutProto.garbageIds: array expected");for(e.garbageIds=[],n=0;n<t.garbageIds.length;++n)e.garbageIds[n]=String(t.garbageIds[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.params=[],n.garbageIds=[]),e.defaults&&(n.correlationId="",n.thisObjectId="",n.type=e.enums===String?"eval":0,n.evalString=""),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.thisObjectId&&t.hasOwnProperty("thisObjectId")&&(n.thisObjectId=t.thisObjectId),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?u.appFrameProtoOut.JsEvalRequestMsgOutProto.JsEvalRequestTypeProto[t.type]:t.type),null!=t.evalString&&t.hasOwnProperty("evalString")&&(n.evalString=t.evalString),t.params&&t.params.length){n.params=[];for(var r=0;r<t.params.length;++r)n.params[r]=u.appFrameProtoOut.JsParamMsgOutProto.toObject(t.params[r],e)}if(t.garbageIds&&t.garbageIds.length)for(n.garbageIds=[],r=0;r<t.garbageIds.length;++r)n.garbageIds[r]=t.garbageIds[r];return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.JsEvalRequestTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="eval"]=0,e[t[1]="call"]=1,e[t[2]="setMember"]=2,e[t[3]="getMember"]=3,e[t[4]="deleteMember"]=4,e[t[5]="setSlot"]=5,e[t[6]="getSlot"]=6,e}(),t}(),a.JsParamMsgOutProto=function(){function t(t){if(this.array=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.primitive="",t.prototype.jsObject=null,t.prototype.javaObject=null,t.prototype.array=l.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JsParamMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.primitive=t.string();break;case 2:r.jsObject=u.appFrameProtoOut.JSObjectMsgOutProto.decode(t,t.uint32());break;case 3:r.javaObject=u.appFrameProtoOut.JavaObjectRefMsgOutProto.decode(t,t.uint32());break;case 4:r.array&&r.array.length||(r.array=[]),r.array.push(u.appFrameProtoOut.JsParamMsgOutProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JsParamMsgOutProto)return t;var e=new u.appFrameProtoOut.JsParamMsgOutProto;if(null!=t.primitive&&(e.primitive=String(t.primitive)),null!=t.jsObject){if("object"!==r(t.jsObject))throw TypeError(".appFrameProtoOut.JsParamMsgOutProto.jsObject: object expected");e.jsObject=u.appFrameProtoOut.JSObjectMsgOutProto.fromObject(t.jsObject)}if(null!=t.javaObject){if("object"!==r(t.javaObject))throw TypeError(".appFrameProtoOut.JsParamMsgOutProto.javaObject: object expected");e.javaObject=u.appFrameProtoOut.JavaObjectRefMsgOutProto.fromObject(t.javaObject)}if(t.array){if(!Array.isArray(t.array))throw TypeError(".appFrameProtoOut.JsParamMsgOutProto.array: array expected");e.array=[];for(var n=0;n<t.array.length;++n){if("object"!==r(t.array[n]))throw TypeError(".appFrameProtoOut.JsParamMsgOutProto.array: object expected");e.array[n]=u.appFrameProtoOut.JsParamMsgOutProto.fromObject(t.array[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.array=[]),e.defaults&&(n.primitive="",n.jsObject=null,n.javaObject=null),null!=t.primitive&&t.hasOwnProperty("primitive")&&(n.primitive=t.primitive),null!=t.jsObject&&t.hasOwnProperty("jsObject")&&(n.jsObject=u.appFrameProtoOut.JSObjectMsgOutProto.toObject(t.jsObject,e)),null!=t.javaObject&&t.hasOwnProperty("javaObject")&&(n.javaObject=u.appFrameProtoOut.JavaObjectRefMsgOutProto.toObject(t.javaObject,e)),t.array&&t.array.length){n.array=[];for(var r=0;r<t.array.length;++r)n.array[r]=u.appFrameProtoOut.JsParamMsgOutProto.toObject(t.array[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.JSObjectMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JSObjectMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JSObjectMsgOutProto)return t;var e=new u.appFrameProtoOut.JSObjectMsgOutProto;return null!=t.id&&(e.id=String(t.id)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.JavaObjectRefMsgOutProto=function(){function t(t){if(this.methods=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.methods=l.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JavaObjectRefMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.methods&&r.methods.length||(r.methods=[]),r.methods.push(t.string());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JavaObjectRefMsgOutProto)return t;var e=new u.appFrameProtoOut.JavaObjectRefMsgOutProto;if(null!=t.id&&(e.id=String(t.id)),t.methods){if(!Array.isArray(t.methods))throw TypeError(".appFrameProtoOut.JavaObjectRefMsgOutProto.methods: array expected");e.methods=[];for(var n=0;n<t.methods.length;++n)e.methods[n]=String(t.methods[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.methods=[]),e.defaults&&(n.id=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),t.methods&&t.methods.length){n.methods=[];for(var r=0;r<t.methods.length;++r)n.methods[r]=t.methods[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.JsResultMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.error="",t.prototype.value=null,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JsResultMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.correlationId=t.string();break;case 2:r.error=t.string();break;case 3:r.value=u.appFrameProtoOut.JsParamMsgOutProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JsResultMsgOutProto)return t;var e=new u.appFrameProtoOut.JsResultMsgOutProto;if(null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.error&&(e.error=String(t.error)),null!=t.value){if("object"!==r(t.value))throw TypeError(".appFrameProtoOut.JsResultMsgOutProto.value: object expected");e.value=u.appFrameProtoOut.JsParamMsgOutProto.fromObject(t.value)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.correlationId="",n.error="",n.value=null),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.error&&t.hasOwnProperty("error")&&(n.error=t.error),null!=t.value&&t.hasOwnProperty("value")&&(n.value=u.appFrameProtoOut.JsParamMsgOutProto.toObject(t.value,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.PlaybackInfoMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.current=0,t.prototype.total=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.PlaybackInfoMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.current=t.uint32();break;case 2:r.total=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.PlaybackInfoMsgOutProto)return t;var e=new u.appFrameProtoOut.PlaybackInfoMsgOutProto;return null!=t.current&&(e.current=t.current>>>0),null!=t.total&&(e.total=t.total>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.current=0,n.total=0),null!=t.current&&t.hasOwnProperty("current")&&(n.current=t.current),null!=t.total&&t.hasOwnProperty("total")&&(n.total=t.total),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.PixelsAreaRequestMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.PixelsAreaRequestMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.correlationId=t.string();break;case 2:r.x=t.uint32();break;case 3:r.y=t.uint32();break;case 4:r.w=t.uint32();break;case 5:r.h=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.PixelsAreaRequestMsgOutProto)return t;var e=new u.appFrameProtoOut.PixelsAreaRequestMsgOutProto;return null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.x&&(e.x=t.x>>>0),null!=t.y&&(e.y=t.y>>>0),null!=t.w&&(e.w=t.w>>>0),null!=t.h&&(e.h=t.h>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.correlationId="",n.x=0,n.y=0,n.w=0,n.h=0),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=t.h),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.ComponentTreeMsgOutProto=function(){function t(t){if(this.components=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.componentType="",t.prototype.name="",t.prototype.value="",t.prototype.screenX=0,t.prototype.screenY=0,t.prototype.width=0,t.prototype.height=0,t.prototype.enabled=!1,t.prototype.visible=!1,t.prototype.components=l.emptyArray,t.prototype.hidden=!1,t.prototype.selected=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.ComponentTreeMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.componentType=t.string();break;case 2:r.name=t.string();break;case 3:r.value=t.string();break;case 4:r.screenX=t.sint32();break;case 5:r.screenY=t.sint32();break;case 6:r.width=t.sint32();break;case 7:r.height=t.sint32();break;case 8:r.enabled=t.bool();break;case 9:r.visible=t.bool();break;case 10:r.components&&r.components.length||(r.components=[]),r.components.push(u.appFrameProtoOut.ComponentTreeMsgOutProto.decode(t,t.uint32()));break;case 11:r.hidden=t.bool();break;case 12:r.selected=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.ComponentTreeMsgOutProto)return t;var e=new u.appFrameProtoOut.ComponentTreeMsgOutProto;if(null!=t.componentType&&(e.componentType=String(t.componentType)),null!=t.name&&(e.name=String(t.name)),null!=t.value&&(e.value=String(t.value)),null!=t.screenX&&(e.screenX=0|t.screenX),null!=t.screenY&&(e.screenY=0|t.screenY),null!=t.width&&(e.width=0|t.width),null!=t.height&&(e.height=0|t.height),null!=t.enabled&&(e.enabled=Boolean(t.enabled)),null!=t.visible&&(e.visible=Boolean(t.visible)),t.components){if(!Array.isArray(t.components))throw TypeError(".appFrameProtoOut.ComponentTreeMsgOutProto.components: array expected");e.components=[];for(var n=0;n<t.components.length;++n){if("object"!==r(t.components[n]))throw TypeError(".appFrameProtoOut.ComponentTreeMsgOutProto.components: object expected");e.components[n]=u.appFrameProtoOut.ComponentTreeMsgOutProto.fromObject(t.components[n])}}return null!=t.hidden&&(e.hidden=Boolean(t.hidden)),null!=t.selected&&(e.selected=Boolean(t.selected)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.components=[]),e.defaults&&(n.componentType="",n.name="",n.value="",n.screenX=0,n.screenY=0,n.width=0,n.height=0,n.enabled=!1,n.visible=!1,n.hidden=!1,n.selected=!1),null!=t.componentType&&t.hasOwnProperty("componentType")&&(n.componentType=t.componentType),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),null!=t.screenX&&t.hasOwnProperty("screenX")&&(n.screenX=t.screenX),null!=t.screenY&&t.hasOwnProperty("screenY")&&(n.screenY=t.screenY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),null!=t.enabled&&t.hasOwnProperty("enabled")&&(n.enabled=t.enabled),null!=t.visible&&t.hasOwnProperty("visible")&&(n.visible=t.visible),t.components&&t.components.length){n.components=[];for(var r=0;r<t.components.length;++r)n.components[r]=u.appFrameProtoOut.ComponentTreeMsgOutProto.toObject(t.components[r],e)}return null!=t.hidden&&t.hasOwnProperty("hidden")&&(n.hidden=t.hidden),null!=t.selected&&t.hasOwnProperty("selected")&&(n.selected=t.selected),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.ActionEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.actionName="",t.prototype.data="",t.prototype.binaryData=l.newBuffer([]),t.prototype.windowId="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.ActionEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.actionName=t.string();break;case 2:r.data=t.string();break;case 3:r.binaryData=t.bytes();break;case 4:r.windowId=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.ActionEventMsgOutProto)return t;var e=new u.appFrameProtoOut.ActionEventMsgOutProto;return null!=t.actionName&&(e.actionName=String(t.actionName)),null!=t.data&&(e.data=String(t.data)),null!=t.binaryData&&("string"==typeof t.binaryData?l.base64.decode(t.binaryData,e.binaryData=l.newBuffer(l.base64.length(t.binaryData)),0):t.binaryData.length&&(e.binaryData=t.binaryData)),null!=t.windowId&&(e.windowId=String(t.windowId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.actionName="",n.data="",e.bytes===String?n.binaryData="":(n.binaryData=[],e.bytes!==Array&&(n.binaryData=l.newBuffer(n.binaryData))),n.windowId=""),null!=t.actionName&&t.hasOwnProperty("actionName")&&(n.actionName=t.actionName),null!=t.data&&t.hasOwnProperty("data")&&(n.data=t.data),null!=t.binaryData&&t.hasOwnProperty("binaryData")&&(n.binaryData=e.bytes===String?l.base64.encode(t.binaryData,0,t.binaryData.length):e.bytes===Array?Array.prototype.slice.call(t.binaryData):t.binaryData),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.AudioEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.eventType=0,t.prototype.data=l.newBuffer([]),t.prototype.time=0,t.prototype.loop=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.AudioEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.eventType=t.int32();break;case 3:r.data=t.bytes();break;case 4:r.time=t.float();break;case 5:r.loop=t.sint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.AudioEventMsgOutProto)return t;var e=new u.appFrameProtoOut.AudioEventMsgOutProto;switch(null!=t.id&&(e.id=String(t.id)),t.eventType){case"play":case 0:e.eventType=0;break;case"stop":case 1:e.eventType=1;break;case"update":case 2:e.eventType=2;break;case"dispose":case 3:e.eventType=3}return null!=t.data&&("string"==typeof t.data?l.base64.decode(t.data,e.data=l.newBuffer(l.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),null!=t.time&&(e.time=Number(t.time)),null!=t.loop&&(e.loop=0|t.loop),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.eventType=e.enums===String?"play":0,e.bytes===String?n.data="":(n.data=[],e.bytes!==Array&&(n.data=l.newBuffer(n.data))),n.time=0,n.loop=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=e.enums===String?u.appFrameProtoOut.AudioEventMsgOutProto.AudioEventTypeProto[t.eventType]:t.eventType),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?l.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),null!=t.time&&t.hasOwnProperty("time")&&(n.time=e.json&&!isFinite(t.time)?String(t.time):t.time),null!=t.loop&&t.hasOwnProperty("loop")&&(n.loop=t.loop),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.AudioEventTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="play"]=0,e[t[1]="stop"]=1,e[t[2]="update"]=2,e[t[3]="dispose"]=3,e}(),t}(),a.CursorChangeEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.cursor="",t.prototype.b64img=l.newBuffer([]),t.prototype.curFile="",t.prototype.x=0,t.prototype.y=0,t.prototype.winId="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.CursorChangeEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.cursor=t.string();break;case 2:r.b64img=t.bytes();break;case 3:r.curFile=t.string();break;case 4:r.x=t.sint32();break;case 5:r.y=t.sint32();break;case 6:r.winId=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.CursorChangeEventMsgOutProto)return t;var e=new u.appFrameProtoOut.CursorChangeEventMsgOutProto;return null!=t.cursor&&(e.cursor=String(t.cursor)),null!=t.b64img&&("string"==typeof t.b64img?l.base64.decode(t.b64img,e.b64img=l.newBuffer(l.base64.length(t.b64img)),0):t.b64img.length&&(e.b64img=t.b64img)),null!=t.curFile&&(e.curFile=String(t.curFile)),null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),null!=t.winId&&(e.winId=String(t.winId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.cursor="",e.bytes===String?n.b64img="":(n.b64img=[],e.bytes!==Array&&(n.b64img=l.newBuffer(n.b64img))),n.curFile="",n.x=0,n.y=0,n.winId=""),null!=t.cursor&&t.hasOwnProperty("cursor")&&(n.cursor=t.cursor),null!=t.b64img&&t.hasOwnProperty("b64img")&&(n.b64img=e.bytes===String?l.base64.encode(t.b64img,0,t.b64img.length):e.bytes===Array?Array.prototype.slice.call(t.b64img):t.b64img),null!=t.curFile&&t.hasOwnProperty("curFile")&&(n.curFile=t.curFile),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.winId&&t.hasOwnProperty("winId")&&(n.winId=t.winId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.WindowUndockEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.windowId="",t.prototype.undock=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowUndockEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.windowId=t.string();break;case 2:r.undock=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowUndockEventMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowUndockEventMsgOutProto;return null!=t.windowId&&(e.windowId=String(t.windowId)),null!=t.undock&&(e.undock=Boolean(t.undock)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.windowId="",n.undock=!1),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),null!=t.undock&&t.hasOwnProperty("undock")&&(n.undock=t.undock),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a),t.exports=u},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i=n(359),a=i.Writer,s=i.util,c=i.roots.default||(i.roots.default={});c.appFrameProtoIn=((o={}).AppFrameMsgInProto=function(){function t(t){if(this.events=[],this.simpleEvents=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.events=s.emptyArray,t.prototype.paste=null,t.prototype.copy=null,t.prototype.upload=null,t.prototype.selected=null,t.prototype.jsResponse=null,t.prototype.javaRequest=null,t.prototype.pixelsResponse=null,t.prototype.window=null,t.prototype.action=null,t.prototype.audio=null,t.prototype.simpleEvents=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.events&&t.events.length)for(var n=0;n<t.events.length;++n)c.appFrameProtoIn.InputEventMsgInProto.encode(t.events[n],e.uint32(10).fork()).ldelim();if(null!=t.paste&&Object.hasOwnProperty.call(t,"paste")&&c.appFrameProtoIn.PasteEventMsgInProto.encode(t.paste,e.uint32(18).fork()).ldelim(),null!=t.copy&&Object.hasOwnProperty.call(t,"copy")&&c.appFrameProtoIn.CopyEventMsgInProto.encode(t.copy,e.uint32(26).fork()).ldelim(),null!=t.upload&&Object.hasOwnProperty.call(t,"upload")&&c.appFrameProtoIn.UploadEventMsgInProto.encode(t.upload,e.uint32(34).fork()).ldelim(),null!=t.selected&&Object.hasOwnProperty.call(t,"selected")&&c.appFrameProtoIn.FilesSelectedEventMsgInProto.encode(t.selected,e.uint32(42).fork()).ldelim(),null!=t.jsResponse&&Object.hasOwnProperty.call(t,"jsResponse")&&c.appFrameProtoIn.JsResultMsgInProto.encode(t.jsResponse,e.uint32(50).fork()).ldelim(),null!=t.javaRequest&&Object.hasOwnProperty.call(t,"javaRequest")&&c.appFrameProtoIn.JavaEvalRequestMsgInProto.encode(t.javaRequest,e.uint32(58).fork()).ldelim(),null!=t.pixelsResponse&&Object.hasOwnProperty.call(t,"pixelsResponse")&&c.appFrameProtoIn.PixelsAreaResponseMsgInProto.encode(t.pixelsResponse,e.uint32(66).fork()).ldelim(),null!=t.window&&Object.hasOwnProperty.call(t,"window")&&c.appFrameProtoIn.WindowEventMsgInProto.encode(t.window,e.uint32(74).fork()).ldelim(),null!=t.action&&Object.hasOwnProperty.call(t,"action")&&c.appFrameProtoIn.ActionEventMsgInProto.encode(t.action,e.uint32(82).fork()).ldelim(),null!=t.audio&&Object.hasOwnProperty.call(t,"audio")&&c.appFrameProtoIn.AudioEventMsgInProto.encode(t.audio,e.uint32(90).fork()).ldelim(),null!=t.simpleEvents&&t.simpleEvents.length)for(n=0;n<t.simpleEvents.length;++n)c.appFrameProtoIn.SimpleEventMsgInProto.encode(t.simpleEvents[n],e.uint32(98).fork()).ldelim();return e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.AppFrameMsgInProto)return t;var e=new c.appFrameProtoIn.AppFrameMsgInProto;if(t.events){if(!Array.isArray(t.events))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.events: array expected");e.events=[];for(var n=0;n<t.events.length;++n){if("object"!==r(t.events[n]))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.events: object expected");e.events[n]=c.appFrameProtoIn.InputEventMsgInProto.fromObject(t.events[n])}}if(null!=t.paste){if("object"!==r(t.paste))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.paste: object expected");e.paste=c.appFrameProtoIn.PasteEventMsgInProto.fromObject(t.paste)}if(null!=t.copy){if("object"!==r(t.copy))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.copy: object expected");e.copy=c.appFrameProtoIn.CopyEventMsgInProto.fromObject(t.copy)}if(null!=t.upload){if("object"!==r(t.upload))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.upload: object expected");e.upload=c.appFrameProtoIn.UploadEventMsgInProto.fromObject(t.upload)}if(null!=t.selected){if("object"!==r(t.selected))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.selected: object expected");e.selected=c.appFrameProtoIn.FilesSelectedEventMsgInProto.fromObject(t.selected)}if(null!=t.jsResponse){if("object"!==r(t.jsResponse))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.jsResponse: object expected");e.jsResponse=c.appFrameProtoIn.JsResultMsgInProto.fromObject(t.jsResponse)}if(null!=t.javaRequest){if("object"!==r(t.javaRequest))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.javaRequest: object expected");e.javaRequest=c.appFrameProtoIn.JavaEvalRequestMsgInProto.fromObject(t.javaRequest)}if(null!=t.pixelsResponse){if("object"!==r(t.pixelsResponse))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.pixelsResponse: object expected");e.pixelsResponse=c.appFrameProtoIn.PixelsAreaResponseMsgInProto.fromObject(t.pixelsResponse)}if(null!=t.window){if("object"!==r(t.window))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.window: object expected");e.window=c.appFrameProtoIn.WindowEventMsgInProto.fromObject(t.window)}if(null!=t.action){if("object"!==r(t.action))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.action: object expected");e.action=c.appFrameProtoIn.ActionEventMsgInProto.fromObject(t.action)}if(null!=t.audio){if("object"!==r(t.audio))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.audio: object expected");e.audio=c.appFrameProtoIn.AudioEventMsgInProto.fromObject(t.audio)}if(t.simpleEvents){if(!Array.isArray(t.simpleEvents))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.simpleEvents: array expected");for(e.simpleEvents=[],n=0;n<t.simpleEvents.length;++n){if("object"!==r(t.simpleEvents[n]))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.simpleEvents: object expected");e.simpleEvents[n]=c.appFrameProtoIn.SimpleEventMsgInProto.fromObject(t.simpleEvents[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.events=[],n.simpleEvents=[]),e.defaults&&(n.paste=null,n.copy=null,n.upload=null,n.selected=null,n.jsResponse=null,n.javaRequest=null,n.pixelsResponse=null,n.window=null,n.action=null,n.audio=null),t.events&&t.events.length){n.events=[];for(var r=0;r<t.events.length;++r)n.events[r]=c.appFrameProtoIn.InputEventMsgInProto.toObject(t.events[r],e)}if(null!=t.paste&&t.hasOwnProperty("paste")&&(n.paste=c.appFrameProtoIn.PasteEventMsgInProto.toObject(t.paste,e)),null!=t.copy&&t.hasOwnProperty("copy")&&(n.copy=c.appFrameProtoIn.CopyEventMsgInProto.toObject(t.copy,e)),null!=t.upload&&t.hasOwnProperty("upload")&&(n.upload=c.appFrameProtoIn.UploadEventMsgInProto.toObject(t.upload,e)),null!=t.selected&&t.hasOwnProperty("selected")&&(n.selected=c.appFrameProtoIn.FilesSelectedEventMsgInProto.toObject(t.selected,e)),null!=t.jsResponse&&t.hasOwnProperty("jsResponse")&&(n.jsResponse=c.appFrameProtoIn.JsResultMsgInProto.toObject(t.jsResponse,e)),null!=t.javaRequest&&t.hasOwnProperty("javaRequest")&&(n.javaRequest=c.appFrameProtoIn.JavaEvalRequestMsgInProto.toObject(t.javaRequest,e)),null!=t.pixelsResponse&&t.hasOwnProperty("pixelsResponse")&&(n.pixelsResponse=c.appFrameProtoIn.PixelsAreaResponseMsgInProto.toObject(t.pixelsResponse,e)),null!=t.window&&t.hasOwnProperty("window")&&(n.window=c.appFrameProtoIn.WindowEventMsgInProto.toObject(t.window,e)),null!=t.action&&t.hasOwnProperty("action")&&(n.action=c.appFrameProtoIn.ActionEventMsgInProto.toObject(t.action,e)),null!=t.audio&&t.hasOwnProperty("audio")&&(n.audio=c.appFrameProtoIn.AudioEventMsgInProto.toObject(t.audio,e)),t.simpleEvents&&t.simpleEvents.length)for(n.simpleEvents=[],r=0;r<t.simpleEvents.length;++r)n.simpleEvents[r]=c.appFrameProtoIn.SimpleEventMsgInProto.toObject(t.simpleEvents[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.SimpleEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).int32(t.type),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.SimpleEventMsgInProto)return t;var e=new c.appFrameProtoIn.SimpleEventMsgInProto;switch(t.type){case"killSwing":case 1:e.type=1;break;case"killSwingAdmin":case 2:e.type=2;break;case"paintAck":case 3:e.type=3;break;case"repaint":case 4:e.type=4;break;case"downloadFile":case 5:e.type=5;break;case"deleteFile":case 6:e.type=6;break;case"cancelFileSelection":case 7:e.type=7;break;case"requestComponentTree":case 8:e.type=8;break;case"requestWindowSwitchList":case 9:e.type=9;break;case"enableStatisticsLogging":case 10:e.type=10;break;case"disableStatisticsLogging":case 11:e.type=11;break;case"startRecording":case 12:e.type=12;break;case"stopRecording":case 13:e.type=13;break;case"startMirroring":case 14:e.type=14;break;case"stopMirroring":case 15:e.type=15}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"killSwing":1),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?c.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto[t.type]:t.type),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.SimpleEventTypeProto=(e={},(n=Object.create(e))[e[1]="killSwing"]=1,n[e[2]="killSwingAdmin"]=2,n[e[3]="paintAck"]=3,n[e[4]="repaint"]=4,n[e[5]="downloadFile"]=5,n[e[6]="deleteFile"]=6,n[e[7]="cancelFileSelection"]=7,n[e[8]="requestComponentTree"]=8,n[e[9]="requestWindowSwitchList"]=9,n[e[10]="enableStatisticsLogging"]=10,n[e[11]="disableStatisticsLogging"]=11,n[e[12]="startRecording"]=12,n[e[13]="stopRecording"]=13,n[e[14]="startMirroring"]=14,n[e[15]="stopMirroring"]=15,n),t}(),o.InputEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.key=null,t.prototype.mouse=null,t.prototype.focus=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&c.appFrameProtoIn.KeyboardEventMsgInProto.encode(t.key,e.uint32(10).fork()).ldelim(),null!=t.mouse&&Object.hasOwnProperty.call(t,"mouse")&&c.appFrameProtoIn.MouseEventMsgInProto.encode(t.mouse,e.uint32(18).fork()).ldelim(),null!=t.focus&&Object.hasOwnProperty.call(t,"focus")&&c.appFrameProtoIn.WindowFocusMsgInProto.encode(t.focus,e.uint32(26).fork()).ldelim(),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.InputEventMsgInProto)return t;var e=new c.appFrameProtoIn.InputEventMsgInProto;if(null!=t.key){if("object"!==r(t.key))throw TypeError(".appFrameProtoIn.InputEventMsgInProto.key: object expected");e.key=c.appFrameProtoIn.KeyboardEventMsgInProto.fromObject(t.key)}if(null!=t.mouse){if("object"!==r(t.mouse))throw TypeError(".appFrameProtoIn.InputEventMsgInProto.mouse: object expected");e.mouse=c.appFrameProtoIn.MouseEventMsgInProto.fromObject(t.mouse)}if(null!=t.focus){if("object"!==r(t.focus))throw TypeError(".appFrameProtoIn.InputEventMsgInProto.focus: object expected");e.focus=c.appFrameProtoIn.WindowFocusMsgInProto.fromObject(t.focus)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.key=null,n.mouse=null,n.focus=null),null!=t.key&&t.hasOwnProperty("key")&&(n.key=c.appFrameProtoIn.KeyboardEventMsgInProto.toObject(t.key,e)),null!=t.mouse&&t.hasOwnProperty("mouse")&&(n.mouse=c.appFrameProtoIn.MouseEventMsgInProto.toObject(t.mouse,e)),null!=t.focus&&t.hasOwnProperty("focus")&&(n.focus=c.appFrameProtoIn.WindowFocusMsgInProto.toObject(t.focus,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.WindowFocusMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.windowId="",t.prototype.htmlPanelId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.windowId&&Object.hasOwnProperty.call(t,"windowId")&&e.uint32(10).string(t.windowId),null!=t.htmlPanelId&&Object.hasOwnProperty.call(t,"htmlPanelId")&&e.uint32(18).string(t.htmlPanelId),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.WindowFocusMsgInProto)return t;var e=new c.appFrameProtoIn.WindowFocusMsgInProto;return null!=t.windowId&&(e.windowId=String(t.windowId)),null!=t.htmlPanelId&&(e.htmlPanelId=String(t.htmlPanelId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.windowId="",n.htmlPanelId=""),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),null!=t.htmlPanelId&&t.hasOwnProperty("htmlPanelId")&&(n.htmlPanelId=t.htmlPanelId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.KeyboardEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=0,t.prototype.character=0,t.prototype.keycode=0,t.prototype.alt=!1,t.prototype.ctrl=!1,t.prototype.shift=!1,t.prototype.meta=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).int32(t.type),null!=t.character&&Object.hasOwnProperty.call(t,"character")&&e.uint32(16).sint32(t.character),null!=t.keycode&&Object.hasOwnProperty.call(t,"keycode")&&e.uint32(24).sint32(t.keycode),null!=t.alt&&Object.hasOwnProperty.call(t,"alt")&&e.uint32(32).bool(t.alt),null!=t.ctrl&&Object.hasOwnProperty.call(t,"ctrl")&&e.uint32(40).bool(t.ctrl),null!=t.shift&&Object.hasOwnProperty.call(t,"shift")&&e.uint32(48).bool(t.shift),null!=t.meta&&Object.hasOwnProperty.call(t,"meta")&&e.uint32(56).bool(t.meta),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.KeyboardEventMsgInProto)return t;var e=new c.appFrameProtoIn.KeyboardEventMsgInProto;switch(t.type){case"keypress":case 0:e.type=0;break;case"keydown":case 1:e.type=1;break;case"keyup":case 2:e.type=2}return null!=t.character&&(e.character=0|t.character),null!=t.keycode&&(e.keycode=0|t.keycode),null!=t.alt&&(e.alt=Boolean(t.alt)),null!=t.ctrl&&(e.ctrl=Boolean(t.ctrl)),null!=t.shift&&(e.shift=Boolean(t.shift)),null!=t.meta&&(e.meta=Boolean(t.meta)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"keypress":0,n.character=0,n.keycode=0,n.alt=!1,n.ctrl=!1,n.shift=!1,n.meta=!1),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?c.appFrameProtoIn.KeyboardEventMsgInProto.KeyEventTypeProto[t.type]:t.type),null!=t.character&&t.hasOwnProperty("character")&&(n.character=t.character),null!=t.keycode&&t.hasOwnProperty("keycode")&&(n.keycode=t.keycode),null!=t.alt&&t.hasOwnProperty("alt")&&(n.alt=t.alt),null!=t.ctrl&&t.hasOwnProperty("ctrl")&&(n.ctrl=t.ctrl),null!=t.shift&&t.hasOwnProperty("shift")&&(n.shift=t.shift),null!=t.meta&&t.hasOwnProperty("meta")&&(n.meta=t.meta),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.KeyEventTypeProto=(e={},(n=Object.create(e))[e[0]="keypress"]=0,n[e[1]="keydown"]=1,n[e[2]="keyup"]=2,n),t}(),o.MouseEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=0,t.prototype.x=0,t.prototype.y=0,t.prototype.wheelDelta=0,t.prototype.button=0,t.prototype.ctrl=!1,t.prototype.alt=!1,t.prototype.shift=!1,t.prototype.meta=!1,t.prototype.buttons=0,t.prototype.timeMilis=0,t.prototype.winId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).int32(t.type),null!=t.x&&Object.hasOwnProperty.call(t,"x")&&e.uint32(16).sint32(t.x),null!=t.y&&Object.hasOwnProperty.call(t,"y")&&e.uint32(24).sint32(t.y),null!=t.wheelDelta&&Object.hasOwnProperty.call(t,"wheelDelta")&&e.uint32(32).sint32(t.wheelDelta),null!=t.button&&Object.hasOwnProperty.call(t,"button")&&e.uint32(40).sint32(t.button),null!=t.ctrl&&Object.hasOwnProperty.call(t,"ctrl")&&e.uint32(48).bool(t.ctrl),null!=t.alt&&Object.hasOwnProperty.call(t,"alt")&&e.uint32(56).bool(t.alt),null!=t.shift&&Object.hasOwnProperty.call(t,"shift")&&e.uint32(64).bool(t.shift),null!=t.meta&&Object.hasOwnProperty.call(t,"meta")&&e.uint32(72).bool(t.meta),null!=t.buttons&&Object.hasOwnProperty.call(t,"buttons")&&e.uint32(80).sint32(t.buttons),null!=t.timeMilis&&Object.hasOwnProperty.call(t,"timeMilis")&&e.uint32(88).sint32(t.timeMilis),null!=t.winId&&Object.hasOwnProperty.call(t,"winId")&&e.uint32(98).string(t.winId),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.MouseEventMsgInProto)return t;var e=new c.appFrameProtoIn.MouseEventMsgInProto;switch(t.type){case"mousemove":case 0:e.type=0;break;case"mousedown":case 1:e.type=1;break;case"mouseup":case 2:e.type=2;break;case"mousewheel":case 3:e.type=3;break;case"dblclick":case 4:e.type=4}return null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),null!=t.wheelDelta&&(e.wheelDelta=0|t.wheelDelta),null!=t.button&&(e.button=0|t.button),null!=t.ctrl&&(e.ctrl=Boolean(t.ctrl)),null!=t.alt&&(e.alt=Boolean(t.alt)),null!=t.shift&&(e.shift=Boolean(t.shift)),null!=t.meta&&(e.meta=Boolean(t.meta)),null!=t.buttons&&(e.buttons=0|t.buttons),null!=t.timeMilis&&(e.timeMilis=0|t.timeMilis),null!=t.winId&&(e.winId=String(t.winId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"mousemove":0,n.x=0,n.y=0,n.wheelDelta=0,n.button=0,n.ctrl=!1,n.alt=!1,n.shift=!1,n.meta=!1,n.buttons=0,n.timeMilis=0,n.winId=""),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?c.appFrameProtoIn.MouseEventMsgInProto.MouseEventTypeProto[t.type]:t.type),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.wheelDelta&&t.hasOwnProperty("wheelDelta")&&(n.wheelDelta=t.wheelDelta),null!=t.button&&t.hasOwnProperty("button")&&(n.button=t.button),null!=t.ctrl&&t.hasOwnProperty("ctrl")&&(n.ctrl=t.ctrl),null!=t.alt&&t.hasOwnProperty("alt")&&(n.alt=t.alt),null!=t.shift&&t.hasOwnProperty("shift")&&(n.shift=t.shift),null!=t.meta&&t.hasOwnProperty("meta")&&(n.meta=t.meta),null!=t.buttons&&t.hasOwnProperty("buttons")&&(n.buttons=t.buttons),null!=t.timeMilis&&t.hasOwnProperty("timeMilis")&&(n.timeMilis=t.timeMilis),null!=t.winId&&t.hasOwnProperty("winId")&&(n.winId=t.winId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.MouseEventTypeProto=(e={},(n=Object.create(e))[e[0]="mousemove"]=0,n[e[1]="mousedown"]=1,n[e[2]="mouseup"]=2,n[e[3]="mousewheel"]=3,n[e[4]="dblclick"]=4,n),t}(),o.CopyEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=0,t.prototype.file="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).int32(t.type),null!=t.file&&Object.hasOwnProperty.call(t,"file")&&e.uint32(18).string(t.file),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.CopyEventMsgInProto)return t;var e=new c.appFrameProtoIn.CopyEventMsgInProto;switch(t.type){case"copy":case 0:e.type=0;break;case"cut":case 1:e.type=1;break;case"getFileFromClipboard":case 2:e.type=2}return null!=t.file&&(e.file=String(t.file)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"copy":0,n.file=""),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?c.appFrameProtoIn.CopyEventMsgInProto.CopyEventMsgTypeProto[t.type]:t.type),null!=t.file&&t.hasOwnProperty("file")&&(n.file=t.file),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.CopyEventMsgTypeProto=(e={},(n=Object.create(e))[e[0]="copy"]=0,n[e[1]="cut"]=1,n[e[2]="getFileFromClipboard"]=2,n),t}(),o.PasteEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.text="",t.prototype.html="",t.prototype.img="",t.prototype.special=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.text&&Object.hasOwnProperty.call(t,"text")&&e.uint32(10).string(t.text),null!=t.html&&Object.hasOwnProperty.call(t,"html")&&e.uint32(18).string(t.html),null!=t.img&&Object.hasOwnProperty.call(t,"img")&&e.uint32(26).string(t.img),null!=t.special&&Object.hasOwnProperty.call(t,"special")&&e.uint32(32).bool(t.special),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.PasteEventMsgInProto)return t;var e=new c.appFrameProtoIn.PasteEventMsgInProto;return null!=t.text&&(e.text=String(t.text)),null!=t.html&&(e.html=String(t.html)),null!=t.img&&(e.img=String(t.img)),null!=t.special&&(e.special=Boolean(t.special)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.text="",n.html="",n.img="",n.special=!1),null!=t.text&&t.hasOwnProperty("text")&&(n.text=t.text),null!=t.html&&t.hasOwnProperty("html")&&(n.html=t.html),null!=t.img&&t.hasOwnProperty("img")&&(n.img=t.img),null!=t.special&&t.hasOwnProperty("special")&&(n.special=t.special),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.FilesSelectedEventMsgInProto=function(){function t(t){if(this.files=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.files=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.files&&t.files.length)for(var n=0;n<t.files.length;++n)e.uint32(10).string(t.files[n]);return e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.FilesSelectedEventMsgInProto)return t;var e=new c.appFrameProtoIn.FilesSelectedEventMsgInProto;if(t.files){if(!Array.isArray(t.files))throw TypeError(".appFrameProtoIn.FilesSelectedEventMsgInProto.files: array expected");e.files=[];for(var n=0;n<t.files.length;++n)e.files[n]=String(t.files[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.files=[]),t.files&&t.files.length){n.files=[];for(var r=0;r<t.files.length;++r)n.files[r]=t.files[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.UploadEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.fileId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.fileId&&Object.hasOwnProperty.call(t,"fileId")&&e.uint32(10).string(t.fileId),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.UploadEventMsgInProto)return t;var e=new c.appFrameProtoIn.UploadEventMsgInProto;return null!=t.fileId&&(e.fileId=String(t.fileId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.fileId=""),null!=t.fileId&&t.hasOwnProperty("fileId")&&(n.fileId=t.fileId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JavaEvalRequestMsgInProto=function(){function t(t){if(this.params=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.objectId="",t.prototype.method="",t.prototype.params=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.correlationId&&Object.hasOwnProperty.call(t,"correlationId")&&e.uint32(10).string(t.correlationId),null!=t.objectId&&Object.hasOwnProperty.call(t,"objectId")&&e.uint32(18).string(t.objectId),null!=t.method&&Object.hasOwnProperty.call(t,"method")&&e.uint32(26).string(t.method),null!=t.params&&t.params.length)for(var n=0;n<t.params.length;++n)c.appFrameProtoIn.JsParamMsgInProto.encode(t.params[n],e.uint32(34).fork()).ldelim();return e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.JavaEvalRequestMsgInProto)return t;var e=new c.appFrameProtoIn.JavaEvalRequestMsgInProto;if(null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.objectId&&(e.objectId=String(t.objectId)),null!=t.method&&(e.method=String(t.method)),t.params){if(!Array.isArray(t.params))throw TypeError(".appFrameProtoIn.JavaEvalRequestMsgInProto.params: array expected");e.params=[];for(var n=0;n<t.params.length;++n){if("object"!==r(t.params[n]))throw TypeError(".appFrameProtoIn.JavaEvalRequestMsgInProto.params: object expected");e.params[n]=c.appFrameProtoIn.JsParamMsgInProto.fromObject(t.params[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.params=[]),e.defaults&&(n.correlationId="",n.objectId="",n.method=""),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.objectId&&t.hasOwnProperty("objectId")&&(n.objectId=t.objectId),null!=t.method&&t.hasOwnProperty("method")&&(n.method=t.method),t.params&&t.params.length){n.params=[];for(var r=0;r<t.params.length;++r)n.params[r]=c.appFrameProtoIn.JsParamMsgInProto.toObject(t.params[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JsResultMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.error="",t.prototype.value=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.correlationId&&Object.hasOwnProperty.call(t,"correlationId")&&e.uint32(10).string(t.correlationId),null!=t.error&&Object.hasOwnProperty.call(t,"error")&&e.uint32(18).string(t.error),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&c.appFrameProtoIn.JsParamMsgInProto.encode(t.value,e.uint32(26).fork()).ldelim(),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.JsResultMsgInProto)return t;var e=new c.appFrameProtoIn.JsResultMsgInProto;if(null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.error&&(e.error=String(t.error)),null!=t.value){if("object"!==r(t.value))throw TypeError(".appFrameProtoIn.JsResultMsgInProto.value: object expected");e.value=c.appFrameProtoIn.JsParamMsgInProto.fromObject(t.value)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.correlationId="",n.error="",n.value=null),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.error&&t.hasOwnProperty("error")&&(n.error=t.error),null!=t.value&&t.hasOwnProperty("value")&&(n.value=c.appFrameProtoIn.JsParamMsgInProto.toObject(t.value,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JsParamMsgInProto=function(){function t(t){if(this.array=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.primitive="",t.prototype.jsObject=null,t.prototype.javaObject=null,t.prototype.array=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.primitive&&Object.hasOwnProperty.call(t,"primitive")&&e.uint32(10).string(t.primitive),null!=t.jsObject&&Object.hasOwnProperty.call(t,"jsObject")&&c.appFrameProtoIn.JSObjectMsgInProto.encode(t.jsObject,e.uint32(18).fork()).ldelim(),null!=t.javaObject&&Object.hasOwnProperty.call(t,"javaObject")&&c.appFrameProtoIn.JavaObjectRefMsgInProto.encode(t.javaObject,e.uint32(26).fork()).ldelim(),null!=t.array&&t.array.length)for(var n=0;n<t.array.length;++n)c.appFrameProtoIn.JsParamMsgInProto.encode(t.array[n],e.uint32(34).fork()).ldelim();return e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.JsParamMsgInProto)return t;var e=new c.appFrameProtoIn.JsParamMsgInProto;if(null!=t.primitive&&(e.primitive=String(t.primitive)),null!=t.jsObject){if("object"!==r(t.jsObject))throw TypeError(".appFrameProtoIn.JsParamMsgInProto.jsObject: object expected");e.jsObject=c.appFrameProtoIn.JSObjectMsgInProto.fromObject(t.jsObject)}if(null!=t.javaObject){if("object"!==r(t.javaObject))throw TypeError(".appFrameProtoIn.JsParamMsgInProto.javaObject: object expected");e.javaObject=c.appFrameProtoIn.JavaObjectRefMsgInProto.fromObject(t.javaObject)}if(t.array){if(!Array.isArray(t.array))throw TypeError(".appFrameProtoIn.JsParamMsgInProto.array: array expected");e.array=[];for(var n=0;n<t.array.length;++n){if("object"!==r(t.array[n]))throw TypeError(".appFrameProtoIn.JsParamMsgInProto.array: object expected");e.array[n]=c.appFrameProtoIn.JsParamMsgInProto.fromObject(t.array[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.array=[]),e.defaults&&(n.primitive="",n.jsObject=null,n.javaObject=null),null!=t.primitive&&t.hasOwnProperty("primitive")&&(n.primitive=t.primitive),null!=t.jsObject&&t.hasOwnProperty("jsObject")&&(n.jsObject=c.appFrameProtoIn.JSObjectMsgInProto.toObject(t.jsObject,e)),null!=t.javaObject&&t.hasOwnProperty("javaObject")&&(n.javaObject=c.appFrameProtoIn.JavaObjectRefMsgInProto.toObject(t.javaObject,e)),t.array&&t.array.length){n.array=[];for(var r=0;r<t.array.length;++r)n.array[r]=c.appFrameProtoIn.JsParamMsgInProto.toObject(t.array[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JavaObjectRefMsgInProto=function(){function t(t){if(this.methods=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.methods=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.methods&&t.methods.length)for(var n=0;n<t.methods.length;++n)e.uint32(18).string(t.methods[n]);return e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.JavaObjectRefMsgInProto)return t;var e=new c.appFrameProtoIn.JavaObjectRefMsgInProto;if(null!=t.id&&(e.id=String(t.id)),t.methods){if(!Array.isArray(t.methods))throw TypeError(".appFrameProtoIn.JavaObjectRefMsgInProto.methods: array expected");e.methods=[];for(var n=0;n<t.methods.length;++n)e.methods[n]=String(t.methods[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.methods=[]),e.defaults&&(n.id=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),t.methods&&t.methods.length){n.methods=[];for(var r=0;r<t.methods.length;++r)n.methods[r]=t.methods[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JSObjectMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.JSObjectMsgInProto)return t;var e=new c.appFrameProtoIn.JSObjectMsgInProto;return null!=t.id&&(e.id=String(t.id)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.PixelsAreaResponseMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.pixels="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.correlationId&&Object.hasOwnProperty.call(t,"correlationId")&&e.uint32(10).string(t.correlationId),null!=t.pixels&&Object.hasOwnProperty.call(t,"pixels")&&e.uint32(18).string(t.pixels),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.PixelsAreaResponseMsgInProto)return t;var e=new c.appFrameProtoIn.PixelsAreaResponseMsgInProto;return null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.pixels&&(e.pixels=String(t.pixels)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.correlationId="",n.pixels=""),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.pixels&&t.hasOwnProperty("pixels")&&(n.pixels=t.pixels),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.WindowEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.id="",t.prototype.x=0,t.prototype.y=0,t.prototype.width=0,t.prototype.height=0,t.prototype.eventType=0,t.prototype.tabId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.x&&Object.hasOwnProperty.call(t,"x")&&e.uint32(16).sint32(t.x),null!=t.y&&Object.hasOwnProperty.call(t,"y")&&e.uint32(24).sint32(t.y),null!=t.width&&Object.hasOwnProperty.call(t,"width")&&e.uint32(32).sint32(t.width),null!=t.height&&Object.hasOwnProperty.call(t,"height")&&e.uint32(40).sint32(t.height),null!=t.eventType&&Object.hasOwnProperty.call(t,"eventType")&&e.uint32(48).int32(t.eventType),null!=t.tabId&&Object.hasOwnProperty.call(t,"tabId")&&e.uint32(58).string(t.tabId),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.WindowEventMsgInProto)return t;var e=new c.appFrameProtoIn.WindowEventMsgInProto;switch(null!=t.id&&(e.id=String(t.id)),null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),null!=t.width&&(e.width=0|t.width),null!=t.height&&(e.height=0|t.height),t.eventType){case"close":case 0:e.eventType=0;break;case"focus":case 1:e.eventType=1;break;case"maximize":case 2:e.eventType=2;break;case"restore":case 3:e.eventType=3;break;case"undecorate":case 4:e.eventType=4;break;case"decorate":case 5:e.eventType=5;break;case"undock":case 6:e.eventType=6;break;case"dock":case 7:e.eventType=7}return null!=t.tabId&&(e.tabId=String(t.tabId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.x=0,n.y=0,n.width=0,n.height=0,n.eventType=e.enums===String?"close":0,n.tabId=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=e.enums===String?c.appFrameProtoIn.WindowEventMsgInProto.WindowEventTypeProto[t.eventType]:t.eventType),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.WindowEventTypeProto=(e={},(n=Object.create(e))[e[0]="close"]=0,n[e[1]="focus"]=1,n[e[2]="maximize"]=2,n[e[3]="restore"]=3,n[e[4]="undecorate"]=4,n[e[5]="decorate"]=5,n[e[6]="undock"]=6,n[e[7]="dock"]=7,n),t}(),o.AudioEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.stop=!1,t.prototype.ping=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.stop&&Object.hasOwnProperty.call(t,"stop")&&e.uint32(16).bool(t.stop),null!=t.ping&&Object.hasOwnProperty.call(t,"ping")&&e.uint32(24).bool(t.ping),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.AudioEventMsgInProto)return t;var e=new c.appFrameProtoIn.AudioEventMsgInProto;return null!=t.id&&(e.id=String(t.id)),null!=t.stop&&(e.stop=Boolean(t.stop)),null!=t.ping&&(e.ping=Boolean(t.ping)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.stop=!1,n.ping=!1),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.stop&&t.hasOwnProperty("stop")&&(n.stop=t.stop),null!=t.ping&&t.hasOwnProperty("ping")&&(n.ping=t.ping),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.ActionEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.actionName="",t.prototype.data="",t.prototype.binaryData=s.newBuffer([]),t.prototype.windowId="",t.prototype.eventType=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.actionName&&Object.hasOwnProperty.call(t,"actionName")&&e.uint32(10).string(t.actionName),null!=t.data&&Object.hasOwnProperty.call(t,"data")&&e.uint32(18).string(t.data),null!=t.binaryData&&Object.hasOwnProperty.call(t,"binaryData")&&e.uint32(26).bytes(t.binaryData),null!=t.windowId&&Object.hasOwnProperty.call(t,"windowId")&&e.uint32(34).string(t.windowId),null!=t.eventType&&Object.hasOwnProperty.call(t,"eventType")&&e.uint32(40).int32(t.eventType),e},t.fromObject=function(t){if(t instanceof c.appFrameProtoIn.ActionEventMsgInProto)return t;var e=new c.appFrameProtoIn.ActionEventMsgInProto;switch(null!=t.actionName&&(e.actionName=String(t.actionName)),null!=t.data&&(e.data=String(t.data)),null!=t.binaryData&&("string"==typeof t.binaryData?s.base64.decode(t.binaryData,e.binaryData=s.newBuffer(s.base64.length(t.binaryData)),0):t.binaryData.length&&(e.binaryData=t.binaryData)),null!=t.windowId&&(e.windowId=String(t.windowId)),t.eventType){case"init":case 0:e.eventType=0;break;case"user":case 1:e.eventType=1}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.actionName="",n.data="",e.bytes===String?n.binaryData="":(n.binaryData=[],e.bytes!==Array&&(n.binaryData=s.newBuffer(n.binaryData))),n.windowId="",n.eventType=e.enums===String?"init":0),null!=t.actionName&&t.hasOwnProperty("actionName")&&(n.actionName=t.actionName),null!=t.data&&t.hasOwnProperty("data")&&(n.data=t.data),null!=t.binaryData&&t.hasOwnProperty("binaryData")&&(n.binaryData=e.bytes===String?s.base64.encode(t.binaryData,0,t.binaryData.length):e.bytes===Array?Array.prototype.slice.call(t.binaryData):t.binaryData),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=e.enums===String?c.appFrameProtoIn.ActionEventMsgInProto.ActionEventTypeProto[t.eventType]:t.eventType),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.ActionEventTypeProto=(e={},(n=Object.create(e))[e[0]="init"]=0,n[e[1]="user"]=1,n),t}(),o),t.exports=c},function(t,e,n){var r=n(5),o=n(126);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){"use strict";var r=n(25),o=n(10),i=n(6),a=n(8),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(15);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(17),o="["+n(74)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(2),o=n(33),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(2),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==l||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",l=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(33),o=n(3);t.exports="process"==r(o.process)},function(t,e,n){var r=n(33);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(114),o=n(89);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(4),o=n(55),i=n(6)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(2),o=n(6),i=n(67),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){t.exports={}},function(t,e,n){var r=n(61),o=n(59),i=n(6)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(94),o=n(33),i=n(6)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(2);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(5),o=n(93),i=n(9),a=n(35),s=n(60),c=n(123),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var u,d,p,f,h,y,g,v=n&&n.that,m=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),O=a(e,v,1+m+b),P=function(t){return u&&c(u),new l(!0,t)},k=function(t){return m?(r(t),b?O(t[0],t[1],P):O(t[0],t[1])):b?O(t,P):O(t)};if(w)u=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(o(d)){for(p=0,f=i(t.length);f>p;p++)if((h=k(t[p]))&&h instanceof l)return h;return new l(!1)}u=d.call(t)}for(y=u.next;!(g=y.call(u)).done;){try{h=k(g.value)}catch(t){throw c(u),t}if("object"==typeof h&&h&&h instanceof l)return h}return new l(!1)}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(87),o=n(51),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(19),o=n(9),i=n(39),a=function(t){return function(e,n,a){var s,c=r(e),l=o(c.length),u=i(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r,o,i=n(3),a=n(68),s=i.process,c=s&&s.versions,l=c&&c.v8;l?o=(r=l.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){var r=n(25);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(6)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(19),o=n(36),i=n(59),a=n(20),s=n(95),c=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(53),a=n(15),s=n(41),c=n(63),l=n(37),u=n(4),d=n(2),p=n(69),f=n(30),h=n(72);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),v=y?"set":"add",m=o[t],w=m&&m.prototype,b=m,O={},P=function(t){var e=w[t];a(w,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof m||!(g||w.forEach&&!d((function(){(new m).entries().next()})))))b=n.getConstructor(e,t,y,v),s.REQUIRED=!0;else if(i(t,!0)){var k=new b,S=k[v](g?{}:-0,1)!=k,I=d((function(){k.has(1)})),E=p((function(t){new m(t)})),j=!g&&d((function(){for(var t=new m,e=5;e--;)t[v](e,e);return!t.has(-0)}));E||((b=e((function(e,n){l(e,b,t);var r=h(new m,e,b);return null!=n&&c(n,r[v],{that:r,AS_ENTRIES:y}),r}))).prototype=w,w.constructor=b),(I||j)&&(P("delete"),P("has"),y&&P("get")),(j||S)&&P(v),g&&w.clear&&delete w.clear}return O[t]=b,r({global:!0,forced:b!=m},O),f(b,t),g||n.setStrong(b,t,y),b}},function(t,e,n){var r=n(4),o=n(45);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(29),o=n(3),i=n(2);t.exports=r||!i((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete o[t]}))},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r,o,i=n(76),a=n(101),s=RegExp.prototype.exec,c=String.prototype.replace,l=s,u=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||d)&&(l=function(t){var e,n,r,o,a=this,l=d&&a.sticky,f=i.call(a),h=a.source,y=0,g=t;return l&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),g=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,y++),n=new RegExp("^(?:"+h+")",f)),p&&(n=new RegExp("^"+h+"$(?!\\s)",f)),u&&(e=a.lastIndex),r=s.call(l?n:a,g),l?r?(r.input=r.input.slice(y),r[0]=r[0].slice(y),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:u&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),p&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=l},function(t,e,n){var r=n(24),o=n(17),i=function(t){return function(e,n){var i,a,s=String(o(e)),c=r(n),l=s.length;return c<0||c>=l?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){"use strict";n(142);var r=n(15),o=n(2),i=n(6),a=n(77),s=n(18),c=i("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=i("replace"),p=!!/./[d]&&""===/./[d]("a","$0"),f=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var h=i(t),y=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),g=y&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!y||!g||"replace"===t&&(!l||!u||p)||"split"===t&&!f){var v=/./[h],m=n(h,""[t],(function(t,e,n,r,o){return e.exec===a?y&&!o?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),w=m[0],b=m[1];r(String.prototype,t,w),r(RegExp.prototype,h,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}d&&s(RegExp.prototype[h],"sham",!0)}},function(t,e,n){var r=n(33),o=n(77);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";e.a=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(e){i(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--o&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--o&&e(r)}for(var a=0;a<r.length;a++)i(a,r[a])}))}},function(t,e,n){var r=n(3),o=n(4),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(3),o=n(18);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(86),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(3),o=n(84),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(29),o=n(86);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(25),o=n(38),i=n(90),a=n(5);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(54),o=n(67),i=n(2);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(r?38===o:o>37&&o<41)}))},function(t,e,n){"use strict";var r=n(12),o=n(39),i=n(9);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);l>s;)e[s++]=t;return e}},function(t,e,n){var r=n(6),o=n(59),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r={};r[n(6)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(0),o=n(124),i=n(27),a=n(45),s=n(30),c=n(18),l=n(15),u=n(6),d=n(29),p=n(59),f=n(125),h=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v=function(){return this};t.exports=function(t,e,n,u,f,m,w){o(n,e,u);var b,O,P,k=function(t){if(t===f&&x)return x;if(!y&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",I=!1,E=t.prototype,j=E[g]||E["@@iterator"]||f&&E[f],x=!y&&j||k(f),T="Array"==e&&E.entries||j;if(T&&(b=i(T.call(new t)),h!==Object.prototype&&b.next&&(d||i(b)===h||(a?a(b,h):"function"!=typeof b[g]&&c(b,g,v)),s(b,S,!0,!0),d&&(p[S]=v))),"values"==f&&j&&"values"!==j.name&&(I=!0,x=function(){return j.call(this)}),d&&!w||E[g]===x||c(E,g,x),p[e]=x,f)if(O={values:k("values"),keys:m?x:k("keys"),entries:k("entries")},w)for(P in O)(y||I||!(P in E))&&l(E,P,O[P]);else r({target:e,proto:!0,forced:y||I},O);return O}},function(t,e,n){var r=n(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";var r=n(24),o=n(17);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(4),o=n(33),i=n(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){"use strict";var r=n(2);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){var r=n(100);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(78).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(2),o=n(74);t.exports=function(t){return r((function(){return!!o[t]()||""!=""[t]()||o[t].name!==t}))}},function(t,e,n){var r=n(3),o=n(2),i=n(69),a=n(7).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new s(2),1,void 0).length}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,s,c=n(359),l=c.Reader,u=c.Writer,d=c.util,p=c.roots.default||(c.roots.default={});p.serverBrowserFrameProto=((o={}).BrowserToServerFrameMsgInProto=function(){function t(t){if(this.timestamps=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.appFrameMsgIn=d.newBuffer([]),t.prototype.handshake=null,t.prototype.timestamps=d.emptyArray,t.prototype.playback=null,t.prototype.tabs=null,t.prototype.targetTab="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.appFrameMsgIn&&Object.hasOwnProperty.call(t,"appFrameMsgIn")&&e.uint32(10).bytes(t.appFrameMsgIn),null!=t.handshake&&Object.hasOwnProperty.call(t,"handshake")&&p.commonProto.ConnectionHandshakeMsgInProto.encode(t.handshake,e.uint32(18).fork()).ldelim(),null!=t.timestamps&&t.timestamps.length)for(var n=0;n<t.timestamps.length;++n)p.commonProto.TimestampsMsgInProto.encode(t.timestamps[n],e.uint32(26).fork()).ldelim();return null!=t.playback&&Object.hasOwnProperty.call(t,"playback")&&p.serverBrowserFrameProto.PlaybackCommandMsgInProto.encode(t.playback,e.uint32(34).fork()).ldelim(),null!=t.tabs&&Object.hasOwnProperty.call(t,"tabs")&&p.commonProto.TabsUpdateMsgInProto.encode(t.tabs,e.uint32(42).fork()).ldelim(),null!=t.targetTab&&Object.hasOwnProperty.call(t,"targetTab")&&e.uint32(50).string(t.targetTab),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.BrowserToServerFrameMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.appFrameMsgIn=t.bytes();break;case 2:r.handshake=p.commonProto.ConnectionHandshakeMsgInProto.decode(t,t.uint32());break;case 3:r.timestamps&&r.timestamps.length||(r.timestamps=[]),r.timestamps.push(p.commonProto.TimestampsMsgInProto.decode(t,t.uint32()));break;case 4:r.playback=p.serverBrowserFrameProto.PlaybackCommandMsgInProto.decode(t,t.uint32());break;case 5:r.tabs=p.commonProto.TabsUpdateMsgInProto.decode(t,t.uint32());break;case 6:r.targetTab=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.BrowserToServerFrameMsgInProto)return t;var e=new p.serverBrowserFrameProto.BrowserToServerFrameMsgInProto;if(null!=t.appFrameMsgIn&&("string"==typeof t.appFrameMsgIn?d.base64.decode(t.appFrameMsgIn,e.appFrameMsgIn=d.newBuffer(d.base64.length(t.appFrameMsgIn)),0):t.appFrameMsgIn.length&&(e.appFrameMsgIn=t.appFrameMsgIn)),null!=t.handshake){if("object"!==r(t.handshake))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.handshake: object expected");e.handshake=p.commonProto.ConnectionHandshakeMsgInProto.fromObject(t.handshake)}if(t.timestamps){if(!Array.isArray(t.timestamps))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.timestamps: array expected");e.timestamps=[];for(var n=0;n<t.timestamps.length;++n){if("object"!==r(t.timestamps[n]))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.timestamps: object expected");e.timestamps[n]=p.commonProto.TimestampsMsgInProto.fromObject(t.timestamps[n])}}if(null!=t.playback){if("object"!==r(t.playback))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.playback: object expected");e.playback=p.serverBrowserFrameProto.PlaybackCommandMsgInProto.fromObject(t.playback)}if(null!=t.tabs){if("object"!==r(t.tabs))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.tabs: object expected");e.tabs=p.commonProto.TabsUpdateMsgInProto.fromObject(t.tabs)}return null!=t.targetTab&&(e.targetTab=String(t.targetTab)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.timestamps=[]),e.defaults&&(e.bytes===String?n.appFrameMsgIn="":(n.appFrameMsgIn=[],e.bytes!==Array&&(n.appFrameMsgIn=d.newBuffer(n.appFrameMsgIn))),n.handshake=null,n.playback=null,n.tabs=null,n.targetTab=""),null!=t.appFrameMsgIn&&t.hasOwnProperty("appFrameMsgIn")&&(n.appFrameMsgIn=e.bytes===String?d.base64.encode(t.appFrameMsgIn,0,t.appFrameMsgIn.length):e.bytes===Array?Array.prototype.slice.call(t.appFrameMsgIn):t.appFrameMsgIn),null!=t.handshake&&t.hasOwnProperty("handshake")&&(n.handshake=p.commonProto.ConnectionHandshakeMsgInProto.toObject(t.handshake,e)),t.timestamps&&t.timestamps.length){n.timestamps=[];for(var r=0;r<t.timestamps.length;++r)n.timestamps[r]=p.commonProto.TimestampsMsgInProto.toObject(t.timestamps[r],e)}return null!=t.playback&&t.hasOwnProperty("playback")&&(n.playback=p.serverBrowserFrameProto.PlaybackCommandMsgInProto.toObject(t.playback,e)),null!=t.tabs&&t.hasOwnProperty("tabs")&&(n.tabs=p.commonProto.TabsUpdateMsgInProto.toObject(t.tabs,e)),null!=t.targetTab&&t.hasOwnProperty("targetTab")&&(n.targetTab=t.targetTab),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),o.PlaybackCommandMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.command=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.command&&Object.hasOwnProperty.call(t,"command")&&e.uint32(8).int32(t.command),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.PlaybackCommandMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.command=t.int32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.PlaybackCommandMsgInProto)return t;var e=new p.serverBrowserFrameProto.PlaybackCommandMsgInProto;switch(t.command){case"reset":case 0:e.command=0;break;case"play":case 1:e.command=1;break;case"stop":case 2:e.command=2;break;case"step":case 3:e.command=3;break;case"step10":case 4:e.command=4;break;case"step100":case 5:e.command=5}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.command=e.enums===String?"reset":0),null!=t.command&&t.hasOwnProperty("command")&&(n.command=e.enums===String?p.serverBrowserFrameProto.PlaybackCommandMsgInProto.PlaybackCommandProto[t.command]:t.command),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.PlaybackCommandProto=(e={},(n=Object.create(e))[e[0]="reset"]=0,n[e[1]="play"]=1,n[e[2]="stop"]=2,n[e[3]="step"]=3,n[e[4]="step10"]=4,n[e[5]="step100"]=5,n),t}(),o.ServerToBrowserFrameMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.appFrameMsgOut=d.newBuffer([]),t.prototype.connectionInfo=null,t.prototype.targetTab="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.appFrameMsgOut&&Object.hasOwnProperty.call(t,"appFrameMsgOut")&&e.uint32(10).bytes(t.appFrameMsgOut),null!=t.connectionInfo&&Object.hasOwnProperty.call(t,"connectionInfo")&&p.serverBrowserFrameProto.ConnectionInfoMsgOutProto.encode(t.connectionInfo,e.uint32(18).fork()).ldelim(),null!=t.targetTab&&Object.hasOwnProperty.call(t,"targetTab")&&e.uint32(26).string(t.targetTab),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.appFrameMsgOut=t.bytes();break;case 2:r.connectionInfo=p.serverBrowserFrameProto.ConnectionInfoMsgOutProto.decode(t,t.uint32());break;case 3:r.targetTab=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto)return t;var e=new p.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto;if(null!=t.appFrameMsgOut&&("string"==typeof t.appFrameMsgOut?d.base64.decode(t.appFrameMsgOut,e.appFrameMsgOut=d.newBuffer(d.base64.length(t.appFrameMsgOut)),0):t.appFrameMsgOut.length&&(e.appFrameMsgOut=t.appFrameMsgOut)),null!=t.connectionInfo){if("object"!==r(t.connectionInfo))throw TypeError(".serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.connectionInfo: object expected");e.connectionInfo=p.serverBrowserFrameProto.ConnectionInfoMsgOutProto.fromObject(t.connectionInfo)}return null!=t.targetTab&&(e.targetTab=String(t.targetTab)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(e.bytes===String?n.appFrameMsgOut="":(n.appFrameMsgOut=[],e.bytes!==Array&&(n.appFrameMsgOut=d.newBuffer(n.appFrameMsgOut))),n.connectionInfo=null,n.targetTab=""),null!=t.appFrameMsgOut&&t.hasOwnProperty("appFrameMsgOut")&&(n.appFrameMsgOut=e.bytes===String?d.base64.encode(t.appFrameMsgOut,0,t.appFrameMsgOut.length):e.bytes===Array?Array.prototype.slice.call(t.appFrameMsgOut):t.appFrameMsgOut),null!=t.connectionInfo&&t.hasOwnProperty("connectionInfo")&&(n.connectionInfo=p.serverBrowserFrameProto.ConnectionInfoMsgOutProto.toObject(t.connectionInfo,e)),null!=t.targetTab&&t.hasOwnProperty("targetTab")&&(n.targetTab=t.targetTab),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),o.ConnectionInfoMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.serverId="",t.prototype.sessionPoolId="",t.prototype.autoLogout=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.serverId&&Object.hasOwnProperty.call(t,"serverId")&&e.uint32(10).string(t.serverId),null!=t.sessionPoolId&&Object.hasOwnProperty.call(t,"sessionPoolId")&&e.uint32(18).string(t.sessionPoolId),null!=t.autoLogout&&Object.hasOwnProperty.call(t,"autoLogout")&&e.uint32(24).bool(t.autoLogout),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.ConnectionInfoMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.serverId=t.string();break;case 2:r.sessionPoolId=t.string();break;case 3:r.autoLogout=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.ConnectionInfoMsgOutProto)return t;var e=new p.serverBrowserFrameProto.ConnectionInfoMsgOutProto;return null!=t.serverId&&(e.serverId=String(t.serverId)),null!=t.sessionPoolId&&(e.sessionPoolId=String(t.sessionPoolId)),null!=t.autoLogout&&(e.autoLogout=Boolean(t.autoLogout)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.serverId="",n.sessionPoolId="",n.autoLogout=!1),null!=t.serverId&&t.hasOwnProperty("serverId")&&(n.serverId=t.serverId),null!=t.sessionPoolId&&t.hasOwnProperty("sessionPoolId")&&(n.sessionPoolId=t.sessionPoolId),null!=t.autoLogout&&t.hasOwnProperty("autoLogout")&&(n.autoLogout=t.autoLogout),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),o),p.commonProto=((s={}).ParamMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(18).string(t.value),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.ParamMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.ParamMsgInProto)return t;var e=new p.commonProto.ParamMsgInProto;return null!=t.name&&(e.name=String(t.name)),null!=t.value&&(e.value=String(t.value)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",n.value=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),s.RecordingStatusEnumProto=(i={},(a=Object.create(i))[i[1]="NOT_RECORDING"]=1,a[i[2]="WAITING_FOR_RECORDING_APPROVAL"]=2,a[i[3]="DENIED_RECORDING_BY_USER"]=3,a[i[4]="RECORDING"]=4,a),s.MirroringStatusEnumProto=function(){var t={},e=Object.create(t);return e[t[1]="NOT_MIRRORING"]=1,e[t[2]="WAITING_FOR_MIRRORING_APPROVAL"]=2,e[t[3]="DENIED_MIRRORING_BY_USER"]=3,e[t[4]="MIRRORING"]=4,e}(),s.ConnectionHandshakeMsgInProto=function(){function t(t){if(this.params=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.instanceId="",t.prototype.viewId="",t.prototype.browserId="",t.prototype.currentDpr=0,t.prototype.desktopWidth=0,t.prototype.desktopHeight=0,t.prototype.applicationName="",t.prototype.mirrored=!1,t.prototype.directDrawSupported=!1,t.prototype.documentBase="",t.prototype.params=d.emptyArray,t.prototype.locale="",t.prototype.url="",t.prototype.timeZone="",t.prototype.dockingSupported=!1,t.prototype.touchMode=!1,t.prototype.accessiblityEnabled=!1,t.prototype.tabId="",t.prototype.userScreenWidth=0,t.prototype.userScreenHeight=0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.instanceId&&Object.hasOwnProperty.call(t,"instanceId")&&e.uint32(10).string(t.instanceId),null!=t.viewId&&Object.hasOwnProperty.call(t,"viewId")&&e.uint32(18).string(t.viewId),null!=t.browserId&&Object.hasOwnProperty.call(t,"browserId")&&e.uint32(26).string(t.browserId),null!=t.currentDpr&&Object.hasOwnProperty.call(t,"currentDpr")&&e.uint32(32).uint32(t.currentDpr),null!=t.desktopWidth&&Object.hasOwnProperty.call(t,"desktopWidth")&&e.uint32(40).uint32(t.desktopWidth),null!=t.desktopHeight&&Object.hasOwnProperty.call(t,"desktopHeight")&&e.uint32(48).uint32(t.desktopHeight),null!=t.applicationName&&Object.hasOwnProperty.call(t,"applicationName")&&e.uint32(58).string(t.applicationName),null!=t.mirrored&&Object.hasOwnProperty.call(t,"mirrored")&&e.uint32(64).bool(t.mirrored),null!=t.directDrawSupported&&Object.hasOwnProperty.call(t,"directDrawSupported")&&e.uint32(72).bool(t.directDrawSupported),null!=t.documentBase&&Object.hasOwnProperty.call(t,"documentBase")&&e.uint32(82).string(t.documentBase),null!=t.params&&t.params.length)for(var n=0;n<t.params.length;++n)p.commonProto.ParamMsgInProto.encode(t.params[n],e.uint32(90).fork()).ldelim();return null!=t.locale&&Object.hasOwnProperty.call(t,"locale")&&e.uint32(98).string(t.locale),null!=t.url&&Object.hasOwnProperty.call(t,"url")&&e.uint32(106).string(t.url),null!=t.timeZone&&Object.hasOwnProperty.call(t,"timeZone")&&e.uint32(114).string(t.timeZone),null!=t.dockingSupported&&Object.hasOwnProperty.call(t,"dockingSupported")&&e.uint32(120).bool(t.dockingSupported),null!=t.touchMode&&Object.hasOwnProperty.call(t,"touchMode")&&e.uint32(128).bool(t.touchMode),null!=t.accessiblityEnabled&&Object.hasOwnProperty.call(t,"accessiblityEnabled")&&e.uint32(136).bool(t.accessiblityEnabled),null!=t.tabId&&Object.hasOwnProperty.call(t,"tabId")&&e.uint32(146).string(t.tabId),null!=t.userScreenWidth&&Object.hasOwnProperty.call(t,"userScreenWidth")&&e.uint32(152).uint32(t.userScreenWidth),null!=t.userScreenHeight&&Object.hasOwnProperty.call(t,"userScreenHeight")&&e.uint32(160).uint32(t.userScreenHeight),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.ConnectionHandshakeMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instanceId=t.string();break;case 2:r.viewId=t.string();break;case 3:r.browserId=t.string();break;case 4:r.currentDpr=t.uint32();break;case 5:r.desktopWidth=t.uint32();break;case 6:r.desktopHeight=t.uint32();break;case 7:r.applicationName=t.string();break;case 8:r.mirrored=t.bool();break;case 9:r.directDrawSupported=t.bool();break;case 10:r.documentBase=t.string();break;case 11:r.params&&r.params.length||(r.params=[]),r.params.push(p.commonProto.ParamMsgInProto.decode(t,t.uint32()));break;case 12:r.locale=t.string();break;case 13:r.url=t.string();break;case 14:r.timeZone=t.string();break;case 15:r.dockingSupported=t.bool();break;case 16:r.touchMode=t.bool();break;case 17:r.accessiblityEnabled=t.bool();break;case 18:r.tabId=t.string();break;case 19:r.userScreenWidth=t.uint32();break;case 20:r.userScreenHeight=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.ConnectionHandshakeMsgInProto)return t;var e=new p.commonProto.ConnectionHandshakeMsgInProto;if(null!=t.instanceId&&(e.instanceId=String(t.instanceId)),null!=t.viewId&&(e.viewId=String(t.viewId)),null!=t.browserId&&(e.browserId=String(t.browserId)),null!=t.currentDpr&&(e.currentDpr=t.currentDpr>>>0),null!=t.desktopWidth&&(e.desktopWidth=t.desktopWidth>>>0),null!=t.desktopHeight&&(e.desktopHeight=t.desktopHeight>>>0),null!=t.applicationName&&(e.applicationName=String(t.applicationName)),null!=t.mirrored&&(e.mirrored=Boolean(t.mirrored)),null!=t.directDrawSupported&&(e.directDrawSupported=Boolean(t.directDrawSupported)),null!=t.documentBase&&(e.documentBase=String(t.documentBase)),t.params){if(!Array.isArray(t.params))throw TypeError(".commonProto.ConnectionHandshakeMsgInProto.params: array expected");e.params=[];for(var n=0;n<t.params.length;++n){if("object"!==r(t.params[n]))throw TypeError(".commonProto.ConnectionHandshakeMsgInProto.params: object expected");e.params[n]=p.commonProto.ParamMsgInProto.fromObject(t.params[n])}}return null!=t.locale&&(e.locale=String(t.locale)),null!=t.url&&(e.url=String(t.url)),null!=t.timeZone&&(e.timeZone=String(t.timeZone)),null!=t.dockingSupported&&(e.dockingSupported=Boolean(t.dockingSupported)),null!=t.touchMode&&(e.touchMode=Boolean(t.touchMode)),null!=t.accessiblityEnabled&&(e.accessiblityEnabled=Boolean(t.accessiblityEnabled)),null!=t.tabId&&(e.tabId=String(t.tabId)),null!=t.userScreenWidth&&(e.userScreenWidth=t.userScreenWidth>>>0),null!=t.userScreenHeight&&(e.userScreenHeight=t.userScreenHeight>>>0),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.params=[]),e.defaults&&(n.instanceId="",n.viewId="",n.browserId="",n.currentDpr=0,n.desktopWidth=0,n.desktopHeight=0,n.applicationName="",n.mirrored=!1,n.directDrawSupported=!1,n.documentBase="",n.locale="",n.url="",n.timeZone="",n.dockingSupported=!1,n.touchMode=!1,n.accessiblityEnabled=!1,n.tabId="",n.userScreenWidth=0,n.userScreenHeight=0),null!=t.instanceId&&t.hasOwnProperty("instanceId")&&(n.instanceId=t.instanceId),null!=t.viewId&&t.hasOwnProperty("viewId")&&(n.viewId=t.viewId),null!=t.browserId&&t.hasOwnProperty("browserId")&&(n.browserId=t.browserId),null!=t.currentDpr&&t.hasOwnProperty("currentDpr")&&(n.currentDpr=t.currentDpr),null!=t.desktopWidth&&t.hasOwnProperty("desktopWidth")&&(n.desktopWidth=t.desktopWidth),null!=t.desktopHeight&&t.hasOwnProperty("desktopHeight")&&(n.desktopHeight=t.desktopHeight),null!=t.applicationName&&t.hasOwnProperty("applicationName")&&(n.applicationName=t.applicationName),null!=t.mirrored&&t.hasOwnProperty("mirrored")&&(n.mirrored=t.mirrored),null!=t.directDrawSupported&&t.hasOwnProperty("directDrawSupported")&&(n.directDrawSupported=t.directDrawSupported),null!=t.documentBase&&t.hasOwnProperty("documentBase")&&(n.documentBase=t.documentBase),t.params&&t.params.length){n.params=[];for(var r=0;r<t.params.length;++r)n.params[r]=p.commonProto.ParamMsgInProto.toObject(t.params[r],e)}return null!=t.locale&&t.hasOwnProperty("locale")&&(n.locale=t.locale),null!=t.url&&t.hasOwnProperty("url")&&(n.url=t.url),null!=t.timeZone&&t.hasOwnProperty("timeZone")&&(n.timeZone=t.timeZone),null!=t.dockingSupported&&t.hasOwnProperty("dockingSupported")&&(n.dockingSupported=t.dockingSupported),null!=t.touchMode&&t.hasOwnProperty("touchMode")&&(n.touchMode=t.touchMode),null!=t.accessiblityEnabled&&t.hasOwnProperty("accessiblityEnabled")&&(n.accessiblityEnabled=t.accessiblityEnabled),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),null!=t.userScreenWidth&&t.hasOwnProperty("userScreenWidth")&&(n.userScreenWidth=t.userScreenWidth),null!=t.userScreenHeight&&t.hasOwnProperty("userScreenHeight")&&(n.userScreenHeight=t.userScreenHeight),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),s.TimestampsMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.startTimestamp="",t.prototype.sendTimestamp="",t.prototype.renderingTime="",t.prototype.ping=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.startTimestamp&&Object.hasOwnProperty.call(t,"startTimestamp")&&e.uint32(10).string(t.startTimestamp),null!=t.sendTimestamp&&Object.hasOwnProperty.call(t,"sendTimestamp")&&e.uint32(18).string(t.sendTimestamp),null!=t.renderingTime&&Object.hasOwnProperty.call(t,"renderingTime")&&e.uint32(26).string(t.renderingTime),null!=t.ping&&Object.hasOwnProperty.call(t,"ping")&&e.uint32(32).uint32(t.ping),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.TimestampsMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.startTimestamp=t.string();break;case 2:r.sendTimestamp=t.string();break;case 3:r.renderingTime=t.string();break;case 4:r.ping=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.TimestampsMsgInProto)return t;var e=new p.commonProto.TimestampsMsgInProto;return null!=t.startTimestamp&&(e.startTimestamp=String(t.startTimestamp)),null!=t.sendTimestamp&&(e.sendTimestamp=String(t.sendTimestamp)),null!=t.renderingTime&&(e.renderingTime=String(t.renderingTime)),null!=t.ping&&(e.ping=t.ping>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.startTimestamp="",n.sendTimestamp="",n.renderingTime="",n.ping=0),null!=t.startTimestamp&&t.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.startTimestamp),null!=t.sendTimestamp&&t.hasOwnProperty("sendTimestamp")&&(n.sendTimestamp=t.sendTimestamp),null!=t.renderingTime&&t.hasOwnProperty("renderingTime")&&(n.renderingTime=t.renderingTime),null!=t.ping&&t.hasOwnProperty("ping")&&(n.ping=t.ping),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),s.TabsUpdateMsgInProto=function(){function t(t){if(this.tabs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tabs=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.tabs&&t.tabs.length)for(var n=0;n<t.tabs.length;++n)p.commonProto.TabStateMsgInProto.encode(t.tabs[n],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.TabsUpdateMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tabs&&r.tabs.length||(r.tabs=[]),r.tabs.push(p.commonProto.TabStateMsgInProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.TabsUpdateMsgInProto)return t;var e=new p.commonProto.TabsUpdateMsgInProto;if(t.tabs){if(!Array.isArray(t.tabs))throw TypeError(".commonProto.TabsUpdateMsgInProto.tabs: array expected");e.tabs=[];for(var n=0;n<t.tabs.length;++n){if("object"!==r(t.tabs[n]))throw TypeError(".commonProto.TabsUpdateMsgInProto.tabs: object expected");e.tabs[n]=p.commonProto.TabStateMsgInProto.fromObject(t.tabs[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.tabs=[]),t.tabs&&t.tabs.length){n.tabs=[];for(var r=0;r<t.tabs.length;++r)n.tabs[r]=p.commonProto.TabStateMsgInProto.toObject(t.tabs[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),s.TabStateMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.state=0,t.prototype.origin=0,t.prototype.event=0,t.prototype.desktopWidth=0,t.prototype.desktopHeight=0,t.prototype.dpr=0,t.prototype.userScreenWidth=0,t.prototype.userScreenHeight=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.state&&Object.hasOwnProperty.call(t,"state")&&e.uint32(16).int32(t.state),null!=t.origin&&Object.hasOwnProperty.call(t,"origin")&&e.uint32(24).int32(t.origin),null!=t.event&&Object.hasOwnProperty.call(t,"event")&&e.uint32(32).int32(t.event),null!=t.desktopWidth&&Object.hasOwnProperty.call(t,"desktopWidth")&&e.uint32(40).uint32(t.desktopWidth),null!=t.desktopHeight&&Object.hasOwnProperty.call(t,"desktopHeight")&&e.uint32(48).uint32(t.desktopHeight),null!=t.dpr&&Object.hasOwnProperty.call(t,"dpr")&&e.uint32(56).uint32(t.dpr),null!=t.userScreenWidth&&Object.hasOwnProperty.call(t,"userScreenWidth")&&e.uint32(64).uint32(t.userScreenWidth),null!=t.userScreenHeight&&Object.hasOwnProperty.call(t,"userScreenHeight")&&e.uint32(72).uint32(t.userScreenHeight),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.TabStateMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.state=t.int32();break;case 3:r.origin=t.int32();break;case 4:r.event=t.int32();break;case 5:r.desktopWidth=t.uint32();break;case 6:r.desktopHeight=t.uint32();break;case 7:r.dpr=t.uint32();break;case 8:r.userScreenWidth=t.uint32();break;case 9:r.userScreenHeight=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.TabStateMsgInProto)return t;var e=new p.commonProto.TabStateMsgInProto;switch(null!=t.id&&(e.id=String(t.id)),t.state){case"Connected":case 0:e.state=0;break;case"Disconnected":case 1:e.state=1}switch(t.origin){case"Primary":case 0:e.origin=0;break;case"Undocked":case 1:e.origin=1}switch(t.event){case"Added":case 0:e.event=0;break;case"Removed":case 1:e.event=1}return null!=t.desktopWidth&&(e.desktopWidth=t.desktopWidth>>>0),null!=t.desktopHeight&&(e.desktopHeight=t.desktopHeight>>>0),null!=t.dpr&&(e.dpr=t.dpr>>>0),null!=t.userScreenWidth&&(e.userScreenWidth=t.userScreenWidth>>>0),null!=t.userScreenHeight&&(e.userScreenHeight=t.userScreenHeight>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.state=e.enums===String?"Connected":0,n.origin=e.enums===String?"Primary":0,n.event=e.enums===String?"Added":0,n.desktopWidth=0,n.desktopHeight=0,n.dpr=0,n.userScreenWidth=0,n.userScreenHeight=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.state&&t.hasOwnProperty("state")&&(n.state=e.enums===String?p.commonProto.TabStateMsgInProto.TabStateTypeProto[t.state]:t.state),null!=t.origin&&t.hasOwnProperty("origin")&&(n.origin=e.enums===String?p.commonProto.TabStateMsgInProto.TabOriginTypeProto[t.origin]:t.origin),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?p.commonProto.TabStateMsgInProto.TabEventTypeProto[t.event]:t.event),null!=t.desktopWidth&&t.hasOwnProperty("desktopWidth")&&(n.desktopWidth=t.desktopWidth),null!=t.desktopHeight&&t.hasOwnProperty("desktopHeight")&&(n.desktopHeight=t.desktopHeight),null!=t.dpr&&t.hasOwnProperty("dpr")&&(n.dpr=t.dpr),null!=t.userScreenWidth&&t.hasOwnProperty("userScreenWidth")&&(n.userScreenWidth=t.userScreenWidth),null!=t.userScreenHeight&&t.hasOwnProperty("userScreenHeight")&&(n.userScreenHeight=t.userScreenHeight),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.TabStateTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Connected"]=0,e[t[1]="Disconnected"]=1,e}(),t.TabOriginTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Primary"]=0,e[t[1]="Undocked"]=1,e}(),t.TabEventTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Added"]=0,e[t[1]="Removed"]=1,e}(),t}(),s),t.exports=p},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return b}));n(155);var r=n(1),o=n(13),i={"login.title":"Sign in to your account","login.instr":"Please enter your credentials:","login.username":"Username","login.password":"Password","login.button":"Sign in","logout.title":"Session ended","logout.instr":"Your session has ended. You may start a new session or close your browser window.","logout.button":"New session","login.errorH":"Authentication failed","login.errorC":"Error message:","login.errorB":"Try again","login.invalidUserPassword":"Invalid Username or Password.","login.failedToAuthenticate":"Failed to Authenticate.","login.noAccessMessage":"Access to this application is forbidden.","login.configurationError":"Security module initialization failed. Please check server logs for details.","login.serverNotAvailable":"Sorry, the Server is not available.","login.unexpectedError":"Oops, something's not right","dialog.emptyMessage":"","dialog.logingOut":"Signing out","dialog.readyDialog":"Ready to start your session","dialog.initializingDialog":"Your session is being initialized","dialog.startingDialog":"Starting your application","dialog.unauthorizedAccess":"Unable to authorize your request","dialog.applicationBusyDialog":"","dialog.applicationAlreadyRunning":"There is already a session in progress in another window.","dialog.sessionStolenNotification":"A new session was started in another window. This session has been closed.","dialog.disconnectedDialog":"Your connection to the server is lost.","dialog.connectionErrorDialog":"A connection error has occurred. Please reconnect to continue.","dialog.tooManyClientsNotification":"There are too many active connections right now, please try again later.","dialog.stoppedDialog":"The application has been closed.","dialog.undockedInstanceNotFound":"Cannot connect to the original session.","dialog.undockedInstanceNotFound.retry":"Reconnect","dialog.undockedInstanceNotFound.close":"Close","dialog.reconnectInstanceNotFound":"Cannot connect to the original session.","dialog.reconnectInstanceNotFound.retry":"Reconnect","dialog.reconnectInstanceNotFound.newSession":"New session","dialog.reconnectInstanceNotFound.logout":"Sign out","dialog.reconnectingDialog":"Reconnecting...","dialog.timedoutDialog":"The session has timed out.","dialog.continueH":"Welcome back!","dialog.continueC1":"You can continue where you left off or ","dialog.continueC2":"start again","dialog.longPollingH":"Warning","dialog.longPollingC":"Your current network blocks WebSockets. You may experience performance problems while working on this connection. Please contact your network administrator.","dialog.longPollingB":"Dismiss","dialog.inactivityTimeoutH":"Warning","dialog.inactivityTimeoutC":"Your session will timeout in less then a minute due to inactivity. Please press any button to continue.","dialog.inactivityTimeoutB":"Dismiss","dialog.finalB1":"New session","dialog.finalB2":"Sign out","dialog.retryB1":"Reconnect","dialog.retryB2":"Sign out","dialog.networkMonitor.warn":"Your network connection is slow.","dialog.networkMonitor.offline":"No network connection.","dialog.networkMonitor.hide":"Hide","dialog.cookiesDisabledDialog":"Your browser does not allow cookies. Please enable cookies to continue.","dialog.touchSwitchMode.mouse":"Do you want to switch to mouse mode?","dialog.touchSwitchMode.touch":"Do you want to switch to touch mode?","dialog.touchSwitchMode.switchButton":"Switch","dialog.touchSwitchMode.cancelButton":"Hide","dialog.overlay.docking.visibility":"Main Webswing window has been hidden. Please make sure the main window is visible to continue.","dialog.overlay.docking.modality":"This window is blocked by another modal window.","dialog.overlay.docking.focusWindow":"Show window","dialog.autoReconnect":"Reconnecting...","selector.welcome":"Welcome,","selector.message":". Please select an application.","selector.lang.label":"Language: ","selector.admin":"Manage","selector.logout":"Logout","selector.noApp":"There are currently no available applications.","clipboard.content":"Content","clipboard.image":"Image:","clipboard.files":"Files:","clipboard.copy":"Copy to Clipboard (CTRL+C)","clipboard.more":"More...","clipboard.discard":"Discard","clipboard.cancel":"Cancel","clipboard.paste.title.touch":"Please paste content","clipboard.paste.message.touch":"Press and hold on the input below to paste from clipboard.","files.saveTitle":"Save file","files.saveName":"Please enter a name for the file.","files.saveNamePh":"Enter a file name here","files.save":"Save","files.saveInvlidFilename":"File name is invalid. Please use only alphanumeric characters, space, hyphen, dot or underscore.","files.openTitle":"Open file","files.openInst":"Please select a file to import.","files.openBrowse":"Browse","files.dnd":"Drag and drop files here","files.download":"Download","files.downloadTtip":"Download selected files","files.upload":"Upload","files.delete":"Delete","files.deleteTtip":"Delete selected files","files.cancel":"Cancel","files.progress":"Progress:","files.progComplete":"Complete","files.uploadComplete":"Upload complete","files.downloadLink.link.title":"Open link","files.downloadLink.link.message":"Please click the button below to open link.","files.downloadLink.link.button":"Open","files.downloadLink.download.title":"Download file","files.downloadLink.download.message":"Please click the button below to download the file.","files.downloadLink.download.button":"Download","files.downloadLink.print.title":"Print","files.downloadLink.print.message":"Please click the button below to view the printed file.","files.downloadLink.print.button":"View","touch.controlMode":"Control Mode","touch.desktopMode":"Desktop Mode","touch.copy":"Copy","touch.cut":"Cut","touch.paste":"Paste","touch.keyboard":"Keyboard","touch.fullscreen":"Fullscreen","accessibility.turnOn":"To turn accessibility feature on or off press CTRL 5 times. To switch between windows press CTRL 3 times. To focus out of a table or text area press ESCAPE or SHIFT ESCAPE.","accessibility.turnedOn":"Accessibility turned on.","accessibility.turnedOff":"Accessibility turned off.","accessibility.window.button.toggleDock":"Toggle dock","accessibility.window.button.close":"Close","accessibility.window.button.restore":"Restore","accessibility.window.button.minimize":"Minimize","accessibility.window.button.maximize":"Maximize","accessibility.switcher.title":"Select Window","accessibility.switcher.cancel":"Cancel","accessibility.switcher.untitled":"untitled window","accessibility.switcher.description":"Press Enter to activate selected window, press X to close the window.","accessibility.switcher.modalBlocked":"(blocked by modal)","accessibility.switcher.modalBlocked.description":"This window is blocked by another modal window. You cannot activate or close it.","taskbar.window.untitled":"(untitled)"};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(n,t);var e=g(n);function n(t,r){var o;return p(this,n),(o=e.call(this,t)).t=r,o}return h(n,[{key:"provides",value:function(){var t=this;return{"translate.translate":function(e){return t.t.translate(e)},"translate.getLocale":function(){return t.t.getLocale()}}}}]),n}(o.b);function b(t){return O.apply(this,arguments)}function O(){return(O=d(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||"",t.next=3,k(e);case 3:return n=t.sent,t.next=6,I(e);case 6:return r=t.sent,t.abrupt("return",new P(n,r));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P=function(){function t(e,n){if(p(this,t),l(this,"msg",void 0),this.msg=c(c({},i),n),null!=e&&Object.keys(e).length>1){var r=this.getLocale(),o='<select class="webswing-lang-selector" aria-labelledby="selector-label" onchange="localStorage.setItem(\'webswingLang\',this.options.item(this.selectedIndex).value);location.reload();">';for(var a in e){if(e.hasOwnProperty(a))o+="<option "+(r===a?"selected":"")+' value="'+a+'">'+e[a]+"</option>"}o+="</select>",this.msg["selector.lang"]='<span id="selector-label">${selector.lang.label}</span>'+o}else this.msg["selector.lang"]=""}return h(t,[{key:"getLocale",value:function(){return T()}},{key:"translate",value:function(t){var e=t;return this.replace(e,this.msg)}},{key:"replace",value:function(t,e){if(null!=t&&t.indexOf("${")>-1)for(var n=0;n<3;n++){var r=t;for(var o in e)e.hasOwnProperty(o)&&(r=this.replaceAll(r,"${"+o+"}",e[o]));if(r===t)return r;t=r}else if(null!=t&&null!=e[t.trim()])return e[t];return t}},{key:"escapeRegExp",value:function(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}},{key:"replaceAll",value:function(t,e,n){return t.replace(new RegExp(this.escapeRegExp(e),"g"),n)}}]),t}();function k(t){return S.apply(this,arguments)}function S(){return(S=d(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=T(),t.prev=1,t.next=4,j(e+"javascript/nls/"+n+"/select.json");case 4:return r=t.sent,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(1),t.prev=10,t.next=13,j(e+"javascript/nls/select.json");case 13:return o=t.sent,t.abrupt("return",o);case 17:return t.prev=17,t.t1=t.catch(10),t.abrupt("return",null);case 20:case"end":return t.stop()}}),t,null,[[1,8],[10,17]])})))).apply(this,arguments)}function I(t){return E.apply(this,arguments)}function E(){return(E=d(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=T(),r=n.split("-");case 2:if(!(r.length>0)){t.next=15;break}return t.prev=3,t.next=6,j(e+"javascript/nls/"+r.join("-")+"/msg.json");case 6:return o=t.sent,t.abrupt("return",o);case 10:t.prev=10,t.t0=t.catch(3),r.pop();case 13:t.next=2;break;case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}function j(t){return x.apply(this,arguments)}function x(){return(x=d(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.fetch(e);case 2:return n=t.sent,t.prev=3,t.next=6,n.json();case 6:if(null===(o=t.sent)){t.next=9;break}return t.abrupt("return",o.root?o.root:o);case 9:t.next=18;break;case 11:if(t.prev=11,t.t0=t.catch(3),!n.ok){t.next=17;break}console.error("Failed to parse translations from "+e,t.t0),t.next=18;break;case 17:throw t.t0;case 18:return t.abrupt("return",null);case 19:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}function T(){var t=navigator.language,e=null;try{e=localStorage.getItem("webswingLang")}catch(t){console.error(t)}return e||t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,s=n(359),c=s.Reader,l=s.Writer,u=s.util,d=s.roots.default||(s.roots.default={});d.commonProto=((a={}).ParamMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=l.create()),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(18).string(t.value),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.ParamMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.ParamMsgInProto)return t;var e=new d.commonProto.ParamMsgInProto;return null!=t.name&&(e.name=String(t.name)),null!=t.value&&(e.value=String(t.value)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",n.value=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.RecordingStatusEnumProto=(o={},(i=Object.create(o))[o[1]="NOT_RECORDING"]=1,i[o[2]="WAITING_FOR_RECORDING_APPROVAL"]=2,i[o[3]="DENIED_RECORDING_BY_USER"]=3,i[o[4]="RECORDING"]=4,i),a.MirroringStatusEnumProto=function(){var t={},e=Object.create(t);return e[t[1]="NOT_MIRRORING"]=1,e[t[2]="WAITING_FOR_MIRRORING_APPROVAL"]=2,e[t[3]="DENIED_MIRRORING_BY_USER"]=3,e[t[4]="MIRRORING"]=4,e}(),a.ConnectionHandshakeMsgInProto=function(){function t(t){if(this.params=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.instanceId="",t.prototype.viewId="",t.prototype.browserId="",t.prototype.currentDpr=0,t.prototype.desktopWidth=0,t.prototype.desktopHeight=0,t.prototype.applicationName="",t.prototype.mirrored=!1,t.prototype.directDrawSupported=!1,t.prototype.documentBase="",t.prototype.params=u.emptyArray,t.prototype.locale="",t.prototype.url="",t.prototype.timeZone="",t.prototype.dockingSupported=!1,t.prototype.touchMode=!1,t.prototype.accessiblityEnabled=!1,t.prototype.tabId="",t.prototype.userScreenWidth=0,t.prototype.userScreenHeight=0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.instanceId&&Object.hasOwnProperty.call(t,"instanceId")&&e.uint32(10).string(t.instanceId),null!=t.viewId&&Object.hasOwnProperty.call(t,"viewId")&&e.uint32(18).string(t.viewId),null!=t.browserId&&Object.hasOwnProperty.call(t,"browserId")&&e.uint32(26).string(t.browserId),null!=t.currentDpr&&Object.hasOwnProperty.call(t,"currentDpr")&&e.uint32(32).uint32(t.currentDpr),null!=t.desktopWidth&&Object.hasOwnProperty.call(t,"desktopWidth")&&e.uint32(40).uint32(t.desktopWidth),null!=t.desktopHeight&&Object.hasOwnProperty.call(t,"desktopHeight")&&e.uint32(48).uint32(t.desktopHeight),null!=t.applicationName&&Object.hasOwnProperty.call(t,"applicationName")&&e.uint32(58).string(t.applicationName),null!=t.mirrored&&Object.hasOwnProperty.call(t,"mirrored")&&e.uint32(64).bool(t.mirrored),null!=t.directDrawSupported&&Object.hasOwnProperty.call(t,"directDrawSupported")&&e.uint32(72).bool(t.directDrawSupported),null!=t.documentBase&&Object.hasOwnProperty.call(t,"documentBase")&&e.uint32(82).string(t.documentBase),null!=t.params&&t.params.length)for(var n=0;n<t.params.length;++n)d.commonProto.ParamMsgInProto.encode(t.params[n],e.uint32(90).fork()).ldelim();return null!=t.locale&&Object.hasOwnProperty.call(t,"locale")&&e.uint32(98).string(t.locale),null!=t.url&&Object.hasOwnProperty.call(t,"url")&&e.uint32(106).string(t.url),null!=t.timeZone&&Object.hasOwnProperty.call(t,"timeZone")&&e.uint32(114).string(t.timeZone),null!=t.dockingSupported&&Object.hasOwnProperty.call(t,"dockingSupported")&&e.uint32(120).bool(t.dockingSupported),null!=t.touchMode&&Object.hasOwnProperty.call(t,"touchMode")&&e.uint32(128).bool(t.touchMode),null!=t.accessiblityEnabled&&Object.hasOwnProperty.call(t,"accessiblityEnabled")&&e.uint32(136).bool(t.accessiblityEnabled),null!=t.tabId&&Object.hasOwnProperty.call(t,"tabId")&&e.uint32(146).string(t.tabId),null!=t.userScreenWidth&&Object.hasOwnProperty.call(t,"userScreenWidth")&&e.uint32(152).uint32(t.userScreenWidth),null!=t.userScreenHeight&&Object.hasOwnProperty.call(t,"userScreenHeight")&&e.uint32(160).uint32(t.userScreenHeight),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.ConnectionHandshakeMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instanceId=t.string();break;case 2:r.viewId=t.string();break;case 3:r.browserId=t.string();break;case 4:r.currentDpr=t.uint32();break;case 5:r.desktopWidth=t.uint32();break;case 6:r.desktopHeight=t.uint32();break;case 7:r.applicationName=t.string();break;case 8:r.mirrored=t.bool();break;case 9:r.directDrawSupported=t.bool();break;case 10:r.documentBase=t.string();break;case 11:r.params&&r.params.length||(r.params=[]),r.params.push(d.commonProto.ParamMsgInProto.decode(t,t.uint32()));break;case 12:r.locale=t.string();break;case 13:r.url=t.string();break;case 14:r.timeZone=t.string();break;case 15:r.dockingSupported=t.bool();break;case 16:r.touchMode=t.bool();break;case 17:r.accessiblityEnabled=t.bool();break;case 18:r.tabId=t.string();break;case 19:r.userScreenWidth=t.uint32();break;case 20:r.userScreenHeight=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.ConnectionHandshakeMsgInProto)return t;var e=new d.commonProto.ConnectionHandshakeMsgInProto;if(null!=t.instanceId&&(e.instanceId=String(t.instanceId)),null!=t.viewId&&(e.viewId=String(t.viewId)),null!=t.browserId&&(e.browserId=String(t.browserId)),null!=t.currentDpr&&(e.currentDpr=t.currentDpr>>>0),null!=t.desktopWidth&&(e.desktopWidth=t.desktopWidth>>>0),null!=t.desktopHeight&&(e.desktopHeight=t.desktopHeight>>>0),null!=t.applicationName&&(e.applicationName=String(t.applicationName)),null!=t.mirrored&&(e.mirrored=Boolean(t.mirrored)),null!=t.directDrawSupported&&(e.directDrawSupported=Boolean(t.directDrawSupported)),null!=t.documentBase&&(e.documentBase=String(t.documentBase)),t.params){if(!Array.isArray(t.params))throw TypeError(".commonProto.ConnectionHandshakeMsgInProto.params: array expected");e.params=[];for(var n=0;n<t.params.length;++n){if("object"!==r(t.params[n]))throw TypeError(".commonProto.ConnectionHandshakeMsgInProto.params: object expected");e.params[n]=d.commonProto.ParamMsgInProto.fromObject(t.params[n])}}return null!=t.locale&&(e.locale=String(t.locale)),null!=t.url&&(e.url=String(t.url)),null!=t.timeZone&&(e.timeZone=String(t.timeZone)),null!=t.dockingSupported&&(e.dockingSupported=Boolean(t.dockingSupported)),null!=t.touchMode&&(e.touchMode=Boolean(t.touchMode)),null!=t.accessiblityEnabled&&(e.accessiblityEnabled=Boolean(t.accessiblityEnabled)),null!=t.tabId&&(e.tabId=String(t.tabId)),null!=t.userScreenWidth&&(e.userScreenWidth=t.userScreenWidth>>>0),null!=t.userScreenHeight&&(e.userScreenHeight=t.userScreenHeight>>>0),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.params=[]),e.defaults&&(n.instanceId="",n.viewId="",n.browserId="",n.currentDpr=0,n.desktopWidth=0,n.desktopHeight=0,n.applicationName="",n.mirrored=!1,n.directDrawSupported=!1,n.documentBase="",n.locale="",n.url="",n.timeZone="",n.dockingSupported=!1,n.touchMode=!1,n.accessiblityEnabled=!1,n.tabId="",n.userScreenWidth=0,n.userScreenHeight=0),null!=t.instanceId&&t.hasOwnProperty("instanceId")&&(n.instanceId=t.instanceId),null!=t.viewId&&t.hasOwnProperty("viewId")&&(n.viewId=t.viewId),null!=t.browserId&&t.hasOwnProperty("browserId")&&(n.browserId=t.browserId),null!=t.currentDpr&&t.hasOwnProperty("currentDpr")&&(n.currentDpr=t.currentDpr),null!=t.desktopWidth&&t.hasOwnProperty("desktopWidth")&&(n.desktopWidth=t.desktopWidth),null!=t.desktopHeight&&t.hasOwnProperty("desktopHeight")&&(n.desktopHeight=t.desktopHeight),null!=t.applicationName&&t.hasOwnProperty("applicationName")&&(n.applicationName=t.applicationName),null!=t.mirrored&&t.hasOwnProperty("mirrored")&&(n.mirrored=t.mirrored),null!=t.directDrawSupported&&t.hasOwnProperty("directDrawSupported")&&(n.directDrawSupported=t.directDrawSupported),null!=t.documentBase&&t.hasOwnProperty("documentBase")&&(n.documentBase=t.documentBase),t.params&&t.params.length){n.params=[];for(var r=0;r<t.params.length;++r)n.params[r]=d.commonProto.ParamMsgInProto.toObject(t.params[r],e)}return null!=t.locale&&t.hasOwnProperty("locale")&&(n.locale=t.locale),null!=t.url&&t.hasOwnProperty("url")&&(n.url=t.url),null!=t.timeZone&&t.hasOwnProperty("timeZone")&&(n.timeZone=t.timeZone),null!=t.dockingSupported&&t.hasOwnProperty("dockingSupported")&&(n.dockingSupported=t.dockingSupported),null!=t.touchMode&&t.hasOwnProperty("touchMode")&&(n.touchMode=t.touchMode),null!=t.accessiblityEnabled&&t.hasOwnProperty("accessiblityEnabled")&&(n.accessiblityEnabled=t.accessiblityEnabled),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),null!=t.userScreenWidth&&t.hasOwnProperty("userScreenWidth")&&(n.userScreenWidth=t.userScreenWidth),null!=t.userScreenHeight&&t.hasOwnProperty("userScreenHeight")&&(n.userScreenHeight=t.userScreenHeight),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.TimestampsMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.startTimestamp="",t.prototype.sendTimestamp="",t.prototype.renderingTime="",t.prototype.ping=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=l.create()),null!=t.startTimestamp&&Object.hasOwnProperty.call(t,"startTimestamp")&&e.uint32(10).string(t.startTimestamp),null!=t.sendTimestamp&&Object.hasOwnProperty.call(t,"sendTimestamp")&&e.uint32(18).string(t.sendTimestamp),null!=t.renderingTime&&Object.hasOwnProperty.call(t,"renderingTime")&&e.uint32(26).string(t.renderingTime),null!=t.ping&&Object.hasOwnProperty.call(t,"ping")&&e.uint32(32).uint32(t.ping),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.TimestampsMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.startTimestamp=t.string();break;case 2:r.sendTimestamp=t.string();break;case 3:r.renderingTime=t.string();break;case 4:r.ping=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.TimestampsMsgInProto)return t;var e=new d.commonProto.TimestampsMsgInProto;return null!=t.startTimestamp&&(e.startTimestamp=String(t.startTimestamp)),null!=t.sendTimestamp&&(e.sendTimestamp=String(t.sendTimestamp)),null!=t.renderingTime&&(e.renderingTime=String(t.renderingTime)),null!=t.ping&&(e.ping=t.ping>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.startTimestamp="",n.sendTimestamp="",n.renderingTime="",n.ping=0),null!=t.startTimestamp&&t.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.startTimestamp),null!=t.sendTimestamp&&t.hasOwnProperty("sendTimestamp")&&(n.sendTimestamp=t.sendTimestamp),null!=t.renderingTime&&t.hasOwnProperty("renderingTime")&&(n.renderingTime=t.renderingTime),null!=t.ping&&t.hasOwnProperty("ping")&&(n.ping=t.ping),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.TabsUpdateMsgInProto=function(){function t(t){if(this.tabs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tabs=u.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.tabs&&t.tabs.length)for(var n=0;n<t.tabs.length;++n)d.commonProto.TabStateMsgInProto.encode(t.tabs[n],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.TabsUpdateMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tabs&&r.tabs.length||(r.tabs=[]),r.tabs.push(d.commonProto.TabStateMsgInProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.TabsUpdateMsgInProto)return t;var e=new d.commonProto.TabsUpdateMsgInProto;if(t.tabs){if(!Array.isArray(t.tabs))throw TypeError(".commonProto.TabsUpdateMsgInProto.tabs: array expected");e.tabs=[];for(var n=0;n<t.tabs.length;++n){if("object"!==r(t.tabs[n]))throw TypeError(".commonProto.TabsUpdateMsgInProto.tabs: object expected");e.tabs[n]=d.commonProto.TabStateMsgInProto.fromObject(t.tabs[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.tabs=[]),t.tabs&&t.tabs.length){n.tabs=[];for(var r=0;r<t.tabs.length;++r)n.tabs[r]=d.commonProto.TabStateMsgInProto.toObject(t.tabs[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.TabStateMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.state=0,t.prototype.origin=0,t.prototype.event=0,t.prototype.desktopWidth=0,t.prototype.desktopHeight=0,t.prototype.dpr=0,t.prototype.userScreenWidth=0,t.prototype.userScreenHeight=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=l.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.state&&Object.hasOwnProperty.call(t,"state")&&e.uint32(16).int32(t.state),null!=t.origin&&Object.hasOwnProperty.call(t,"origin")&&e.uint32(24).int32(t.origin),null!=t.event&&Object.hasOwnProperty.call(t,"event")&&e.uint32(32).int32(t.event),null!=t.desktopWidth&&Object.hasOwnProperty.call(t,"desktopWidth")&&e.uint32(40).uint32(t.desktopWidth),null!=t.desktopHeight&&Object.hasOwnProperty.call(t,"desktopHeight")&&e.uint32(48).uint32(t.desktopHeight),null!=t.dpr&&Object.hasOwnProperty.call(t,"dpr")&&e.uint32(56).uint32(t.dpr),null!=t.userScreenWidth&&Object.hasOwnProperty.call(t,"userScreenWidth")&&e.uint32(64).uint32(t.userScreenWidth),null!=t.userScreenHeight&&Object.hasOwnProperty.call(t,"userScreenHeight")&&e.uint32(72).uint32(t.userScreenHeight),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.TabStateMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.state=t.int32();break;case 3:r.origin=t.int32();break;case 4:r.event=t.int32();break;case 5:r.desktopWidth=t.uint32();break;case 6:r.desktopHeight=t.uint32();break;case 7:r.dpr=t.uint32();break;case 8:r.userScreenWidth=t.uint32();break;case 9:r.userScreenHeight=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.TabStateMsgInProto)return t;var e=new d.commonProto.TabStateMsgInProto;switch(null!=t.id&&(e.id=String(t.id)),t.state){case"Connected":case 0:e.state=0;break;case"Disconnected":case 1:e.state=1}switch(t.origin){case"Primary":case 0:e.origin=0;break;case"Undocked":case 1:e.origin=1}switch(t.event){case"Added":case 0:e.event=0;break;case"Removed":case 1:e.event=1}return null!=t.desktopWidth&&(e.desktopWidth=t.desktopWidth>>>0),null!=t.desktopHeight&&(e.desktopHeight=t.desktopHeight>>>0),null!=t.dpr&&(e.dpr=t.dpr>>>0),null!=t.userScreenWidth&&(e.userScreenWidth=t.userScreenWidth>>>0),null!=t.userScreenHeight&&(e.userScreenHeight=t.userScreenHeight>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.state=e.enums===String?"Connected":0,n.origin=e.enums===String?"Primary":0,n.event=e.enums===String?"Added":0,n.desktopWidth=0,n.desktopHeight=0,n.dpr=0,n.userScreenWidth=0,n.userScreenHeight=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.state&&t.hasOwnProperty("state")&&(n.state=e.enums===String?d.commonProto.TabStateMsgInProto.TabStateTypeProto[t.state]:t.state),null!=t.origin&&t.hasOwnProperty("origin")&&(n.origin=e.enums===String?d.commonProto.TabStateMsgInProto.TabOriginTypeProto[t.origin]:t.origin),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?d.commonProto.TabStateMsgInProto.TabEventTypeProto[t.event]:t.event),null!=t.desktopWidth&&t.hasOwnProperty("desktopWidth")&&(n.desktopWidth=t.desktopWidth),null!=t.desktopHeight&&t.hasOwnProperty("desktopHeight")&&(n.desktopHeight=t.desktopHeight),null!=t.dpr&&t.hasOwnProperty("dpr")&&(n.dpr=t.dpr),null!=t.userScreenWidth&&t.hasOwnProperty("userScreenWidth")&&(n.userScreenWidth=t.userScreenWidth),null!=t.userScreenHeight&&t.hasOwnProperty("userScreenHeight")&&(n.userScreenHeight=t.userScreenHeight),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.TabStateTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Connected"]=0,e[t[1]="Disconnected"]=1,e}(),t.TabOriginTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Primary"]=0,e[t[1]="Undocked"]=1,e}(),t.TabEventTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Added"]=0,e[t[1]="Removed"]=1,e}(),t}(),a),t.exports=d},function(t,e,n){var r=n(8),o=n(2),i=n(83);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3),o=n(85),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(11),o=n(88),i=n(14),a=n(10);t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,l=0;l<n.length;l++){var u=n[l];r(t,u)||s(t,u,c(e,u))}}},function(t,e,n){var r=n(3);t.exports=r},function(t,e,n){var r=n(11),o=n(19),i=n(66).indexOf,a=n(52);t.exports=function(t,e){var n,s=o(t),c=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(l,n)||l.push(n));return l}},function(t,e,n){var r=n(91);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(8),o=n(10),i=n(5),a=n(56);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,c=0;s>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(25);t.exports=r("document","documentElement")},function(t,e,n){var r=n(19),o=n(38).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(6);e.f=r},function(t,e,n){"use strict";var r=n(12),o=n(39),i=n(9),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=i(n.length),c=o(t,s),l=o(e,s),u=arguments.length>2?arguments[2]:void 0,d=a((void 0===u?s:o(u,s))-l,s-c),p=1;for(l<c&&c<l+d&&(p=-1,l+=d-1,c+=d-1);d-- >0;)l in n?n[c]=n[l]:delete n[c],c+=p,l+=p;return n}},function(t,e,n){"use strict";var r=n(55),o=n(9),i=n(35),a=function(t,e,n,s,c,l,u,d){for(var p,f=c,h=0,y=!!u&&i(u,d,3);h<s;){if(h in n){if(p=y?y(n[h],h,e):n[h],l>0&&r(p))f=a(t,e,p,o(p.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=p}f++}h++}return f};t.exports=a},function(t,e,n){"use strict";var r=n(35),o=n(12),i=n(180),a=n(93),s=n(9),c=n(40),l=n(60);t.exports=function(t){var e,n,u,d,p,f,h=o(t),y="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,m=void 0!==v,w=l(h),b=0;if(m&&(v=r(v,g>2?arguments[2]:void 0,2)),null==w||y==Array&&a(w))for(n=new y(e=s(h.length));e>b;b++)f=m?v(h[b],b):h[b],c(n,b,f);else for(p=(d=w.call(h)).next,n=new y;!(u=p.call(d)).done;b++)f=m?i(d,v,[u.value,b],!0):u.value,c(n,b,f);return n.length=b,n}},function(t,e,n){var r=n(5);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},function(t,e,n){"use strict";var r=n(125).IteratorPrototype,o=n(34),i=n(32),a=n(30),s=n(59),c=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,l,!1,!0),s[l]=c,t}},function(t,e,n){"use strict";var r,o,i,a=n(2),s=n(27),c=n(18),l=n(11),u=n(6),d=n(29),p=u("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):f=!0);var h=null==r||a((function(){var t={};return r[p].call(t)!==t}));h&&(r={}),d&&!h||l(r,p)||c(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(3),o=n(8),i=n(128),a=n(18),s=n(47),c=n(2),l=n(37),u=n(24),d=n(9),p=n(129),f=n(191),h=n(27),y=n(45),g=n(38).f,v=n(10).f,m=n(92),w=n(30),b=n(20),O=b.get,P=b.set,k=r.ArrayBuffer,S=k,I=r.DataView,E=I&&I.prototype,j=Object.prototype,x=r.RangeError,T=f.pack,M=f.unpack,A=function(t){return[255&t]},C=function(t){return[255&t,t>>8&255]},D=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},R=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},F=function(t){return T(t,23,4)},B=function(t){return T(t,52,8)},L=function(t,e){v(t.prototype,e,{get:function(){return O(this)[e]}})},_=function(t,e,n,r){var o=p(n),i=O(t);if(o+e>i.byteLength)throw x("Wrong index");var a=O(i.buffer).bytes,s=o+i.byteOffset,c=a.slice(s,s+e);return r?c:c.reverse()},W=function(t,e,n,r,o,i){var a=p(n),s=O(t);if(a+e>s.byteLength)throw x("Wrong index");for(var c=O(s.buffer).bytes,l=a+s.byteOffset,u=r(+o),d=0;d<e;d++)c[l+d]=u[i?d:e-d-1]};if(i){if(!c((function(){k(1)}))||!c((function(){new k(-1)}))||c((function(){return new k,new k(1.5),new k(NaN),"ArrayBuffer"!=k.name}))){for(var N,H=(S=function(t){return l(this,S),new k(p(t))}).prototype=k.prototype,q=g(k),U=0;q.length>U;)(N=q[U++])in S||a(S,N,k[N]);H.constructor=S}y&&h(E)!==j&&y(E,j);var z=new I(new S(2)),J=E.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(E,{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},{unsafe:!0})}else S=function(t){l(this,S,"ArrayBuffer");var e=p(t);P(this,{bytes:m.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},I=function(t,e,n){l(this,I,"DataView"),l(t,S,"DataView");var r=O(t).byteLength,i=u(e);if(i<0||i>r)throw x("Wrong offset");if(i+(n=void 0===n?r-i:d(n))>r)throw x("Wrong length");P(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(L(S,"byteLength"),L(I,"buffer"),L(I,"byteLength"),L(I,"byteOffset")),s(I.prototype,{getInt8:function(t){return _(this,1,t)[0]<<24>>24},getUint8:function(t){return _(this,1,t)[0]},getInt16:function(t){var e=_(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=_(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return R(_(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return R(_(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return M(_(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return M(_(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){W(this,1,t,A,e)},setUint8:function(t,e){W(this,1,t,A,e)},setInt16:function(t,e){W(this,2,t,C,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){W(this,2,t,C,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){W(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){W(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){W(this,4,t,F,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){W(this,8,t,B,e,arguments.length>2?arguments[2]:void 0)}});w(S,"ArrayBuffer"),w(I,"DataView"),t.exports={ArrayBuffer:S,DataView:I}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(24),o=n(9);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(10).f,o=n(34),i=n(47),a=n(35),s=n(37),c=n(63),l=n(95),u=n(46),d=n(8),p=n(41).fastKey,f=n(20),h=f.set,y=f.getterFor;t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,r){s(t,u,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),d||(t.size=0),null!=r&&c(r,t[l],{that:t,AS_ENTRIES:n})})),f=y(e),g=function(t,e,n){var r,o,i=f(t),a=v(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),d?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},v=function(t,e){var n,r=f(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(u.prototype,{clear:function(){for(var t=f(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e=f(this),n=v(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),d?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=f(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),i(u.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),d&&r(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(t,e,n){var r=e+" Iterator",o=y(e),i=y(r);l(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var r=n(4),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e,n){"use strict";var r=n(8),o=n(2),i=n(56),a=n(90),s=n(64),c=n(12),l=n(50),u=Object.assign,d=Object.defineProperty;t.exports=!u||o((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||"abcdefghijklmnopqrst"!=i(u({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,u=1,d=a.f,p=s.f;o>u;)for(var f,h=l(arguments[u++]),y=d?i(h).concat(d(h)):i(h),g=y.length,v=0;g>v;)f=y[v++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:u},function(t,e,n){var r=n(8),o=n(56),i=n(19),a=n(64).f,s=function(t){return function(e){for(var n,s=i(e),c=o(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}};t.exports={entries:s(!0),values:s(!1)}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(3);t.exports=r.Promise},function(t,e,n){var r,o,i,a=n(3),s=n(2),c=n(35),l=n(117),u=n(83),d=n(138),p=n(54),f=a.location,h=a.setImmediate,y=a.clearImmediate,g=a.process,v=a.MessageChannel,m=a.Dispatch,w=0,b={},O=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},P=function(t){return function(){O(t)}},k=function(t){O(t.data)},S=function(t){a.postMessage(t+"",f.protocol+"//"+f.host)};h&&y||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++w]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(w),w},y=function(t){delete b[t]},p?r=function(t){g.nextTick(P(t))}:m&&m.now?r=function(t){m.now(P(t))}:v&&!d?(i=(o=new v).port2,o.port1.onmessage=k,r=c(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!s(S)?(r=S,a.addEventListener("message",k,!1)):r="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),O(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:h,clear:y}},function(t,e,n){var r=n(68);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r,o,i,a,s,c,l,u,d=n(3),p=n(14).f,f=n(137).set,h=n(138),y=n(255),g=n(54),v=d.MutationObserver||d.WebKitMutationObserver,m=d.document,w=d.process,b=d.Promise,O=p(d,"queueMicrotask"),P=O&&O.value;P||(r=function(){var t,e;for(g&&(t=w.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},h||g||y||!v||!m?b&&b.resolve?(l=b.resolve(void 0),u=l.then,a=function(){u.call(l,r)}):a=g?function(){w.nextTick(r)}:function(){f.call(d,r)}:(s=!0,c=m.createTextNode(""),new v(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),t.exports=P||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(5),o=n(4),i=n(141);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(26),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(0),o=n(77);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){"use strict";var r=n(78).charAt,o=n(20),i=n(95),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(9),o=n(99),i=n(17),a=Math.ceil,s=function(t){return function(e,n,s){var c,l,u=String(i(e)),d=u.length,p=void 0===s?" ":String(s),f=r(n);return f<=d||""==p?u:(c=f-d,(l=o.call(p,a(c/p.length))).length>c&&(l=l.slice(0,c)),t?u+l:l+u)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,n){var r=n(68);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){var r=n(308);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(12),o=n(9),i=n(60),a=n(93),s=n(35),c=n(7).aTypedArrayConstructor;t.exports=function(t){var e,n,l,u,d,p,f=r(t),h=arguments.length,y=h>1?arguments[1]:void 0,g=void 0!==y,v=i(f);if(null!=v&&!a(v))for(p=(d=v.call(f)).next,f=[];!(u=p.call(d)).done;)f.push(u.value);for(g&&h>2&&(y=s(y,arguments[2],2)),n=o(f.length),l=new(c(this))(n),e=0;n>e;e++)l[e]=g?y(f[e],e):f[e];return l}},function(t,e,n){var r=n(26),o=n(12),i=n(50),a=n(9),s=function(t){return function(e,n,s,c){r(n);var l=o(e),u=i(l),d=a(l.length),p=t?d-1:0,f=t?-1:1;if(s<2)for(;;){if(p in u){c=u[p],p+=f;break}if(p+=f,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=f)p in u&&(c=n(c,u[p],p,l));return c}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){"use strict";var r=n(47),o=n(41).getWeakData,i=n(5),a=n(4),s=n(37),c=n(63),l=n(16),u=n(11),d=n(20),p=d.set,f=d.getterFor,h=l.find,y=l.findIndex,g=0,v=function(t){return t.frozen||(t.frozen=new m)},m=function(){this.entries=[]},w=function(t,e){return h(t.entries,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=w(this,t);if(e)return e[1]},has:function(t){return!!w(this,t)},set:function(t,e){var n=w(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=y(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,l){var d=t((function(t,r){s(t,d,e),p(t,{type:e,id:g++,frozen:void 0}),null!=r&&c(r,t[l],{that:t,AS_ENTRIES:n})})),h=f(e),y=function(t,e,n){var r=h(t),a=o(i(e),!0);return!0===a?v(r).set(e,n):a[r.id]=n,t};return r(d.prototype,{delete:function(t){var e=h(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).delete(t):n&&u(n,e.id)&&delete n[e.id]},has:function(t){var e=h(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).has(t):n&&u(n,e.id)}}),r(d.prototype,n?{get:function(t){var e=h(this);if(a(t)){var n=o(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return y(this,t,e)}}:{add:function(t){return y(this,t,!0)}}),d}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(2),o=n(6),i=n(29),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";n(70);var r=n(0),o=n(25),i=n(151),a=n(15),s=n(47),c=n(30),l=n(124),u=n(20),d=n(37),p=n(11),f=n(35),h=n(61),y=n(5),g=n(4),v=n(34),m=n(32),w=n(352),b=n(60),O=n(6),P=o("fetch"),k=o("Headers"),S=O("iterator"),I=u.set,E=u.getterFor("URLSearchParams"),j=u.getterFor("URLSearchParamsIterator"),x=/\+/g,T=Array(4),M=function(t){return T[t-1]||(T[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},A=function(t){try{return decodeURIComponent(t)}catch(e){return t}},C=function(t){var e=t.replace(x," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(M(n--),A);return e}},D=/[!'()~]|%20/g,R={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(t){return R[t]},B=function(t){return encodeURIComponent(t).replace(D,F)},L=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:C(r.shift()),value:C(r.join("="))}))},_=function(t){this.entries.length=0,L(this.entries,t)},W=function(t,e){if(t<e)throw TypeError("Not enough arguments")},N=l((function(t,e){I(this,{type:"URLSearchParamsIterator",iterator:w(E(t).entries),kind:e})}),"Iterator",(function(){var t=j(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),H=function(){d(this,H,"URLSearchParams");var t,e,n,r,o,i,a,s,c,l=arguments.length>0?arguments[0]:void 0,u=this,f=[];if(I(u,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:_}),void 0!==l)if(g(l))if("function"==typeof(t=b(l)))for(n=(e=t.call(l)).next;!(r=n.call(e)).done;){if((a=(i=(o=w(y(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(c in l)p(l,c)&&f.push({key:c,value:l[c]+""});else L(f,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},q=H.prototype;s(q,{append:function(t,e){W(arguments.length,2);var n=E(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){W(arguments.length,1);for(var e=E(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){W(arguments.length,1);for(var e=E(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){W(arguments.length,1);for(var e=E(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){W(arguments.length,1);for(var e=E(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){W(arguments.length,1);for(var n,r=E(this),o=r.entries,i=!1,a=t+"",s=e+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=E(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){for(var e,n=E(this).entries,r=f(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),a(q,S,q.entries),a(q,"toString",(function(){for(var t,e=E(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(B(t.key)+"="+B(t.value));return n.join("&")}),{enumerable:!0}),c(H,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:H}),i||"function"!=typeof P||"function"!=typeof k||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,o=[t];return arguments.length>1&&(g(e=arguments[1])&&(n=e.body,"URLSearchParams"===h(n)&&((r=e.headers?new k(e.headers):new k).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:m(0,String(n)),headers:m(0,r)}))),o.push(e)),P.apply(this,o)}}),t.exports={URLSearchParams:H,getState:E}},function(t,e,n){"use strict";(function(t){var r=n(81),o=n(82),i=setTimeout;function a(t){return Boolean(t&&void 0!==t.length)}function s(){}function c(t){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function l(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void d(e.promise,t)}u(e.promise,r)}else(1===t._state?u:d)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof c)return t._state=3,t._value=e,void p(t);if("function"==typeof n)return void h((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,p(t)}catch(e){d(t,e)}var r,o}function d(t,e){t._state=2,t._value=e,p(t)}function p(t){2===t._state&&0===t._deferreds.length&&c._immediateFn((function(){t._handled||c._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)l(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,d(e,t))}))}catch(t){if(n)return;n=!0,d(e,t)}}c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var n=new this.constructor(s);return l(this,new f(t,e,n)),n},c.prototype.finally=r.a,c.all=function(t){return new c((function(e,n){if(!a(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){i(t,e)}),n)}r[t]=a,0==--o&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)i(s,r[s])}))},c.allSettled=o.a,c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c((function(e){e(t)}))},c.reject=function(t){return new c((function(e,n){n(t)}))},c.race=function(t){return new c((function(e,n){if(!a(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)c.resolve(t[r]).then(e,n)}))},c._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){i(t,0)},c._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=c}).call(this,n(355).setImmediate)},function(t,e,n){"use strict";(function(t){var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(373),r.base64=n(374),r.EventEmitter=n(375),r.float=n(376),r.inquire=n(377),r.utf8=n(378),r.pool=n(379),r.LongBits=n(380),r.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),r.global=r.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(49))},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var u={};function d(){}function p(){}function f(){}var h={};h[o]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==e&&n.call(g,o)&&(h=g);var v=f.prototype=d.prototype=Object.create(h);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v.constructor=f,f.constructor=p,p.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},m(w.prototype),w.prototype[i]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(v),s(v,a,"Generator"),v[o]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(181),n(70),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(192),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(221),n(222),n(223),n(224),n(225),n(226),n(228),n(230),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(253),n(254),n(258),n(259),n(260),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(142),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(143),n(281),n(282),n(283),n(284),n(285),n(286),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(348),n(349),n(350),n(353),n(152),n(354),n(358)},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(25),a=n(29),s=n(8),c=n(91),l=n(115),u=n(2),d=n(11),p=n(55),f=n(4),h=n(5),y=n(12),g=n(19),v=n(28),m=n(32),w=n(34),b=n(56),O=n(38),P=n(118),k=n(90),S=n(14),I=n(10),E=n(64),j=n(18),x=n(15),T=n(87),M=n(65),A=n(52),C=n(51),D=n(6),R=n(119),F=n(21),B=n(30),L=n(20),_=n(16).forEach,W=M("hidden"),N=D("toPrimitive"),H=L.set,q=L.getterFor("Symbol"),U=Object.prototype,z=o.Symbol,J=i("JSON","stringify"),Y=S.f,G=I.f,X=P.f,$=E.f,K=T("symbols"),V=T("op-symbols"),Q=T("string-to-symbol-registry"),Z=T("symbol-to-string-registry"),tt=T("wks"),et=o.QObject,nt=!et||!et.prototype||!et.prototype.findChild,rt=s&&u((function(){return 7!=w(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Y(U,e);r&&delete U[e],G(t,e,n),r&&t!==U&&G(U,e,r)}:G,ot=function(t,e){var n=K[t]=w(z.prototype);return H(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},it=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof z},at=function(t,e,n){t===U&&at(V,e,n),h(t);var r=v(e,!0);return h(n),d(K,r)?(n.enumerable?(d(t,W)&&t[W][r]&&(t[W][r]=!1),n=w(n,{enumerable:m(0,!1)})):(d(t,W)||G(t,W,m(1,{})),t[W][r]=!0),rt(t,r,n)):G(t,r,n)},st=function(t,e){h(t);var n=g(e),r=b(n).concat(dt(n));return _(r,(function(e){s&&!ct.call(n,e)||at(t,e,n[e])})),t},ct=function(t){var e=v(t,!0),n=$.call(this,e);return!(this===U&&d(K,e)&&!d(V,e))&&(!(n||!d(this,e)||!d(K,e)||d(this,W)&&this[W][e])||n)},lt=function(t,e){var n=g(t),r=v(e,!0);if(n!==U||!d(K,r)||d(V,r)){var o=Y(n,r);return!o||!d(K,r)||d(n,W)&&n[W][r]||(o.enumerable=!0),o}},ut=function(t){var e=X(g(t)),n=[];return _(e,(function(t){d(K,t)||d(A,t)||n.push(t)})),n},dt=function(t){var e=t===U,n=X(e?V:g(t)),r=[];return _(n,(function(t){!d(K,t)||e&&!d(U,t)||r.push(K[t])})),r};(c||(x((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=C(t),n=function(t){this===U&&n.call(V,t),d(this,W)&&d(this[W],e)&&(this[W][e]=!1),rt(this,e,m(1,t))};return s&&nt&&rt(U,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return q(this).tag})),x(z,"withoutSetter",(function(t){return ot(C(t),t)})),E.f=ct,I.f=at,S.f=lt,O.f=P.f=ut,k.f=dt,R.f=function(t){return ot(D(t),t)},s&&(G(z.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),a||x(U,"propertyIsEnumerable",ct,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:z}),_(b(tt),(function(t){F(t)})),r({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(Q,e))return Q[e];var n=z(e);return Q[e]=n,Z[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(d(Z,t))return Z[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(t,e){return void 0===e?w(t):st(w(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:lt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ut,getOwnPropertySymbols:dt}),r({target:"Object",stat:!0,forced:u((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(y(t))}}),J)&&r({target:"JSON",stat:!0,forced:!c||u((function(){var t=z();return"[null]"!=J([t])||"{}"!=J({a:t})||"{}"!=J(Object(t))}))},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(f(e)||void 0!==t)&&!it(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!it(e))return e}),o[1]=e,J.apply(null,o)}});z.prototype[N]||j(z.prototype,N,z.prototype.valueOf),B(z,"Symbol"),A[W]=!0},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(3),a=n(11),s=n(4),c=n(10).f,l=n(112),u=i.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(p,u);var f=p.prototype=u.prototype;f.constructor=p;var h=f.toString,y="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(a(d,t))return"";var n=y?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},function(t,e,n){n(21)("asyncIterator")},function(t,e,n){n(21)("hasInstance")},function(t,e,n){n(21)("isConcatSpreadable")},function(t,e,n){n(21)("iterator")},function(t,e,n){n(21)("match")},function(t,e,n){n(21)("replace")},function(t,e,n){n(21)("search")},function(t,e,n){n(21)("species")},function(t,e,n){n(21)("split")},function(t,e,n){n(21)("toPrimitive")},function(t,e,n){n(21)("toStringTag")},function(t,e,n){n(21)("unscopables")},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(55),a=n(4),s=n(12),c=n(9),l=n(40),u=n(57),d=n(58),p=n(6),f=n(67),h=p("isConcatSpreadable"),y=f>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=d("concat"),v=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!y||!g},{concat:function(t){var e,n,r,o,i,a=s(this),d=u(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(v(i=-1===e?a:arguments[e])){if(p+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in i&&l(d,p,i[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,p++,i)}return d.length=p,d}})},function(t,e,n){var r=n(0),o=n(120),i=n(36);r({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},function(t,e,n){var r=n(0),o=n(92),i=n(36);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,n){"use strict";var r=n(0),o=n(16).filter;r({target:"Array",proto:!0,forced:!n(58)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(16).find,i=n(36),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,n){"use strict";var r=n(0),o=n(16).findIndex,i=n(36),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(t,e,n){"use strict";var r=n(0),o=n(121),i=n(12),a=n(9),s=n(24),c=n(57);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),n=a(e.length),r=c(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:s(t)),r}})},function(t,e,n){"use strict";var r=n(0),o=n(121),i=n(12),a=n(9),s=n(26),c=n(57);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=i(this),r=a(n.length);return s(t),(e=c(n,0)).length=o(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){var r=n(0),o=n(122);r({target:"Array",stat:!0,forced:!n(69)((function(t){Array.from(t)}))},{from:o})},function(t,e,n){var r=n(5),o=n(123);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){throw o(t),e}}},function(t,e,n){"use strict";var r=n(0),o=n(66).includes,i=n(36);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(19),a=n(97),s=[].join,c=o!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),o=n(16).map;r({target:"Array",proto:!0,forced:!n(58)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(40);r({target:"Array",stat:!0,forced:o((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),o=n(4),i=n(55),a=n(39),s=n(9),c=n(19),l=n(40),u=n(6),d=n(58)("slice"),p=u("species"),f=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,r,u,d=c(this),y=s(d.length),g=a(t,y),v=a(void 0===e?y:e,y);if(i(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(d,g,v);for(r=new(void 0===n?Array:n)(h(v-g,0)),u=0;g<v;g++,u++)g in d&&l(r,u,d[g]);return r.length=u,r}})},function(t,e,n){n(46)("Array")},function(t,e,n){"use strict";var r=n(0),o=n(39),i=n(24),a=n(9),s=n(12),c=n(57),l=n(40),u=n(58)("splice"),d=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var n,r,u,f,h,y,g=s(this),v=a(g.length),m=o(t,v),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=v-m):(n=w-2,r=p(d(i(e),0),v-m)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=c(g,r),f=0;f<r;f++)(h=m+f)in g&&l(u,f,g[h]);if(u.length=r,n<r){for(f=m;f<v-r;f++)y=f+n,(h=f+r)in g?g[y]=g[h]:delete g[y];for(f=v;f>v-r+n;f--)delete g[f-1]}else if(n>r)for(f=v-r;f>m;f--)y=f+n-1,(h=f+r-1)in g?g[y]=g[h]:delete g[y];for(f=0;f<n;f++)g[f+m]=arguments[f+2];return g.length=v-r+n,u}})},function(t,e,n){n(36)("flat")},function(t,e,n){n(36)("flatMap")},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(127),a=n(46),s=i.ArrayBuffer;r({global:!0,forced:o.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e){var n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;t.exports={pack:function(t,e,s){var c,l,u,d=new Array(s),p=8*s-e-1,f=(1<<p)-1,h=f>>1,y=23===e?r(2,-24)-r(2,-77):0,g=t<0||0===t&&1/t<0?1:0,v=0;for((t=n(t))!=t||t===1/0?(l=t!=t?1:0,c=f):(c=o(i(t)/a),t*(u=r(2,-c))<1&&(c--,u*=2),(t+=c+h>=1?y/u:y*r(2,1-h))*u>=2&&(c++,u/=2),c+h>=f?(l=0,c=f):c+h>=1?(l=(t*u-1)*r(2,e),c+=h):(l=t*r(2,h-1)*r(2,e),c=0));e>=8;d[v++]=255&l,l/=256,e-=8);for(c=c<<e|l,p+=e;p>0;d[v++]=255&c,c/=256,p-=8);return d[--v]|=128*g,d},unpack:function(t,e){var n,o=t.length,i=8*o-e-1,a=(1<<i)-1,s=a>>1,c=i-7,l=o-1,u=t[l--],d=127&u;for(u>>=7;c>0;d=256*d+t[l],l--,c-=8);for(n=d&(1<<-c)-1,d>>=-c,c+=e;c>0;n=256*n+t[l],l--,c-=8);if(0===d)d=1-s;else{if(d===a)return n?NaN:u?-1/0:1/0;n+=r(2,e),d-=s}return(u?-1:1)*n*r(2,d-e)}}},function(t,e,n){var r=n(18),o=n(193),i=n(6)("toPrimitive"),a=Date.prototype;i in a||r(a,i,o)},function(t,e,n){"use strict";var r=n(5),o=n(28);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(r(this),"number"!==t)}},function(t,e,n){"use strict";var r=n(4),o=n(10),i=n(27),a=n(6)("hasInstance"),s=Function.prototype;a in s||o.f(s,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(8),o=n(10).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){var r=n(3);n(30)(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var r=n(71),o=n(130);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){var r=n(0),o=n(131),i=Math.acosh,a=Math.log,s=Math.sqrt,c=Math.LN2;r({target:"Math",stat:!0,forced:!i||710!=Math.floor(i(Number.MAX_VALUE))||i(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+c:o(t-1+s(t-1)*s(t+1))}})},function(t,e,n){var r=n(0),o=Math.asinh,i=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(o&&1/o(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):i(e+a(e*e+1)):e}})},function(t,e,n){var r=n(0),o=Math.atanh,i=Math.log;r({target:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),o=n(98),i=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return o(t=+t)*a(i(t),1/3)}})},function(t,e,n){var r=n(0),o=Math.floor,i=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-o(i(t+.5)*a):32}})},function(t,e,n){var r=n(0),o=n(73),i=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function(t){var e=o(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e,n){var r=n(0),o=n(73);r({target:"Math",stat:!0,forced:o!=Math.expm1},{expm1:o})},function(t,e,n){n(0)({target:"Math",stat:!0},{fround:n(206)})},function(t,e,n){var r=n(98),o=Math.abs,i=Math.pow,a=i(2,-52),s=i(2,-23),c=i(2,127)*(2-s),l=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=o(t),u=r(t);return i<l?u*(i/l/s+1/a-1/a)*l*s:(n=(e=(1+s/a)*i)-(e-i))>c||n!=n?u*(1/0):u*n}},function(t,e,n){var r=n(0),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,s=0,c=arguments.length,l=0;s<c;)l<(n=i(arguments[s++]))?(o=o*(r=l/n)*r+1,l=n):o+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*a(o)}})},function(t,e,n){var r=n(0),o=n(2),i=Math.imul;r({target:"Math",stat:!0,forced:o((function(){return-5!=i(4294967295,5)||2!=i.length}))},{imul:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0),o=Math.log,i=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return o(t)*i}})},function(t,e,n){n(0)({target:"Math",stat:!0},{log1p:n(131)})},function(t,e,n){var r=n(0),o=Math.log,i=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return o(t)/i}})},function(t,e,n){n(0)({target:"Math",stat:!0},{sign:n(98)})},function(t,e,n){var r=n(0),o=n(2),i=n(73),a=Math.abs,s=Math.exp,c=Math.E;r({target:"Math",stat:!0,forced:o((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(i(t)-i(-t))/2:(s(t-1)-s(-t-1))*(c/2)}})},function(t,e,n){var r=n(0),o=n(73),i=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){n(30)(Math,"Math",!0)},function(t,e,n){var r=n(0),o=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},function(t,e,n){"use strict";var r=n(8),o=n(3),i=n(53),a=n(15),s=n(11),c=n(33),l=n(72),u=n(28),d=n(2),p=n(34),f=n(38).f,h=n(14).f,y=n(10).f,g=n(48).trim,v=o.Number,m=v.prototype,w="Number"==c(p(m)),b=function(t){var e,n,r,o,i,a,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=g(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(a=(i=l.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+l};if(i("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var O,P=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof P&&(w?d((function(){m.valueOf.call(n)})):"Number"!=c(n))?l(new v(b(e)),n,P):b(e)},k=r?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;k.length>S;S++)s(v,O=k[S])&&!s(P,O)&&y(P,O,h(v,O));P.prototype=m,m.constructor=P,a(o,"Number",P)}},function(t,e,n){n(0)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(0)({target:"Number",stat:!0},{isFinite:n(220)})},function(t,e,n){var r=n(3).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e,n){n(0)({target:"Number",stat:!0},{isInteger:n(132)})},function(t,e,n){n(0)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),o=n(132),i=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),o=n(227);r({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},function(t,e,n){var r=n(3),o=n(48).trim,i=n(74),a=r.parseFloat,s=1/a(i+"-0")!=-1/0;t.exports=s?function(t){var e=o(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var r=n(0),o=n(229);r({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},function(t,e,n){var r=n(3),o=n(48).trim,i=n(74),a=r.parseInt,s=/^[+-]?0[Xx]/,c=8!==a(i+"08")||22!==a(i+"0x16");t.exports=c?function(t,e){var n=o(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},function(t,e,n){"use strict";var r=n(0),o=n(24),i=n(231),a=n(99),s=n(2),c=1..toFixed,l=Math.floor,u=function(t,e,n){return 0===e?n:e%2==1?u(t,e-1,n*t):u(t*t,e/2,n)},d=function(t,e,n){for(var r=-1,o=n;++r<6;)o+=e*t[r],t[r]=o%1e7,o=l(o/1e7)},p=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=l(r/e),r=r%e*1e7},f=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+a.call("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}))},{toFixed:function(t){var e,n,r,s,c=i(this),l=o(t),h=[0,0,0,0,0,0],y="",g="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(y="-",c=-c),c>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*u(2,69,1))-69)<0?c*u(2,-e,1):c/u(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(h,0,n),r=l;r>=7;)d(h,1e7,0),r-=7;for(d(h,u(10,r,1),0),r=e-1;r>=23;)p(h,1<<23),r-=23;p(h,1<<r),d(h,1,1),p(h,2),g=f(h)}else d(h,0,n),d(h,1<<-e,0),g=f(h)+a.call("0",l);return g=l>0?y+((s=g.length)<=l?"0."+a.call("0",l-s)+g:g.slice(0,s-l)+"."+g.slice(s-l)):y+g}})},function(t,e,n){var r=n(33);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){var r=n(0),o=n(133);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(75),a=n(12),s=n(26),c=n(10);o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(t,e){c.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(75),a=n(12),s=n(26),c=n(10);o&&r({target:"Object",proto:!0,forced:i},{__defineSetter__:function(t,e){c.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),o=n(134).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(0),o=n(62),i=n(2),a=n(4),s=n(41).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){c(1)})),sham:!o},{freeze:function(t){return c&&a(t)?c(s(t)):t}})},function(t,e,n){var r=n(0),o=n(63),i=n(40);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,n){i(e,t,n)}),{AS_ENTRIES:!0}),e}})},function(t,e,n){var r=n(0),o=n(2),i=n(19),a=n(14).f,s=n(8),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){var r=n(0),o=n(8),i=n(88),a=n(19),s=n(14),c=n(40);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=s.f,l=i(r),u={},d=0;l.length>d;)void 0!==(n=o(r,e=l[d++]))&&c(u,e,n);return u}})},function(t,e,n){var r=n(0),o=n(2),i=n(118).f;r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},function(t,e,n){var r=n(0),o=n(2),i=n(12),a=n(27),s=n(96);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){n(0)({target:"Object",stat:!0},{is:n(135)})},function(t,e,n){var r=n(0),o=n(2),i=n(4),a=Object.isExtensible;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isExtensible:function(t){return!!i(t)&&(!a||a(t))}})},function(t,e,n){var r=n(0),o=n(2),i=n(4),a=Object.isFrozen;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isFrozen:function(t){return!i(t)||!!a&&a(t)}})},function(t,e,n){var r=n(0),o=n(2),i=n(4),a=Object.isSealed;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isSealed:function(t){return!i(t)||!!a&&a(t)}})},function(t,e,n){var r=n(0),o=n(12),i=n(56);r({target:"Object",stat:!0,forced:n(2)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(75),a=n(12),s=n(28),c=n(27),l=n(14).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupGetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=l(n,r))return e.get}while(n=c(n))}})},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(75),a=n(12),s=n(28),c=n(27),l=n(14).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupSetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=l(n,r))return e.set}while(n=c(n))}})},function(t,e,n){var r=n(0),o=n(4),i=n(41).onFreeze,a=n(62),s=n(2),c=Object.preventExtensions;r({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!a},{preventExtensions:function(t){return c&&o(t)?c(i(t)):t}})},function(t,e,n){var r=n(0),o=n(4),i=n(41).onFreeze,a=n(62),s=n(2),c=Object.seal;r({target:"Object",stat:!0,forced:s((function(){c(1)})),sham:!a},{seal:function(t){return c&&o(t)?c(i(t)):t}})},function(t,e,n){var r=n(94),o=n(15),i=n(252);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(94),o=n(61);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(0),o=n(134).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},function(t,e,n){"use strict";var r,o,i,a,s=n(0),c=n(29),l=n(3),u=n(25),d=n(136),p=n(15),f=n(47),h=n(30),y=n(46),g=n(4),v=n(26),m=n(37),w=n(85),b=n(63),O=n(69),P=n(42),k=n(137).set,S=n(139),I=n(140),E=n(256),j=n(141),x=n(257),T=n(20),M=n(53),A=n(6),C=n(54),D=n(67),R=A("species"),F="Promise",B=T.get,L=T.set,_=T.getterFor(F),W=d,N=l.TypeError,H=l.document,q=l.process,U=u("fetch"),z=j.f,J=z,Y=!!(H&&H.createEvent&&l.dispatchEvent),G="function"==typeof PromiseRejectionEvent,X=M(F,(function(){if(!(w(W)!==String(W))){if(66===D)return!0;if(!C&&!G)return!0}if(c&&!W.prototype.finally)return!0;if(D>=51&&/native code/.test(W))return!1;var t=W.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[R]=e,!(t.then((function(){}))instanceof e)})),$=X||!O((function(t){W.all(t).catch((function(){}))})),K=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},V=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;S((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var a,s,c,l=n[i++],u=o?l.ok:l.fail,d=l.resolve,p=l.reject,f=l.domain;try{u?(o||(2===t.rejection&&et(t),t.rejection=1),!0===u?a=r:(f&&f.enter(),a=u(r),f&&(f.exit(),c=!0)),a===l.promise?p(N("Promise-chain cycle")):(s=K(a))?s.call(a,d,p):d(a)):p(r)}catch(t){f&&!c&&f.exit(),p(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Z(t)}))}},Q=function(t,e,n){var r,o;Y?((r=H.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!G&&(o=l["on"+t])?o(r):"unhandledrejection"===t&&E("Unhandled promise rejection",n)},Z=function(t){k.call(l,(function(){var e,n=t.facade,r=t.value;if(tt(t)&&(e=x((function(){C?q.emit("unhandledRejection",r,n):Q("unhandledrejection",n,r)})),t.rejection=C||tt(t)?2:1,e.error))throw e.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t){k.call(l,(function(){var e=t.facade;C?q.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},nt=function(t,e,n){return function(r){t(e,r,n)}},rt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,V(t,!0))},ot=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw N("Promise can't be resolved itself");var r=K(e);r?S((function(){var n={done:!1};try{r.call(e,nt(ot,n,t),nt(rt,n,t))}catch(e){rt(n,e,t)}})):(t.value=e,t.state=1,V(t,!1))}catch(e){rt({done:!1},e,t)}}};X&&(W=function(t){m(this,W,F),v(t),r.call(this);var e=B(this);try{t(nt(ot,e),nt(rt,e))}catch(t){rt(e,t)}},(r=function(t){L(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(W.prototype,{then:function(t,e){var n=_(this),r=z(P(this,W));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=C?q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&V(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=B(t);this.promise=t,this.resolve=nt(ot,e),this.reject=nt(rt,e)},j.f=z=function(t){return t===W||t===i?new o(t):J(t)},c||"function"!=typeof d||(a=d.prototype.then,p(d.prototype,"then",(function(t,e){var n=this;return new W((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof U&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(W,U.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:X},{Promise:W}),h(W,F,!1,!0),y(F),i=u(F),s({target:F,stat:!0,forced:X},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),s({target:F,stat:!0,forced:c||X},{resolve:function(t){return I(c&&this===i?W:this,t)}}),s({target:F,stat:!0,forced:$},{all:function(t){var e=this,n=z(e),r=n.resolve,o=n.reject,i=x((function(){var n=v(e.resolve),i=[],a=0,s=1;b(t,(function(t){var c=a++,l=!1;i.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,i[c]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=z(e),r=n.reject,o=x((function(){var o=v(e.resolve);b(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(68);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(3);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(0),o=n(29),i=n(136),a=n(2),s=n(25),c=n(42),l=n(140),u=n(15);r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return l(e,t()).then((function(){return n}))}:t,n?function(n){return l(e,t()).then((function(){throw n}))}:t)}}),o||"function"!=typeof i||i.prototype.finally||u(i.prototype,"finally",s("Promise").prototype.finally)},function(t,e,n){var r=n(0),o=n(25),i=n(26),a=n(5),s=n(2),c=o("Reflect","apply"),l=Function.apply;r({target:"Reflect",stat:!0,forced:!s((function(){c((function(){}))}))},{apply:function(t,e,n){return i(t),a(n),c?c(t,e,n):l.call(t,e,n)}})},function(t,e,n){var r=n(0),o=n(25),i=n(26),a=n(5),s=n(4),c=n(34),l=n(261),u=n(2),d=o("Reflect","construct"),p=u((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),f=!u((function(){d((function(){}))})),h=p||f;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(f&&!p)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var o=n.prototype,u=c(s(o)?o:Object.prototype),h=Function.apply.call(t,u,e);return s(h)?h:u}})},function(t,e,n){"use strict";var r=n(26),o=n(4),i=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?s(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var r=n(0),o=n(8),i=n(5),a=n(28),s=n(10);r({target:"Reflect",stat:!0,forced:n(2)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!o},{defineProperty:function(t,e,n){i(t);var r=a(e,!0);i(n);try{return s.f(t,r,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(5),i=n(14).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(0),o=n(4),i=n(5),a=n(11),s=n(14),c=n(27);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l,u=arguments.length<3?e:arguments[2];return i(e)===u?e[n]:(r=s.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(u):o(l=c(e))?t(l,n,u):void 0}})},function(t,e,n){var r=n(0),o=n(8),i=n(5),a=n(14);r({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a.f(i(t),e)}})},function(t,e,n){var r=n(0),o=n(5),i=n(27);r({target:"Reflect",stat:!0,sham:!n(96)},{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){n(0)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),o=n(5),i=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){n(0)({target:"Reflect",stat:!0},{ownKeys:n(88)})},function(t,e,n){var r=n(0),o=n(25),i=n(5);r({target:"Reflect",stat:!0,sham:!n(62)},{preventExtensions:function(t){i(t);try{var e=o("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(5),i=n(4),a=n(11),s=n(2),c=n(10),l=n(14),u=n(27),d=n(32);r({target:"Reflect",stat:!0,forced:s((function(){var t=function(){},e=c.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}))},{set:function t(e,n,r){var s,p,f=arguments.length<4?e:arguments[3],h=l.f(o(e),n);if(!h){if(i(p=u(e)))return t(p,n,r,f);h=d(0)}if(a(h,"value")){if(!1===h.writable||!i(f))return!1;if(s=l.f(f,n)){if(s.get||s.set||!1===s.writable)return!1;s.value=r,c.f(f,n,s)}else c.f(f,n,d(0,r));return!0}return void 0!==h.set&&(h.set.call(f,r),!0)}})},function(t,e,n){var r=n(0),o=n(5),i=n(126),a=n(45);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){o(t),i(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,n){var r=n(8),o=n(3),i=n(53),a=n(72),s=n(10).f,c=n(38).f,l=n(100),u=n(76),d=n(101),p=n(15),f=n(2),h=n(20).set,y=n(46),g=n(6)("match"),v=o.RegExp,m=v.prototype,w=/a/g,b=/a/g,O=new v(w)!==w,P=d.UNSUPPORTED_Y;if(r&&i("RegExp",!O||P||f((function(){return b[g]=!1,v(w)!=w||v(b)==b||"/a/i"!=v(w,"i")})))){for(var k=function(t,e){var n,r=this instanceof k,o=l(t),i=void 0===e;if(!r&&o&&t.constructor===k&&i)return t;O?o&&!i&&(t=t.source):t instanceof k&&(i&&(e=u.call(t)),t=t.source),P&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=a(O?new v(t,e):v(t,e),r?this:m,k);return P&&n&&h(s,{sticky:n}),s},S=function(t){t in k||s(k,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},I=c(v),E=0;I.length>E;)S(I[E++]);m.constructor=k,k.prototype=m,p(o,"RegExp",k)}y("RegExp")},function(t,e,n){var r=n(8),o=n(10),i=n(76),a=n(101).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},function(t,e,n){"use strict";var r=n(15),o=n(5),i=n(2),a=n(76),s=RegExp.prototype,c=s.toString,l=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u="toString"!=c.name;(l||u)&&r(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){"use strict";var r=n(71),o=n(130);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){"use strict";var r=n(0),o=n(78).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r,o=n(0),i=n(14).f,a=n(9),s=n(102),c=n(17),l=n(103),u=n(29),d="".endsWith,p=Math.min,f=l("endsWith");o({target:"String",proto:!0,forced:!!(u||f||(r=i(String.prototype,"endsWith"),!r||r.writable))&&!f},{endsWith:function(t){var e=String(c(this));s(t);var n=arguments.length>1?arguments[1]:void 0,r=a(e.length),o=void 0===n?r:p(a(n),r),i=String(t);return d?d.call(e,i,o):e.slice(o-i.length,o)===i}})},function(t,e,n){var r=n(0),o=n(39),i=String.fromCharCode,a=String.fromCodePoint;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var r=n(0),o=n(102),i=n(17);r({target:"String",proto:!0,forced:!n(103)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(79),o=n(5),i=n(9),a=n(17),s=n(104),c=n(80);r("match",1,(function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=o(t),l=String(this);if(!a.global)return c(a,l);var u=a.unicode;a.lastIndex=0;for(var d,p=[],f=0;null!==(d=c(a,l));){var h=String(d[0]);p[f]=h,""===h&&(a.lastIndex=s(l,i(a.lastIndex),u)),f++}return 0===f?null:p}]}))},function(t,e,n){"use strict";var r=n(0),o=n(144).end;r({target:"String",proto:!0,forced:n(145)},{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(144).start;r({target:"String",proto:!0,forced:n(145)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0),o=n(19),i=n(9);r({target:"String",stat:!0},{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){n(0)({target:"String",proto:!0},{repeat:n(99)})},function(t,e,n){"use strict";var r=n(79),o=n(5),i=n(9),a=n(24),s=n(17),c=n(104),l=n(287),u=n(80),d=Math.max,p=Math.min;r("replace",2,(function(t,e,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=r.REPLACE_KEEPS_$0,y=f?"$":"$0";return[function(n,r){var o=s(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!f&&h||"string"==typeof r&&-1===r.indexOf(y)){var s=n(e,t,this,r);if(s.done)return s.value}var g=o(t),v=String(this),m="function"==typeof r;m||(r=String(r));var w=g.global;if(w){var b=g.unicode;g.lastIndex=0}for(var O=[];;){var P=u(g,v);if(null===P)break;if(O.push(P),!w)break;""===String(P[0])&&(g.lastIndex=c(v,i(g.lastIndex),b))}for(var k,S="",I=0,E=0;E<O.length;E++){P=O[E];for(var j=String(P[0]),x=d(p(a(P.index),v.length),0),T=[],M=1;M<P.length;M++)T.push(void 0===(k=P[M])?k:String(k));var A=P.groups;if(m){var C=[j].concat(T,x,v);void 0!==A&&C.push(A);var D=String(r.apply(void 0,C))}else D=l(j,v,x,T,A,r);x>=I&&(S+=v.slice(I,x)+D,I=x+j.length)}return S+v.slice(I)}]}))},function(t,e,n){var r=n(12),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,l,u){var d=n+t.length,p=c.length,f=s;return void 0!==l&&(l=r(l),f=a),i.call(u,f,(function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":a=l[i.slice(1,-1)];break;default:var s=+i;if(0===s)return r;if(s>p){var u=o(s/10);return 0===u?r:u<=p?void 0===c[u-1]?i.charAt(1):c[u-1]+i.charAt(1):r}a=c[s-1]}return void 0===a?"":a}))}},function(t,e,n){"use strict";var r=n(79),o=n(5),i=n(17),a=n(135),s=n(80);r("search",1,(function(t,e,n){return[function(e){var n=i(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=o(t),c=String(this),l=i.lastIndex;a(l,0)||(i.lastIndex=0);var u=s(i,c);return a(i.lastIndex,l)||(i.lastIndex=l),null===u?-1:u.index}]}))},function(t,e,n){"use strict";var r=n(79),o=n(100),i=n(5),a=n(17),s=n(42),c=n(104),l=n(9),u=n(80),d=n(77),p=n(2),f=[].push,h=Math.min,y=!p((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var s,c,l,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,y=new RegExp(t.source,p+"g");(s=d.call(y,r))&&!((c=y.lastIndex)>h&&(u.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&f.apply(u,s.slice(1)),l=s[0].length,h=c,u.length>=i));)y.lastIndex===s.index&&y.lastIndex++;return h===r.length?!l&&y.test("")||u.push(""):u.push(r.slice(h)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var d=i(t),p=String(this),f=s(d,RegExp),g=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(y?"y":"g"),m=new f(y?d:"^(?:"+d.source+")",v),w=void 0===o?4294967295:o>>>0;if(0===w)return[];if(0===p.length)return null===u(m,p)?[p]:[];for(var b=0,O=0,P=[];O<p.length;){m.lastIndex=y?O:0;var k,S=u(m,y?p:p.slice(O));if(null===S||(k=h(l(m.lastIndex+(y?0:O)),p.length))===b)O=c(p,O,g);else{if(P.push(p.slice(b,O)),P.length===w)return P;for(var I=1;I<=S.length-1;I++)if(P.push(S[I]),P.length===w)return P;O=b=k}}return P.push(p.slice(b)),P}]}),!y)},function(t,e,n){"use strict";var r,o=n(0),i=n(14).f,a=n(9),s=n(102),c=n(17),l=n(103),u=n(29),d="".startsWith,p=Math.min,f=l("startsWith");o({target:"String",proto:!0,forced:!!(u||f||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!f},{startsWith:function(t){var e=String(c(this));s(t);var n=a(p(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return d?d.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(0),o=n(48).trim;r({target:"String",proto:!0,forced:n(105)("trim")},{trim:function(){return o(this)}})},function(t,e,n){"use strict";var r=n(0),o=n(48).end,i=n(105)("trimEnd"),a=i?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},function(t,e,n){"use strict";var r=n(0),o=n(48).start,i=n(105)("trimStart"),a=i?function(){return o(this)}:"".trimStart;r({target:"String",proto:!0,forced:i},{trimStart:a,trimLeft:a})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("big")},{big:function(){return o(this,"big","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("blink")},{blink:function(){return o(this,"blink","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("bold")},{bold:function(){return o(this,"b","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("fixed")},{fixed:function(){return o(this,"tt","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("fontcolor")},{fontcolor:function(t){return o(this,"font","color",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("fontsize")},{fontsize:function(t){return o(this,"font","size",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("italics")},{italics:function(){return o(this,"i","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("link")},{link:function(t){return o(this,"a","href",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("small")},{small:function(){return o(this,"small","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("strike")},{strike:function(){return o(this,"strike","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("sub")},{sub:function(){return o(this,"sub","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("sup")},{sup:function(){return o(this,"sup","","")}})},function(t,e,n){n(31)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(24);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){n(31)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(31)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(7),o=n(120),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return o.call(i(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(16).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(92),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(7),o=n(16).filter,i=n(321),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(t){var e=o(a(this),t,arguments.length>1?arguments[1]:void 0);return i(this,e)}))},function(t,e,n){var r=n(7).aTypedArrayConstructor,o=n(42);t.exports=function(t,e){for(var n=o(t,t.constructor),i=0,a=e.length,s=new(r(n))(a);a>i;)s[i]=e[i++];return s}},function(t,e,n){"use strict";var r=n(7),o=n(16).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(16).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(16).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(106);(0,n(7).exportTypedArrayStaticMethod)("from",n(147),r)},function(t,e,n){"use strict";var r=n(7),o=n(66).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(66).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(3),o=n(7),i=n(70),a=n(6)("iterator"),s=r.Uint8Array,c=i.values,l=i.keys,u=i.entries,d=o.aTypedArray,p=o.exportTypedArrayMethod,f=s&&s.prototype[a],h=!!f&&("values"==f.name||null==f.name),y=function(){return c.call(d(this))};p("entries",(function(){return u.call(d(this))})),p("keys",(function(){return l.call(d(this))})),p("values",y,!h),p(a,y,!h)},function(t,e,n){"use strict";var r=n(7),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].join;i("join",(function(t){return a.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(7),o=n(331),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(19),o=n(24),i=n(9),a=n(97),s=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,u=a("lastIndexOf"),d=l||!u;t.exports=d?function(t){if(l)return c.apply(this,arguments)||0;var e=r(this),n=i(e.length),a=n-1;for(arguments.length>1&&(a=s(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:c},function(t,e,n){"use strict";var r=n(7),o=n(16).map,i=n(42),a=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(i(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(7),o=n(106),i=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(i(this))(e);e>t;)n[t]=arguments[t++];return n}),o)},function(t,e,n){"use strict";var r=n(7),o=n(148).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(148).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var t,e=o(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(7),o=n(9),i=n(146),a=n(12),s=n(2),c=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){c(this);var e=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),s=o(r.length),l=0;if(s+e>n)throw RangeError("Wrong length");for(;l<s;)this[e+l]=r[l++]}),s((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(7),o=n(42),i=n(2),a=r.aTypedArray,s=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod,l=[].slice;c("slice",(function(t,e){for(var n=l.call(a(this),t,e),r=o(this,this.constructor),i=0,c=n.length,u=new(s(r))(c);c>i;)u[i]=n[i++];return u}),i((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(7),o=n(16).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].sort;i("sort",(function(t){return a.call(o(this),t)}))},function(t,e,n){"use strict";var r=n(7),o=n(9),i=n(39),a=n(42),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=s(this),r=n.length,c=i(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-c))}))},function(t,e,n){"use strict";var r=n(3),o=n(7),i=n(2),a=r.Int8Array,s=o.aTypedArray,c=o.exportTypedArrayMethod,l=[].toLocaleString,u=[].slice,d=!!a&&i((function(){l.call(new a(1))}));c("toLocaleString",(function(){return l.apply(d?u.call(s(this)):s(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(7).exportTypedArrayMethod,o=n(2),i=n(3).Uint8Array,a=i&&i.prototype||{},s=[].toString,c=[].join;o((function(){s.call({})}))&&(s=function(){return c.call(this)});var l=a.toString!=s;r("toString",s,l)},function(t,e,n){"use strict";var r,o=n(3),i=n(47),a=n(41),s=n(71),c=n(149),l=n(4),u=n(20).enforce,d=n(111),p=!o.ActiveXObject&&"ActiveXObject"in o,f=Object.isExtensible,h=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},y=t.exports=s("WeakMap",h,c);if(d&&p){r=c.getConstructor(h,"WeakMap",!0),a.REQUIRED=!0;var g=y.prototype,v=g.delete,m=g.has,w=g.get,b=g.set;i(g,{delete:function(t){if(l(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(l(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),m.call(this,t)||e.frozen.has(t)}return m.call(this,t)},get:function(t){if(l(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),m.call(this,t)?w.call(this,t):e.frozen.get(t)}return w.call(this,t)},set:function(t,e){if(l(t)&&!f(t)){var n=u(this);n.frozen||(n.frozen=new r),m.call(this,t)?b.call(this,t,e):n.frozen.set(t,e)}else b.call(this,t,e);return this}})}},function(t,e,n){"use strict";n(71)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(149))},function(t,e,n){var r=n(3),o=n(150),i=n(347),a=n(18);for(var s in o){var c=r[s],l=c&&c.prototype;if(l&&l.forEach!==i)try{a(l,"forEach",i)}catch(t){l.forEach=i}}},function(t,e,n){"use strict";var r=n(16).forEach,o=n(97)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(3),o=n(150),i=n(70),a=n(18),s=n(6),c=s("iterator"),l=s("toStringTag"),u=i.values;for(var d in o){var p=r[d],f=p&&p.prototype;if(f){if(f[c]!==u)try{a(f,c,u)}catch(t){f[c]=u}if(f[l]||a(f,l,d),o[d])for(var h in i)if(f[h]!==i[h])try{a(f,h,i[h])}catch(t){f[h]=i[h]}}}},function(t,e,n){var r=n(0),o=n(3),i=n(139),a=n(54),s=o.process;r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=a&&s.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";n(143);var r,o=n(0),i=n(8),a=n(151),s=n(3),c=n(116),l=n(15),u=n(37),d=n(11),p=n(133),f=n(122),h=n(78).codeAt,y=n(351),g=n(30),v=n(152),m=n(20),w=s.URL,b=v.URLSearchParams,O=v.getState,P=m.set,k=m.getterFor("URL"),S=Math.floor,I=Math.pow,E=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,x=/\d/,T=/^(0x|0X)/,M=/^[0-7]+$/,A=/^\d+$/,C=/^[\dA-Fa-f]+$/,D=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,R=/[\u0000\t\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\t\u000A\u000D]/g,L=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=W(e.slice(1,-1))))return"Invalid host";t.host=n}else if(G(t)){if(e=y(e),D.test(e))return"Invalid host";if(null===(n=_(e)))return"Invalid host";t.host=n}else{if(R.test(e))return"Invalid host";for(n="",r=f(e),o=0;o<r.length;o++)n+=J(r[o],H);t.host=n}},_=function(t){var e,n,r,o,i,a,s,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=T.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?A:8==i?M:C).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=I(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*I(256,3-r);return s},W=function(t){var e,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,p=function(){return t.charAt(d)};if(":"==p()){if(":"!=t.charAt(1))return;d+=2,u=++l}for(;p();){if(8==l)return;if(":"!=p()){for(e=n=0;n<4&&C.test(p());)e=16*e+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,l>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;d++}if(!x.test(p()))return;for(;x.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}c[l]=256*c[l]+o,2!=++r&&4!=r||l++}if(4!=r)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;c[l++]=e}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(a=l-u,l=7;0!=l&&a>0;)s=c[l],c[l--]=c[u+a-1],c[u+--a]=s;else if(8!=l)return;return c},N=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},H={},q=p({},H,{" ":1,'"':1,"<":1,">":1,"`":1}),U=p({},q,{"#":1,"?":1,"{":1,"}":1}),z=p({},U,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(t,e){var n=h(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},G=function(t){return d(Y,t.scheme)},X=function(t){return""!=t.username||""!=t.password},$=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},K=function(t,e){var n;return 2==t.length&&E.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},V=function(t){var e;return t.length>1&&K(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Q=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&K(e[0],!0)||e.pop()},Z=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},ot={},it={},at={},st={},ct={},lt={},ut={},dt={},pt={},ft={},ht={},yt={},gt={},vt={},mt={},wt={},bt={},Ot=function(t,e,n,o){var i,a,s,c,l,u=n||tt,p=0,h="",y=!1,g=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(F,"")),e=e.replace(B,""),i=f(e);p<=i.length;){switch(a=i[p],u){case tt:if(!a||!E.test(a)){if(n)return"Invalid scheme";u=nt;continue}h+=a.toLowerCase(),u=et;break;case et:if(a&&(j.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";h="",u=nt,p=0;continue}if(n&&(G(t)!=d(Y,h)||"file"==h&&(X(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(G(t)&&Y[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?u=ft:G(t)&&o&&o.scheme==t.scheme?u=rt:G(t)?u=st:"/"==i[p+1]?(u=ot,p++):(t.cannotBeABaseURL=!0,t.path.push(""),u=mt)}break;case nt:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,u=bt;break}u="file"==o.scheme?ft:it;continue;case rt:if("/"!=a||"/"!=i[p+1]){u=it;continue}u=ct,p++;break;case ot:if("/"==a){u=lt;break}u=vt;continue;case it:if(t.scheme=o.scheme,a==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&G(t))u=at;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",u=wt;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),u=vt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",u=bt}break;case at:if(!G(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,u=vt;continue}u=lt}else u=ct;break;case st:if(u=ct,"/"!=a||"/"!=h.charAt(p+1))continue;p++;break;case ct:if("/"!=a&&"\\"!=a){u=lt;continue}break;case lt:if("@"==a){y&&(h="%40"+h),y=!0,s=f(h);for(var m=0;m<s.length;m++){var w=s[m];if(":"!=w||v){var b=J(w,z);v?t.password+=b:t.username+=b}else v=!0}h=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&G(t)){if(y&&""==h)return"Invalid authority";p-=f(h).length+1,h="",u=ut}else h+=a;break;case ut:case dt:if(n&&"file"==t.scheme){u=yt;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&G(t)){if(G(t)&&""==h)return"Invalid host";if(n&&""==h&&(X(t)||null!==t.port))return;if(c=L(t,h))return c;if(h="",u=gt,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),h+=a}else{if(""==h)return"Invalid host";if(c=L(t,h))return c;if(h="",u=pt,n==dt)return}break;case pt:if(!x.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&G(t)||n){if(""!=h){var O=parseInt(h,10);if(O>65535)return"Invalid port";t.port=G(t)&&O===Y[t.scheme]?null:O,h=""}if(n)return;u=gt;continue}return"Invalid port"}h+=a;break;case ft:if(t.scheme="file","/"==a||"\\"==a)u=ht;else{if(!o||"file"!=o.scheme){u=vt;continue}if(a==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",u=wt;else{if("#"!=a){V(i.slice(p).join(""))||(t.host=o.host,t.path=o.path.slice(),Q(t)),u=vt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",u=bt}}break;case ht:if("/"==a||"\\"==a){u=yt;break}o&&"file"==o.scheme&&!V(i.slice(p).join(""))&&(K(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),u=vt;continue;case yt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&K(h))u=vt;else if(""==h){if(t.host="",n)return;u=gt}else{if(c=L(t,h))return c;if("localhost"==t.host&&(t.host=""),n)return;h="",u=gt}continue}h+=a;break;case gt:if(G(t)){if(u=vt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(u=vt,"/"!=a))continue}else t.fragment="",u=bt;else t.query="",u=wt;break;case vt:if(a==r||"/"==a||"\\"==a&&G(t)||!n&&("?"==a||"#"==a)){if(".."===(l=(l=h).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(Q(t),"/"==a||"\\"==a&&G(t)||t.path.push("")):Z(h)?"/"==a||"\\"==a&&G(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&K(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",u=wt):"#"==a&&(t.fragment="",u=bt)}else h+=J(a,U);break;case mt:"?"==a?(t.query="",u=wt):"#"==a?(t.fragment="",u=bt):a!=r&&(t.path[0]+=J(a,H));break;case wt:n||"#"!=a?a!=r&&("'"==a&&G(t)?t.query+="%27":t.query+="#"==a?"%23":J(a,H)):(t.fragment="",u=bt);break;case bt:a!=r&&(t.fragment+=J(a,q))}p++}},Pt=function(t){var e,n,r=u(this,Pt,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),s=P(r,{type:"URL"});if(void 0!==o)if(o instanceof Pt)e=k(o);else if(n=Ot(e={},String(o)))throw TypeError(n);if(n=Ot(s,a,null,e))throw TypeError(n);var c=s.searchParams=new b,l=O(c);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(c)||null},i||(r.href=St.call(r),r.origin=It.call(r),r.protocol=Et.call(r),r.username=jt.call(r),r.password=xt.call(r),r.host=Tt.call(r),r.hostname=Mt.call(r),r.port=At.call(r),r.pathname=Ct.call(r),r.search=Dt.call(r),r.searchParams=Rt.call(r),r.hash=Ft.call(r))},kt=Pt.prototype,St=function(){var t=k(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,l=e+":";return null!==o?(l+="//",X(t)&&(l+=n+(r?":"+r:"")+"@"),l+=N(o),null!==i&&(l+=":"+i)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==c&&(l+="#"+c),l},It=function(){var t=k(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&G(t)?e+"://"+N(t.host)+(null!==n?":"+n:""):"null"},Et=function(){return k(this).scheme+":"},jt=function(){return k(this).username},xt=function(){return k(this).password},Tt=function(){var t=k(this),e=t.host,n=t.port;return null===e?"":null===n?N(e):N(e)+":"+n},Mt=function(){var t=k(this).host;return null===t?"":N(t)},At=function(){var t=k(this).port;return null===t?"":String(t)},Ct=function(){var t=k(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Dt=function(){var t=k(this).query;return t?"?"+t:""},Rt=function(){return k(this).searchParams},Ft=function(){var t=k(this).fragment;return t?"#"+t:""},Bt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&c(kt,{href:Bt(St,(function(t){var e=k(this),n=String(t),r=Ot(e,n);if(r)throw TypeError(r);O(e.searchParams).updateSearchParams(e.query)})),origin:Bt(It),protocol:Bt(Et,(function(t){var e=k(this);Ot(e,String(t)+":",tt)})),username:Bt(jt,(function(t){var e=k(this),n=f(String(t));if(!$(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=J(n[r],z)}})),password:Bt(xt,(function(t){var e=k(this),n=f(String(t));if(!$(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=J(n[r],z)}})),host:Bt(Tt,(function(t){var e=k(this);e.cannotBeABaseURL||Ot(e,String(t),ut)})),hostname:Bt(Mt,(function(t){var e=k(this);e.cannotBeABaseURL||Ot(e,String(t),dt)})),port:Bt(At,(function(t){var e=k(this);$(e)||(""==(t=String(t))?e.port=null:Ot(e,t,pt))})),pathname:Bt(Ct,(function(t){var e=k(this);e.cannotBeABaseURL||(e.path=[],Ot(e,t+"",gt))})),search:Bt(Dt,(function(t){var e=k(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Ot(e,t,wt)),O(e.searchParams).updateSearchParams(e.query)})),searchParams:Bt(Rt),hash:Bt(Ft,(function(t){var e=k(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Ot(e,t,bt)):e.fragment=null}))}),l(kt,"toJSON",(function(){return St.call(this)}),{enumerable:!0}),l(kt,"toString",(function(){return St.call(this)}),{enumerable:!0}),w){var Lt=w.createObjectURL,_t=w.revokeObjectURL;Lt&&l(Pt,"createObjectURL",(function(t){return Lt.apply(w,arguments)})),_t&&l(Pt,"revokeObjectURL",(function(t){return _t.apply(w,arguments)}))}g(Pt,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Pt})},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(t){return t+22+75*(t<26)},l=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},u=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,u=128,d=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var f=r.length,h=f;for(f&&r.push("-");h<o;){var y=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=u&&n<y&&(y=n);var g=h+1;if(y-u>a((2147483647-d)/g))throw RangeError(i);for(d+=(y-u)*g,u=y,e=0;e<t.length;e++){if((n=t[e])<u&&++d>2147483647)throw RangeError(i);if(n==u){for(var v=d,m=36;;m+=36){var w=m<=p?1:m>=p+26?26:m-p;if(v<w)break;var b=v-w,O=36-w;r.push(s(c(w+b%O))),v=a(b/O)}r.push(s(c(v))),p=l(d,g,h==f),d=0,++h}}++d,++u}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)n=a[e],i.push(r.test(n)?"xn--"+u(n):n);return i.join(".")}},function(t,e,n){var r=n(5),o=n(60);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";n(0)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e,n){"use strict";(function(t){var e=n(153),r=n(81),o=n(82),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"function"!=typeof i.Promise?i.Promise=e.a:i.Promise.prototype.finally?i.Promise.allSettled||(i.Promise.allSettled=o.a):i.Promise.prototype.finally=r.a}).call(this,n(49))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(356),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(49))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,s,c=1,l={},u=!1,d=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(t){var e=d.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[c]=o,r(c),c++},p.clearImmediate=f}function f(t){delete l[t]}function h(t){if(u)setTimeout(h,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(49),n(357))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var t=s(p);u=!0;for(var e=l.length;e;){for(c=l,l=[];++d<e;)c&&c[d].run();d=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(r){var o,i;void 0===(i="function"==typeof(o=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?a(t):e}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var u=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:n})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],r=0,o=n.length;r<o;r++)if(n[r].callback===e)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),n=0,r=e.length;n<r;n++){var o=e[n];try{o.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}o.options&&o.options.once&&this.removeEventListener(t.type,o.callback)}return!t.defaultPrevented}}}]),e}(),d=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,e);var r=c(s);function s(){var e;return t(this,s),(e=r.call(this)).listeners||u.call(a(e)),Object.defineProperty(a(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),l(o(s.prototype),"dispatchEvent",this).call(this,t)}}]),s}(u),p=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();function f(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),function(t){if(f(t))if(t.fetch){var e=function(t){"function"==typeof t&&(t={fetch:t});var e=t,n=e.fetch,r=e.Request,o=void 0===r?n.Request:r,i=e.AbortController,a=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==a&&a;if(!f({fetch:n,Request:o,AbortController:i,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:c};var c=o;(c&&!c.prototype.hasOwnProperty("signal")||s)&&((c=function(t,e){var n;e&&e.signal&&(n=e.signal,delete e.signal);var r=new o(t,e);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=o.prototype);var l=n;return{fetch:function(t,e){var n=c&&c.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(t){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var o=new Promise((function(t,e){n.addEventListener("abort",(function(){return e(r)}),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([o,l(t,e)])}return l(t,e)},Request:c}}(t),n=e.fetch,r=e.Request;t.fetch=n,t.Request=r,Object.defineProperty(t,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:p}),Object.defineProperty(t,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:d})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:r)})?o.call(e,n,e,t):o)||(t.exports=i)}).call(this,n(49))},function(t,e,n){"use strict";t.exports=n(372)},function(module,exports,__webpack_require__){var r;self,r=function(){return(()=>{var __webpack_modules__={410:t=>{"use strict";t.exports=function(t,e){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(t){if(i)if(i=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,a(t))}}))}},941:(t,e)=>{"use strict";var n=e;n.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(t,e,n){for(var o,i=null,a=[],s=0,c=0;e<n;){var l=t[e++];switch(c){case 0:a[s++]=r[l>>2],o=(3&l)<<4,c=1;break;case 1:a[s++]=r[o|l>>4],o=(15&l)<<2,c=2;break;case 2:a[s++]=r[o|l>>6],a[s++]=r[63&l],c=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=r[o],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(t,e,n){for(var r,i=n,s=0,c=0;c<t.length;){var l=t.charCodeAt(c++);if(61===l&&s>1)break;if(void 0===(l=o[l]))throw Error(a);switch(s){case 0:r=l,s=1;break;case 1:e[n++]=r<<2|(48&l)>>4,r=l,s=2;break;case 2:e[n++]=(15&r)<<4|(60&l)>>2,r=l,s=3;break;case 3:e[n++]=(3&r)<<6|l,s=0}}if(1===s)throw Error(a);return n-i},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},199:t=>{"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},e.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},e.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},876:t=>{"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function a(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,r),t.readFloatLE=a.bind(null,o),t.readFloatBE=a.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)t((s=r/5e-324)>>>0,o,i+e),t((a<<31|s/4294967296)>>>0,o,i+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(s=r*Math.pow(2,-c))>>>0,o,i+e),t((a<<31|c+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function a(t,e,n,r,o){var i=t(r,o+e),a=t(r,o+n),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,r,4,0),t.readDoubleLE=a.bind(null,o,0,4),t.readDoubleBE=a.bind(null,i,4,0)}(),t}function n(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function r(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function i(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=e(e)},310:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},195:t=>{"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return t(n);a+n>r&&(i=t(r),a=0);var s=e.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},797:(t,e)=>{"use strict";var n=e;n.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},n.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],a=0;e<n;)(r=t[e++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(t,e,n){for(var r,o,i=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},960:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){if(void 0!==t&&t.CanvasRenderingContext2D&&!t.Path2D){var r=function(){function t(r){var o,i;n(this,t),this.segments=[],r&&r instanceof t&&(o=this.segments).push.apply(o,function(t){if(Array.isArray(t))return e(t)}(i=r.segments)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(i)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}var r;return(r=[{key:"addPath",value:function(e,n){e&&e instanceof t&&s(this,e.segments,n)}},{key:"moveTo",value:function(t,e){this.segments.push(["M",t,e])}},{key:"lineTo",value:function(t,e){this.segments.push(["L",t,e])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(t,e,n,r,o,i){this.segments.push(["C",t,e,n,r,o,i])}},{key:"quadraticCurveTo",value:function(t,e,n,r){this.segments.push(["Q",t,e,n,r])}},{key:"rect",value:function(t,e,n,r){this.segments.push(["R",t,e,n,r])}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,r),t}(),o=t.CanvasRenderingContext2D.prototype.fill,i=t.CanvasRenderingContext2D.prototype.stroke,a=t.CanvasRenderingContext2D.prototype.clip;t.CanvasRenderingContext2D.prototype.fill=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="nonzero";if(0===e.length||1===e.length&&"string"==typeof e[0])o.apply(this,e);else{2===arguments.length&&(r=e[1]);var i=e[0];s(this,i.segments),o.call(this,r)}},t.CanvasRenderingContext2D.prototype.clip=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="nonzero";if(0===e.length||1===e.length&&"string"==typeof e[0])a.apply(this,e);else{2===arguments.length&&(r=e[1]);var o=e[0];s(this,o.segments),a.call(this,r)}},t.CanvasRenderingContext2D.prototype.stroke=function(t){t?(s(this,t.segments),i.call(this)):i.call(this)},t.Path2D=r,t.DOMMatrix=function t(e){n(this,t),this.e=e?e[4]:0,this.f=e?e[5]:0},console.log("Path2D polyfill applied")}function s(t,e,n){var r,o,i,a,s,c,l,u,d,p=n?n.e:0,f=n?n.f:0,h={x:0,y:0},y={x:0,y:0};t.beginPath&&t.beginPath();for(var g=0;g<e.length;++g){var v=e[g];switch("C"!==(s=v[0])&&(c=null,l=null),"Q"!==s&&(u=null,d=null),s){case"M":r=v[1],o=v[2],"M"!==s&&h||(h={x:r,y:o}),t.moveTo(r+p,o+f);break;case"L":r=v[1],o=v[2],t.lineTo(r+p,o+f);break;case"C":c=v[3],l=v[4],r=v[5],o=v[6],t.bezierCurveTo(v[1]+p,v[2]+f,c+p,l+f,r+p,o+f);break;case"Q":u=v[1],d=v[2],r=v[3],o=v[4],t.quadraticCurveTo(u+p,d+f,r+p,o+f);break;case"Z":r=h.x,o=h.y,h=void 0,t.closePath();break;case"R":r=v[1],o=v[2],i=v[3],a=v[4],h={x:r,y:o},t.rect(r+p,o+f,i,a)}y.x=r,y.y=o}}}r(window),t.exports=r},755:(t,e,n)=>{"use strict";n.d(e,{t:()=>v}),n(960);var r=n(83);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=r.org.webswing.directdraw.proto.DrawInstructionProto.InstructionProto,u=r.org.webswing.directdraw.proto.CompositeProto.CompositeTypeProto,d=r.org.webswing.directdraw.proto.PartialPathProto.SegmentTypeProto,p=r.org.webswing.directdraw.proto.FontProto.StyleProto,f=r.org.webswing.directdraw.proto.StrokeProto.StrokeCapProto,h=r.org.webswing.directdraw.proto.StrokeProto.StrokeJoinProto,y=r.org.webswing.directdraw.proto.ArcProto.ArcTypeProto,g=r.org.webswing.directdraw.proto.CyclicMethodProto,v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"ctxId",Math.floor(65536*Math.random()).toString(16)),c(this,"config",{logDebug:!1,logTrace:!1,ieVersion:!1,onErrorMessage:function(t){return console.error(t.stack)}}),c(this,"constantPoolCache",[]),c(this,"fontsArray",[]),c(this,"canvasBuffer",[]),c(this,"xorLayer",document.createElement("canvas")),e&&(this.config=a(a({},this.config),e),e.constantPoolCache&&(this.constantPoolCache=e.constantPoolCache))}var e,n,i;return e=t,i=[{key:"applyXorModeComposition",value:function(t,e,n,r,o){if(null!=r&&0!==r.w&&0!==r.h){for(var i=(new Date).getTime(),a=t.getImageData(r.x,r.y,r.w,r.h),s=e.getImageData(r.x,r.y,r.w,r.h),c=0;c<a.data.length/4;c++)s.data[4*c+3]>0&&(a.data[4*c]=s.data[4*c]^n.r^a.data[4*c],a.data[4*c+1]=s.data[4*c+1]^n.g^a.data[4*c+1],a.data[4*c+2]=s.data[4*c+2]^n.b^a.data[4*c+2],a.data[4*c+3]=a.data[4*c+3]);t.putImageData(a,r.x,r.y),o&&console.warn("DirectDraw DEBUG xormode - composition pixelsize:"+r.w*r.h+" duration(ms): "+((new Date).getTime()-i))}}},{key:"toImageLoaded",value:function(t){return t}},{key:"toTx",value:function(t){return[t.m00,t.m10,t.m01,t.m11,t.m02,t.m12]}},{key:"calculateTimes",value:function(t,e,n,r,o,i){return((o-t)*n+(i-e)*r)/(n*n+r*r)}},{key:"fixFocusPoint",value:function(t){var e=t.xFocus-t.xCenter,n=t.yFocus-t.yCenter;if(0!==e||0!==n){var r=t.radius*t.radius,o=e*e+n*n;if(o>.99*r){var i=Math.sqrt(.99*r/o);t.xFocus=t.xCenter+e*i,t.yFocus=t.yCenter+n*i}}}},{key:"getDistance",value:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}},{key:"getEllipseCoords",value:function(t,e,n){return t[0]=e.x+n.x+t[0]*e.w,t[1]=e.y+n.y+t[1]*e.h,t[2]=e.x+n.x+t[2]*e.w,t[3]=e.y+n.y+t[3]*e.h,t[4]=e.x+n.x+t[4]*e.w,t[5]=e.y+n.y+t[5]*e.h,t}},{key:"getRRCoords",value:function(t,e,n){for(var r=[],o=0,i=0;i<t.length;i+=4)r[o++]=e.x+n.x+t[i+0]*e.w+t[i+1]*Math.abs(e.arcW),r[o++]=e.y+n.y+t[i+2]*e.h+t[i+3]*Math.abs(e.arcH);return r}},{key:"calculateBias",value:function(e,n,r,o){if(r){var i=o||t.identityTransform(n),a=e*i[0]/n%2,s=e*i[3]/n%2;return{x:a>1e-4&&a<1.9999?.5/i[0]*n:0,y:s>1e-4&&s<1.9999?.5/i[3]*n:0}}return{x:0,y:0}}},{key:"parsePath",value:function(t,e,n,r){var o=t,i=0;o.type&&o.type.forEach((function(t){switch(t){case d.MOVE:e.moveTo(o.points[i+0]+n,o.points[i+1]+r),i+=2;break;case d.LINE:e.lineTo(o.points[i+0]+n,o.points[i+1]+r),i+=2;break;case d.QUAD:e.quadraticCurveTo(o.points[i+2]+n,o.points[i+3]+r,o.points[i+0]+n,o.points[i+1]+r),i+=4;break;case d.CUBIC:e.bezierCurveTo(o.points[i+4]+n,o.points[i+5]+r,o.points[i+2]+n,o.points[i+3]+r,o.points[i+0]+n,o.points[i+1]+r),i+=6;break;case d.CLOSE:e.closePath();break;default:console.warn("segment.type:"+o.type+" not recognized")}}))}},{key:"parseColor",value:function(e){var n=t.parseColorSamples(e);return"rgba("+n.r+","+n.g+","+n.b+","+n.a/255+")"}},{key:"parseColorSamples",value:function(t){var e=255;return{r:t>>>24&e,g:t>>>16&e,b:t>>>8&e,a:t&e}}},{key:"isFontAvailable",value:function(t){var e=document.createElement("canvas").getContext("2d"),n="abcdefghijklmnopqrstuvwxyz0123456789";e.font="72px monospace";var r=e.measureText(n).width;return e.font="72px '"+t+"', monospace",e.measureText(n).width!==r}},{key:"getFontFaceData",value:function(e,n,r){var o="@font-face {";return o+="font-family: '"+e+"';",o+="src: url(data:font/truetype;base64,"+t.toBase64(n)+");",null!=r&&(o+="font-style: "+r+";"),o+"}"}},{key:"toBase64",value:function(t){for(var e="",n=t,r=0,o=n.byteLength;r<o;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}},{key:"getImageData",value:function(e){var n=t.toBase64(e);return n?"data:image/png;base64,"+n:null}},{key:"resolveArgs",value:function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e[t[r]];return n}},{key:"concatTransform",value:function(e,n,r){return null==e&&(e=t.identityTransform(r)),[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}},{key:"withDpr",value:function(e,n){return t.concatTransform(t.identityTransform(n),e,n)}},{key:"identityTransform",value:function(t){return[t,0,0,t,0,0]}},{key:"transformPoint",value:function(t,e,n){return{x:n[0]*t+n[2]*e+n[4],y:n[1]*t+n[3]*e+n[5]}}},{key:"toCanvasCtx",value:function(t){return t}}],(n=[{key:"draw64",value:function(t,e,n){var r=Uint8Array.from(atob(t),(function(t){return t.charCodeAt(0)}));return this.drawBin(r,e,n)}},{key:"drawBin",value:function(t,e,n){return this.drawWebImage(r.org.webswing.directdraw.proto.WebImageProto.decode(t),e,n)}},{key:"drawProto",value:function(t,e,n){return this.drawWebImage(t,e,n)}},{key:"drawEmpty",value:function(t,e,n,r){var o=this;return new Promise((function(i,a){try{var s=r;r||(s=o.createRenderingCanvas(n,t,e)),i(s)}catch(t){o.config.onErrorMessage(t),a(t)}}))}},{key:"iprtGraphicsDispose",value:function(t,e){delete e.graphicsStates[t]}},{key:"iprtGraphicsSwitch",value:function(t,e,n){var r=n.graphicsStates;null!=r[e]?this.setCtxState(r[e],t,n):console.warn("Graphics with id "+e+" not initialized!"),n.currentStateId=e}},{key:"dispose",value:function(){for(var t=[],e=0,n=Array.from(document.body.getElementsByTagName("style"));e<n.length;e++){var r=n[e];r.getAttribute("data-dd-ctx")===this.ctxId&&t.push(r)}t.forEach((function(t){document.body.removeChild(t)}))}},{key:"getConstantPoolCache",value:function(){return this.constantPoolCache}},{key:"setCtxState",value:function(e,n,r){if(null!=e)if(null!=e.strokeArgs&&this.iprtSetStroke(n,e.strokeArgs),null!=e.paintArgs&&this.iprtSetPaint(n,e.paintArgs),null!=e.compositeArgs&&this.iprtSetComposite(n,e.compositeArgs),null!=e.fontArgs&&this.iprtSetFont(n,e.fontArgs),null!=e.transform){var o=e.transform;n.setTransform(o[0],o[1],o[2],o[3],o[4],o[5])}else{var i=t.identityTransform(r.dpr);n.setTransform(i[0],i[1],i[2],i[3],i[4],i[5])}}},{key:"iprtGraphicsCreate",value:function(t,e,n,r){var o=r.graphicsStates;if(null==o[e]){r.currentStateId=e,n.shift();var i=this.iprtSetTransform(t,n,r);n.shift(),this.iprtSetStroke(t,n);var a=n.slice(0,1);n.shift(),this.iprtSetComposite(t,n);var s=n.slice(0,1);n.shift(),this.iprtSetPaint(t,n);var c=n.slice(0,1);n.shift();var l=n,u=this.iprtSetFont(t,n);o[e]={transform:i,strokeArgs:a,compositeArgs:s,paintArgs:c,fontArgs:l,fontTransform:u}}else console.warn("Graphics with id "+e+" already exist!")}},{key:"iprtDraw",value:function(t,e,n,r){t.save(),this.clip(t,e[1],r);var o=this.path(t,e[0],r,!0,n);o&&t.stroke(o),t.restore()}},{key:"iprtFill",value:function(t,e,n){t.save(),this.clip(t,e[1],n);var r=this.path(t,e[0],n);r&&t.fill(r,this.fillRule(e[0])),t.restore()}},{key:"iprtDrawImage",value:function(e,n,r){e.save();var o=t.toImageLoaded(n[0].image.data),i=n[1],a=n[2],s=n[3];if(this.clip(e,n[4],r),null!=i&&this.iprtTransform(e,[i]),s){e.fillStyle=t.parseColor(s.color&&s.color.rgba?s.color.rgba:0);var c=new Path2D;null==a?c.rect(0,0,o.width,o.height):c.rect(0,0,a.rectangle.w,a.rectangle.h),e.fill(c)}if(null==a)e.drawImage(o,0,0);else{var l=a.rectangle;e.drawImage(o,l.x,l.y,l.w,l.h,0,0,l.w,l.h)}e.restore()}},{key:"iprtDrawWebImage",value:function(e,n,o,i){var a=this,s=n[0],c=n[1],l=n[2],u=n[3],d=this.canvasBuffer.pop(),p=r.org.webswing.directdraw.proto.WebImageProto.decode(o),f=i.dpr;return void 0===d||d.width===p.width*f&&d.height===p.height*f||(d.width=p.width*f,d.height=p.height*f),this.drawWebImage(p,f,d).then((function(n){if(e.save(),a.clip(e,u,i),null!=s&&a.iprtTransform(e,[s]),null!=l){e.fillStyle=t.parseColor(l.color.rgba);var r=new Path2D;null==c?r.rect(0,0,n.width/f,n.height/f):r.rect(0,0,c.rectangle.w,c.rectangle.h),e.fill(r)}if(null==c)e.drawImage(n,0,0,n.width,n.height,0,0,n.width/f,n.height/f);else{var o=c.rectangle;e.drawImage(n,o.x*f,o.y*f,o.w*f,o.h*f,0,0,o.w,o.h)}e.restore(),n.width=0,a.canvasBuffer.push(n)}))}},{key:"iprtDrawGlyphList",value:function(e,n,r){var o=t.resolveArgs(n[0].combined.ids,this.constantPoolCache),i=o[0].points,a=o[1].points,s=o.slice(2),c=n[1];if(e.save(),this.clip(e,c,r),s.length>0){var l=document.createElement("canvas");l.width=i.points[2],l.height=i.points[3];for(var u=l.getContext("2d"),d=0;d<s.length;d++)if(null!=s[d].glyph.data){var p=t.toImageLoaded(s[d].glyph.data),f=a.points[2*d],h=a.points[2*d+1];u.drawImage(p,0,0,p.width,p.height,f,h,p.width,p.height)}u.fillStyle=e.fillStyle,u.globalCompositeOperation="source-in",u.fillRect(0,0,l.width,l.height),e.drawImage(l,0,0,l.width,l.height,i.points[0],i.points[1],l.width,l.height)}e.restore()}},{key:"iprtDrawString",value:function(t,e,n,r){var o=e[0].string,i=e[1].points.points,a=i[0],s=i[1],c=e[2];if(t.save(),this.clip(t,c,r),null!=n){var l=n;t.transform(l.m00,l.m10,l.m01,l.m11,l.m02+a,l.m12+s),t.fillText(o,0,0)}else for(var u=a,d=0;d<o.length;d++)if(0!==i[d+2]){var p=this.getCharGroup(d,o,i),f=t.measureText(p).width,h=i[d+2]/f;t.save(),h<=1?(t.scale(h,1),t.fillText(p,u/h,s)):t.fillText(p,u+(i[d+2]-f)/2,s),t.restore(),u+=i[d+2]}t.restore()}},{key:"getCharGroup",value:function(t,e,n){for(var r=e.charAt(t),o=t+1;e.length>o&&0===n[o+2];)r+=e.charAt(o),o++;return r}},{key:"iprtSetFont",value:function(t,e){if(null==e[0])return null;var n=e[0].font,r="";switch(n.style){case p.NORMAL:r="";break;case p.OBLIQUE:r="bold";break;case p.ITALIC:r="italic";break;case p.BOLDANDITALIC:r="bold italic"}var o=n.family;return"sans-serif"!==n.family&&"serif"!==n.family&&"monospace"!==n.family&&(o='"'+(n.fontProvided?"":this.ctxId)+n.family+'"'),t.font=r+" "+n.size+"px "+o,n.transform}},{key:"iprtCopyArea",value:function(t,e,n){var r=e[0].points.points,o=e[1],i=n.dpr;t.save(),this.clip(t,o,n),t.beginPath(),t.setTransform(1,0,0,1,0,0);var a=new Path2D;a.rect(r[0]*i,r[1]*i,r[2]*i,r[3]*i),t.clip(a),t.translate(r[4]*i,r[5]*i),t.drawImage(t.canvas,0,0),t.restore()}},{key:"iprtTransform",value:function(t,e){var n=e[0].transform;return t.transform(n.m00,n.m10,n.m01,n.m11,n.m02,n.m12),[n.m00,n.m10,n.m01,n.m11,n.m02,n.m12]}},{key:"iprtSetTransform",value:function(e,n,r){var o=n[0].transform,i=t.withDpr(t.toTx(o),r.dpr);return e.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),i}},{key:"iprtSetStroke",value:function(t,e){var n=e[0].stroke;switch(t.lineWidth=n.width,t.miterLimit=n.miterLimit,n.cap){case f.CAP_BUTT:t.lineCap="butt";break;case f.CAP_ROUND:t.lineCap="round";break;case f.CAP_SQUARE:t.lineCap="square"}switch(n.join){case h.JOIN_MITER:t.lineJoin="miter";break;case h.JOIN_ROUND:t.lineJoin="round";break;case h.JOIN_BEVEL:t.lineJoin="bevel"}null!=n.dash&&null!=t.setLineDash&&(t.setLineDash(n.dash),t.lineDashOffset=n.dashOffset)}},{key:"iprtSetPaint",value:function(e,n){var r=n[0];if(null!=r.color){var o=t.parseColor(r.color.rgba);e.fillStyle=o,e.strokeStyle=o}else if(null!=r.texture){var i,a=r.texture.anchor,s=t.toImageLoaded(r.texture.image.data);if(0===a.x&&0===a.y&&a.w===s.width&&a.h===s.height)i=e.createPattern(s,"repeat");else{var c=document.createElement("canvas"),l=a.x<0?a.x%a.w+a.w:a.x%a.w,u=a.y<0?a.y%a.h+a.h:a.y%a.h;c.width=a.w,c.height=a.h;var d=c.getContext("2d");d.clearRect(0,0,a.w,a.h),d.fillStyle=d.createPattern(s,"repeat"),d.setTransform(a.w/s.width,0,0,a.h/s.height,l,u),d.fillRect(-l*s.width/a.w,-u*s.height/a.h,s.width,s.height),i=e.createPattern(c,"repeat")}e.fillStyle=i,e.strokeStyle=i}else if(null!=r.linearGrad){var p=this.iprtLinearGradient(e,r.linearGrad);e.fillStyle=p,e.strokeStyle=p}else if(null!=r.radialGrad){var f=this.iprtRadialGradient(e,r.radialGrad);e.fillStyle=f,e.strokeStyle=f}}},{key:"iprtLinearGradient",value:function(e,n){var r=n.xStart,o=n.yStart,i=n.xEnd-r,a=n.yEnd-o,s=1,c=s,l=0;if(n.repeat!==g.NO_CYCLE&&(0!==i||0!==a)){var u=e.canvas,d=[t.calculateTimes(r,o,i,a,0,0),t.calculateTimes(r,o,i,a,u.width,0),t.calculateTimes(r,o,i,a,u.width,u.height),t.calculateTimes(r,o,i,a,0,u.height)];s=(c=Math.ceil(Math.max.apply(Math,d)))+(l=Math.ceil(-Math.min.apply(Math,d)))}for(var p=e.createLinearGradient(r-i*l,o-a*l,r+i*c,o+a*c),f=-l,h=0;f<c;f++,h++)if(n.repeat!==g.REFLECT||f%2==0)for(var y=0;y<n.colors.length;y++)p.addColorStop((h+n.fractions[y])/s,t.parseColor(n.colors[y]));else for(var v=n.colors.length-1;v>=0;v--)p.addColorStop((h+(1-n.fractions[v]))/s,t.parseColor(n.colors[v]));return p}},{key:"iprtRadialGradient",value:function(e,n){t.fixFocusPoint(n);var r=n.xFocus,o=n.yFocus,i=n.xCenter-r,a=n.yCenter-o,s=n.radius,c=1;if(n.repeat!==g.NO_CYCLE)if(0===i&&0===a){var l=e.canvas,u=[t.getDistance(r,o,0,0)/s,t.getDistance(r,o,l.width,0)/s,t.getDistance(r,o,l.width,l.height)/s,t.getDistance(r,o,0,l.height)/s];c=Math.ceil(Math.max.apply(Math,u))}else{var d=Math.sqrt(i*i+a*a),p=i+s*i/d,f=a+s*a/d,h=i-s*i/d,y=a-s*a/d,v=e.canvas,m=[t.calculateTimes(r,o,p,f,0,0),t.calculateTimes(r,o,p,f,v.width,0),t.calculateTimes(r,o,p,f,v.width,v.height),t.calculateTimes(r,o,p,f,0,v.height),t.calculateTimes(r,o,h,y,0,0),t.calculateTimes(r,o,h,y,v.width,0),t.calculateTimes(r,o,h,y,v.width,v.height),t.calculateTimes(r,o,h,y,0,v.height)];c=Math.ceil(Math.max.apply(Math,m))}for(var w=e.createRadialGradient(r,o,0,r+c*i,o+c*a,s*c),b=0;b<c;b++)if(n.repeat!==g.REFLECT||b%2==0)for(var O=0;O<n.colors.length;O++)w.addColorStop((b+n.fractions[O])/c,t.parseColor(n.colors[O]));else for(var P=n.colors.length-1;P>=0;P--)w.addColorStop((b+(1-n.fractions[P]))/c,t.parseColor(n.colors[P]));return w}},{key:"iprtSetComposite",value:function(t,e){var n=e[0].composite;if(null!=n)switch(t.globalAlpha=n.alpha,n.type){case u.CLEAR:t.globalCompositeOperation="destination-out",t.globalAlpha=1;break;case u.SRC:t.globalCompositeOperation="source-over";break;case u.DST:t.globalCompositeOperation="destination-over",t.globalAlpha=0;break;case u.SRC_OVER:t.globalCompositeOperation="source-over";break;case u.DST_OVER:t.globalCompositeOperation="destination-over";break;case u.SRC_IN:t.globalCompositeOperation="source-in";break;case u.DST_IN:t.globalCompositeOperation="destination-in";break;case u.SRC_OUT:t.globalCompositeOperation="source-out";break;case u.DST_OUT:t.globalCompositeOperation="destination-out";break;case u.SRC_ATOP:t.globalCompositeOperation="source-atop";break;case u.DST_ATOP:t.globalCompositeOperation="destination-atop";break;case u.XOR:t.globalCompositeOperation="xor";break;case u.XOR_MODE:t.globalCompositeOperation="source-over"}}},{key:"clip",value:function(t,e,n){var r=this.path(t,e,n);r&&t.clip(r,this.fillRule(e))}},{key:"path",value:function(e,n,r,o,i){if(null==n)return null;var a=t.calculateBias(e.lineWidth,r.dpr,o,i),s=new Path2D;if(null!=n.rectangle)return this.pathRectangle(s,n.rectangle,a),s;if(null!=n.roundRectangle)return this.pathRoundRectangle(s,n.roundRectangle,a),s;if(null!=n.ellipse)return this.pathEllipse(s,n.ellipse,a),s;if(null!=n.arc)return this.pathArc(s,n.arc,a),s;if(null!=n.combined){for(var c=t.resolveArgs(n.combined.ids,this.constantPoolCache),l=c[0].path,u=c.slice(1),d=l.xOffsets,p=l.yOffsets,f=new DOMMatrix([1,0,0,1,0,0]),h=0;h<u.length;h++){var y=u[h].partialPath;f.e=d[h],f.f=p[h],s.addPath(y.path2d,f)}return s}return null}},{key:"pathRectangle",value:function(t,e,n){t.rect(e.x+n.x,e.y+n.y,e.w,e.h)}},{key:"pathEllipse",value:function(e,n,r){var o=.5522847498307933,i=.5+.5*o,a=.5-.5*o;e.moveTo(n.x+r.x+n.w,n.y+r.y+.5*n.h);var s=t.getEllipseCoords([1,i,i,1,.5,1],n,r);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),s=t.getEllipseCoords([a,1,0,i,0,.5],n,r),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),s=t.getEllipseCoords([0,a,a,0,.5,0],n,r),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),s=t.getEllipseCoords([i,0,1,a,1,.5],n,r),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),e.closePath()}},{key:"pathRoundRectangle",value:function(e,n,r){var o=.22385762508460333,i=t.getRRCoords([0,0,0,.5],n,r);e.moveTo(i[0],i[1]),i=t.getRRCoords([0,0,1,-.5],n,r),e.lineTo(i[0],i[1]),i=t.getRRCoords([0,0,1,-o,0,o,1,0,0,.5,1,0],n,r),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=t.getRRCoords([1,-.5,1,0],n,r),e.lineTo(i[0],i[1]),i=t.getRRCoords([1,-o,1,0,1,0,1,-o,1,0,1,-.5],n,r),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=t.getRRCoords([1,0,0,.5],n,r),e.lineTo(i[0],i[1]),i=t.getRRCoords([1,0,0,o,1,-o,0,0,1,-.5,0,0],n,r),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=t.getRRCoords([0,.5,0,0],n,r),e.lineTo(i[0],i[1]),i=t.getRRCoords([0,o,0,0,0,0,0,o,0,0,0,.5],n,r),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),e.closePath()}},{key:"pathArc",value:function(t,e,n){var r=e.w/2,o=e.h/2,i=e.x+n.x+r,a=e.y+n.y+o,s=-e.start*Math.PI/180,c=-e.extent,l=4,u=c<0?Math.PI/2:-Math.PI/2,d=c<0?.5522847498307933:-.5522847498307933;c>-360&&c<360&&(u=c/(l=Math.ceil(Math.abs(c)/90))*Math.PI/180,l=0==(d=4/3*Math.sin(u/2)/(1+Math.cos(u/2)))?0:l),t.moveTo(i+Math.cos(s)*r,a+Math.sin(s)*o);for(var p=0;p<l;p++){var f=s+u*p,h=Math.cos(f),g=Math.sin(f),v=[];v[0]=i+(h-d*g)*r,v[1]=a+(g+d*h)*o,f+=u,h=Math.cos(f),g=Math.sin(f),v[2]=i+(h+d*g)*r,v[3]=a+(g-d*h)*o,v[4]=i+h*r,v[5]=a+g*o,t.bezierCurveTo(v[0],v[1],v[2],v[3],v[4],v[5])}switch(e.type){case y.OPEN:break;case y.CHORD:t.closePath();break;case y.PIE:t.lineTo(i,a),t.closePath()}}},{key:"prepareImages",value:function(e){var n=this;return new Promise((function(r,o){try{if(e.length>0){var i=e.map((function(e){return new Promise((function(n){var r=new Image,o=t.getImageData(e.data);o?(r.onload=function(){e.data=r,n()},r.src=o):(e.data=r,n())}))}));Promise.all(i).then((function(){return r()}))}else r()}catch(t){n.config.onErrorMessage(t),o(t)}}))}},{key:"initializeFontFaces",value:function(e){var n=this;return new Promise((function(r,o){try{if(e.length>0){var i=e.map((function(e){return new Promise((function(r){if(n.fontsArray.indexOf(e.name)>=0)r();else{n.fontsArray.push(e.name);var o=document.createElement("style");o.type="text/css",o.setAttribute("data-dd-ctx",n.ctxId);var i=n.ctxId+e.name;o.innerHTML=t.getFontFaceData(i,e.font,e.style),document.body.appendChild(o),n.waitForFont(i,r)}}))}));Promise.all(i).then((function(){return r()}))}else r()}catch(t){n.config.onErrorMessage(t),o(t)}}))}},{key:"logRenderTime",value:function(t,e){if(this.config.logDebug&&null!=e){var n=(new Date).getTime()-t,r=null==e.instructions?0:e.instructions.length,o=null==e.constants?0:e.constants.length,i=null==e.fontFaces?0:e.fontFaces.length;console.warn("DirectDraw DEBUG render time "+n+"ms (insts:"+r+", consts:"+o+", fonts:"+i+")")}}},{key:"waitForFont",value:function(e,n){var r=(new Date).getTime();!function o(){t.isFontAvailable(e)||(new Date).getTime()-r>100?n():new Promise((function(t){return setTimeout(t,5)})).then(o)}()}},{key:"fillRule",value:function(e){if(e.combined&&e.combined.ids&&e.combined.ids.length>0){var n=t.resolveArgs([e.combined.ids[0]],this.constantPoolCache)[0].path;if(null!=n)return n.windingOdd?"evenodd":"nonzero"}return"nonzero"}},{key:"drawWebImage",value:function(t,e,n){var r=this;return new Promise((function(o,i){try{r.drawWebImageInternal(t,e,o,i,n)}catch(t){r.config.onErrorMessage(t),i(t)}}))}},{key:"drawWebImageInternal",value:function(e,n,r,o,i){var a,s=this,c=(new Date).getTime();if(null!=i){if(i.width!==e.width*n||i.height!==e.height*n){var l=this.canvasBuffer.pop();void 0===l&&(l=document.createElement("canvas")),l.width=i.width,l.height=i.height,l.getContext("2d").drawImage(i,0,0),i.width=e.width*n,i.height=e.height*n,l.width>0&&l.height>0&&i.getContext("2d").drawImage(l,0,0,l.width,l.height,0,0,i.width,i.height),this.canvasBuffer.push(l)}a=i}else a=this.createRenderingCanvas(n,e.width,e.height);a.style.width=e.width+"px",a.style.height=e.height+"px";var u={canvas:a,graphicsStates:[],currentStateId:-1,dpr:n},d=this.populateConstantsPool(e.constants);this.prepareImages(d).then((function(){return s.initializeFontFaces(e.fontFaces)})).then((function(){var n=t.toCanvasCtx(u.canvas.getContext("2d"));null!=n?(s.config.logTrace&&(n=s.wrap2TraceLoggerCtx(n)),null!=e.instructions&&(n.save(),e.instructions.reduce((function(t,e){return t.then((function(){return s.interpretInstruction(n,e,u)}))}),Promise.resolve()).then((function(){n.restore(),s.logRenderTime(c,e),r(u.canvas)})).catch((function(t){n.restore(),o(t),s.config.onErrorMessage(t)})))):o(new Error("ctx is null"))})).catch((function(t){s.config.onErrorMessage(t)}))}},{key:"createRenderingCanvas",value:function(t,e,n){var r=document.createElement("canvas");return r.classList.add("webswing-canvas"),r.getContext("2d").scale(t,t),r.width=e*t,r.height=n*t,r}},{key:"populateConstantsPool",value:function(e){var n=this,r=[];return e.forEach((function(e){if(n.constantPoolCache[e.id]=e,e.partialPath){var o=e.partialPath.path2d=new Path2D;t.parsePath(e.partialPath,o,0,0)}else null!=e.image?r.push(e.image):null!=e.texture?r.push(e.texture.image):null!=e.glyph&&null!=e.glyph.data&&r.push(e.glyph)})),r}},{key:"interpretInstruction",value:function(e,n,r){var o=e,i=n.args?t.resolveArgs(n.args,this.constantPoolCache):[],a=r.graphicsStates[r.currentStateId],s=this.isXorMode(a);switch(s&&(e=this.initXorModeCtx(a,o,r)),n.inst){case l.GRAPHICS_CREATE:this.iprtGraphicsCreate(o,n.args?n.args[0]:0,i,r);break;case l.GRAPHICS_SWITCH:this.iprtGraphicsSwitch(o,n.args?n.args[0]:0,r);break;case l.GRAPHICS_DISPOSE:this.iprtGraphicsDispose(n.args?n.args[0]:0,r);break;case l.DRAW:this.iprtDraw(e,i,a.transform,r);break;case l.FILL:this.iprtFill(e,i,r);break;case l.DRAW_IMAGE:this.iprtDrawImage(e,i,r);break;case l.DRAW_WEBIMAGE:return this.iprtDrawWebImage(e,i,n.webImage,r);case l.DRAW_STRING:this.iprtDrawString(e,i,a.fontTransform,r);break;case l.COPY_AREA:this.iprtCopyArea(e,i,r);break;case l.SET_STROKE:a.strokeArgs=i,this.iprtSetStroke(o,i);break;case l.SET_PAINT:a.paintArgs=i,this.iprtSetPaint(o,i);break;case l.SET_COMPOSITE:a.compositeArgs=i,this.iprtSetComposite(o,i);break;case l.SET_FONT:a.fontArgs=i,a.fontTransform=this.iprtSetFont(o,i);break;case l.TRANSFORM:a.transform=t.concatTransform(a.transform,this.iprtTransform(o,i),r.dpr);break;case l.DRAW_GLYPH_LIST:this.iprtDrawGlyphList(e,i,r);break;default:console.warn("instruction code: "+n.inst+" not recognized")}if(s){var c=e,u=c.popBoundingBox(),d=t.parseColorSamples(a.compositeArgs[0].composite.color);t.applyXorModeComposition(o,c,d,u,this.config.logDebug)}return Promise.resolve()}},{key:"isXorMode",value:function(t){return null!=t&&null!=t.compositeArgs&&t.compositeArgs[0].composite.type===u.XOR_MODE}},{key:"initXorModeCtx",value:function(e,n,r){this.xorLayer.width=n.canvas.width,this.xorLayer.height=n.canvas.height;var o=t.toCanvasCtx(this.xorLayer.getContext("2d")),i=this.wrapContext(o,r.dpr);return this.setCtxState(e,i,r),i}},{key:"wrapContext",value:function(e,n){var r=e;if(!r.wrapped){r.wrapped=!0,r.boundingBox=null,r.pathBBox={minX:99999999999,minY:99999999999,maxX:-99999999999,maxY:-99999999999};var o=r.beginPath;r.beginPath=function(){return this.pathBBox={minX:99999999999,minY:99999999999,maxX:-99999999999,maxY:-99999999999},o.call(this)};var i=r.setTransform;r.setTransform=function(t,e,n,r,o,a){this.transfomMatrix=[t,e,n,r,o,a],i.call(this,t,e,n,r,o,a)};var a=r.transform;r.transform=function(e,r,o,i,s,c){return this.transfomMatrix=t.concatTransform(this.transfomMatrix,[e,r,o,i,s,c],n),a.call(this,e,r,o,i,s,c)},r.updateMinMax=function(e,n){var r=t.transformPoint(e,n,this.transfomMatrix);r.x<this.pathBBox.minX&&(this.pathBBox.minX=r.x),r.x>this.pathBBox.maxX&&(this.pathBBox.maxX=r.x),r.y<this.pathBBox.minY&&(this.pathBBox.minY=r.y),r.y>this.pathBBox.maxY&&(this.pathBBox.maxY=r.y)};var s=r.fillText;r.fillText=function(t,e,n,r){this.pathBBox={minX:99999999999,minY:99999999999,maxX:-99999999999,maxY:-99999999999};var o=r||this.measureText(t).width,i=2*this.measureText("M").width;return this.updateMinMax(e-3,n-.7*i),this.updateMinMax(e-3,n+.3*i),this.updateMinMax(e+1.2*o,n-.7*i),this.updateMinMax(e+1.2*o,n+.3*i),this.setBoundingBox(),void 0===r?s.call(this,t,e,n):s.call(this,t,e,n,r)};var c=r.moveTo;r.moveTo=function(t,e){return this.updateMinMax(t,e),c.call(this,t,e)};var l=r.lineTo;r.lineTo=function(t,e){return this.updateMinMax(t,e),l.call(this,t,e)};var u=r.quadraticCurveTo;r.quadraticCurveTo=function(t,e,n,r){return this.updateMinMax(n,r),this.updateMinMax(t,e),u.call(this,t,e,n,r)};var d=r.bezierCurveTo;r.bezierCurveTo=function(t,e,n,r,o,i){return this.updateMinMax(o,i),this.updateMinMax(t,e),this.updateMinMax(n,r),d.call(this,t,e,n,r,o,i)};var p=r.rect;r.rect=function(t,e,n,r){return this.updateMinMax(t,e),this.updateMinMax(t,e+r),this.updateMinMax(t+n,e),this.updateMinMax(t+n,e+r),p.call(this,t,e,n,r)};var f=r.fill;r.fill=function(t){return this.setBoundingBox(),f.call(this,t)};var h=r.drawImage;r.drawImage=function(t,e,n,r,o,i,a,s,c){return this.pathBBox={minX:99999999999,minY:99999999999,maxX:-99999999999,maxY:-99999999999},this.setBoundingBox(),h.call(this,t,e,n,r,o,i,a,s,c)};var y=r.stroke;r.stroke=function(t){return this.setBoundingBox(this.lineWidth/2+3),y.call(this,t)},r.setBoundingBox=function(t){var e=(t||0)*this.transfomMatrix[0],n=(t||0)*this.transfomMatrix[3],r=Math.min(Math.max(0,this.pathBBox.minX-e),this.canvas.width),o=Math.min(Math.max(0,this.pathBBox.minY-n),this.canvas.height),i=Math.min(Math.max(0,this.pathBBox.maxX+e),this.canvas.width),a=Math.min(Math.max(0,this.pathBBox.maxY+n),this.canvas.height);this.boundingBox&&(r=Math.min(r,this.boundingBox.x),o=Math.min(o,this.boundingBox.y),i=Math.max(i,this.boundingBox.w+this.boundingBox.x),a=Math.max(a,this.boundingBox.h+this.boundingBox.y)),this.boundingBox={x:r,y:o,w:i-r,h:a-o}},r.popBoundingBox=function(){var t=this.boundingBox;return this.boundingBox=null,null!=t&&(t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.w=Math.ceil(t.w),t.h=Math.ceil(t.h)),t}}return r}},{key:"wrap2TraceLoggerCtx",value:function(t){if(t.traceLoggerWrapped)return t;var e=function(t){var e,n="",r=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){c=!0,a=t})),f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n+=","+JSON.stringify(i)}}catch(t){r.e(t)}finally{r.f()}return n.length>0?n.substring(1):n};return["fill","stroke","beginPath","save","restore","setTransform","clip","rect","drawImage","fillRect","transform","fillText","scale","setLineDash","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"].reduce((function(n,r){return n[r]=function(n,r){return function(){console.warn("ctx."+r+"("+e(arguments)+")"),n.apply(t,Array.from(arguments))}}(n[r],r),n}),t),t.traceLoggerWrapped=!0,t}}])&&s(e.prototype,n),i&&s(e,i),t}()},83:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,s,c,l,u=n(370),d=u.Reader,p=u.util,f=u.roots.default||(u.roots.default={});f.org=((l={}).webswing=((c={}).directdraw=((s={}).proto=((a={}).WebImageProto=function(){function t(t){if(this.instructions=[],this.constants=[],this.fontFaces=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.width=0,t.prototype.height=0,t.prototype.instructions=p.emptyArray,t.prototype.constants=p.emptyArray,t.prototype.fontFaces=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.WebImageProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.width=t.uint32();break;case 2:r.height=t.uint32();break;case 3:r.instructions&&r.instructions.length||(r.instructions=[]),r.instructions.push(f.org.webswing.directdraw.proto.DrawInstructionProto.decode(t,t.uint32()));break;case 4:r.constants&&r.constants.length||(r.constants=[]),r.constants.push(f.org.webswing.directdraw.proto.DrawConstantProto.decode(t,t.uint32()));break;case 5:r.fontFaces&&r.fontFaces.length||(r.fontFaces=[]),r.fontFaces.push(f.org.webswing.directdraw.proto.FontFaceProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("width"))throw p.ProtocolError("missing required 'width'",{instance:r});if(!r.hasOwnProperty("height"))throw p.ProtocolError("missing required 'height'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.WebImageProto)return t;var e=new f.org.webswing.directdraw.proto.WebImageProto;if(null!=t.width&&(e.width=t.width>>>0),null!=t.height&&(e.height=t.height>>>0),t.instructions){if(!Array.isArray(t.instructions))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.instructions: array expected");e.instructions=[];for(var n=0;n<t.instructions.length;++n){if("object"!==r(t.instructions[n]))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.instructions: object expected");e.instructions[n]=f.org.webswing.directdraw.proto.DrawInstructionProto.fromObject(t.instructions[n])}}if(t.constants){if(!Array.isArray(t.constants))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.constants: array expected");for(e.constants=[],n=0;n<t.constants.length;++n){if("object"!==r(t.constants[n]))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.constants: object expected");e.constants[n]=f.org.webswing.directdraw.proto.DrawConstantProto.fromObject(t.constants[n])}}if(t.fontFaces){if(!Array.isArray(t.fontFaces))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.fontFaces: array expected");for(e.fontFaces=[],n=0;n<t.fontFaces.length;++n){if("object"!==r(t.fontFaces[n]))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.fontFaces: object expected");e.fontFaces[n]=f.org.webswing.directdraw.proto.FontFaceProto.fromObject(t.fontFaces[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.instructions=[],n.constants=[],n.fontFaces=[]),e.defaults&&(n.width=0,n.height=0),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),t.instructions&&t.instructions.length){n.instructions=[];for(var r=0;r<t.instructions.length;++r)n.instructions[r]=f.org.webswing.directdraw.proto.DrawInstructionProto.toObject(t.instructions[r],e)}if(t.constants&&t.constants.length)for(n.constants=[],r=0;r<t.constants.length;++r)n.constants[r]=f.org.webswing.directdraw.proto.DrawConstantProto.toObject(t.constants[r],e);if(t.fontFaces&&t.fontFaces.length)for(n.fontFaces=[],r=0;r<t.fontFaces.length;++r)n.fontFaces[r]=f.org.webswing.directdraw.proto.FontFaceProto.toObject(t.fontFaces[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.DrawInstructionProto=function(){function t(t){if(this.args=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.inst=0,t.prototype.args=p.emptyArray,t.prototype.webImage=p.newBuffer([]),t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.DrawInstructionProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.inst=t.int32();break;case 2:if(r.args&&r.args.length||(r.args=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.args.push(t.uint32());else r.args.push(t.uint32());break;case 3:r.webImage=t.bytes();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("inst"))throw p.ProtocolError("missing required 'inst'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.DrawInstructionProto)return t;var e=new f.org.webswing.directdraw.proto.DrawInstructionProto;switch(t.inst){case"DRAW":case 0:e.inst=0;break;case"FILL":case 1:e.inst=1;break;case"DRAW_IMAGE":case 2:e.inst=2;break;case"DRAW_WEBIMAGE":case 3:e.inst=3;break;case"DRAW_STRING":case 4:e.inst=4;break;case"COPY_AREA":case 5:e.inst=5;break;case"GRAPHICS_DISPOSE":case 6:e.inst=6;break;case"GRAPHICS_SWITCH":case 7:e.inst=7;break;case"GRAPHICS_CREATE":case 8:e.inst=8;break;case"TRANSFORM":case 9:e.inst=9;break;case"SET_PAINT":case 10:e.inst=10;break;case"SET_FONT":case 11:e.inst=11;break;case"SET_STROKE":case 12:e.inst=12;break;case"SET_COMPOSITE":case 13:e.inst=13;break;case"DRAW_GLYPH_LIST":case 14:e.inst=14}if(t.args){if(!Array.isArray(t.args))throw TypeError(".org.webswing.directdraw.proto.DrawInstructionProto.args: array expected");e.args=[];for(var n=0;n<t.args.length;++n)e.args[n]=t.args[n]>>>0}return null!=t.webImage&&("string"==typeof t.webImage?p.base64.decode(t.webImage,e.webImage=p.newBuffer(p.base64.length(t.webImage)),0):t.webImage.length&&(e.webImage=t.webImage)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.args=[]),e.defaults&&(n.inst=e.enums===String?"DRAW":0,e.bytes===String?n.webImage="":(n.webImage=[],e.bytes!==Array&&(n.webImage=p.newBuffer(n.webImage)))),null!=t.inst&&t.hasOwnProperty("inst")&&(n.inst=e.enums===String?f.org.webswing.directdraw.proto.DrawInstructionProto.InstructionProto[t.inst]:t.inst),t.args&&t.args.length){n.args=[];for(var r=0;r<t.args.length;++r)n.args[r]=t.args[r]}return null!=t.webImage&&t.hasOwnProperty("webImage")&&(n.webImage=e.bytes===String?p.base64.encode(t.webImage,0,t.webImage.length):e.bytes===Array?Array.prototype.slice.call(t.webImage):t.webImage),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.InstructionProto=(e={},(n=Object.create(e))[e[0]="DRAW"]=0,n[e[1]="FILL"]=1,n[e[2]="DRAW_IMAGE"]=2,n[e[3]="DRAW_WEBIMAGE"]=3,n[e[4]="DRAW_STRING"]=4,n[e[5]="COPY_AREA"]=5,n[e[6]="GRAPHICS_DISPOSE"]=6,n[e[7]="GRAPHICS_SWITCH"]=7,n[e[8]="GRAPHICS_CREATE"]=8,n[e[9]="TRANSFORM"]=9,n[e[10]="SET_PAINT"]=10,n[e[11]="SET_FONT"]=11,n[e[12]="SET_STROKE"]=12,n[e[13]="SET_COMPOSITE"]=13,n[e[14]="DRAW_GLYPH_LIST"]=14,n),t}(),a.DrawConstantProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id=0,t.prototype.color=null,t.prototype.image=null,t.prototype.transform=null,t.prototype.string="",t.prototype.partialPath=null,t.prototype.path=null,t.prototype.font=null,t.prototype.linearGrad=null,t.prototype.radialGrad=null,t.prototype.points=null,t.prototype.rectangle=null,t.prototype.ellipse=null,t.prototype.roundRectangle=null,t.prototype.arc=null,t.prototype.stroke=null,t.prototype.composite=null,t.prototype.texture=null,t.prototype.glyph=null,t.prototype.combined=null,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.DrawConstantProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.uint32();break;case 2:r.color=f.org.webswing.directdraw.proto.ColorProto.decode(t,t.uint32());break;case 3:r.image=f.org.webswing.directdraw.proto.ImageProto.decode(t,t.uint32());break;case 4:r.transform=f.org.webswing.directdraw.proto.TransformProto.decode(t,t.uint32());break;case 5:r.string=t.string();break;case 6:r.partialPath=f.org.webswing.directdraw.proto.PartialPathProto.decode(t,t.uint32());break;case 7:r.path=f.org.webswing.directdraw.proto.CompositePathProto.decode(t,t.uint32());break;case 8:r.font=f.org.webswing.directdraw.proto.FontProto.decode(t,t.uint32());break;case 9:r.linearGrad=f.org.webswing.directdraw.proto.LinearGradientProto.decode(t,t.uint32());break;case 10:r.radialGrad=f.org.webswing.directdraw.proto.RadialGradientProto.decode(t,t.uint32());break;case 11:r.points=f.org.webswing.directdraw.proto.PointsProto.decode(t,t.uint32());break;case 12:r.rectangle=f.org.webswing.directdraw.proto.RectangleProto.decode(t,t.uint32());break;case 13:r.ellipse=f.org.webswing.directdraw.proto.EllipseProto.decode(t,t.uint32());break;case 14:r.roundRectangle=f.org.webswing.directdraw.proto.RoundRectangleProto.decode(t,t.uint32());break;case 15:r.arc=f.org.webswing.directdraw.proto.ArcProto.decode(t,t.uint32());break;case 16:r.stroke=f.org.webswing.directdraw.proto.StrokeProto.decode(t,t.uint32());break;case 17:r.composite=f.org.webswing.directdraw.proto.CompositeProto.decode(t,t.uint32());break;case 18:r.texture=f.org.webswing.directdraw.proto.TextureProto.decode(t,t.uint32());break;case 19:r.glyph=f.org.webswing.directdraw.proto.GlyphProto.decode(t,t.uint32());break;case 20:r.combined=f.org.webswing.directdraw.proto.CombinedProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw p.ProtocolError("missing required 'id'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.DrawConstantProto)return t;var e=new f.org.webswing.directdraw.proto.DrawConstantProto;if(null!=t.id&&(e.id=t.id>>>0),null!=t.color){if("object"!==r(t.color))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.color: object expected");e.color=f.org.webswing.directdraw.proto.ColorProto.fromObject(t.color)}if(null!=t.image){if("object"!==r(t.image))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.image: object expected");e.image=f.org.webswing.directdraw.proto.ImageProto.fromObject(t.image)}if(null!=t.transform){if("object"!==r(t.transform))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.transform: object expected");e.transform=f.org.webswing.directdraw.proto.TransformProto.fromObject(t.transform)}if(null!=t.string&&(e.string=String(t.string)),null!=t.partialPath){if("object"!==r(t.partialPath))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.partialPath: object expected");e.partialPath=f.org.webswing.directdraw.proto.PartialPathProto.fromObject(t.partialPath)}if(null!=t.path){if("object"!==r(t.path))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.path: object expected");e.path=f.org.webswing.directdraw.proto.CompositePathProto.fromObject(t.path)}if(null!=t.font){if("object"!==r(t.font))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.font: object expected");e.font=f.org.webswing.directdraw.proto.FontProto.fromObject(t.font)}if(null!=t.linearGrad){if("object"!==r(t.linearGrad))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.linearGrad: object expected");e.linearGrad=f.org.webswing.directdraw.proto.LinearGradientProto.fromObject(t.linearGrad)}if(null!=t.radialGrad){if("object"!==r(t.radialGrad))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.radialGrad: object expected");e.radialGrad=f.org.webswing.directdraw.proto.RadialGradientProto.fromObject(t.radialGrad)}if(null!=t.points){if("object"!==r(t.points))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.points: object expected");e.points=f.org.webswing.directdraw.proto.PointsProto.fromObject(t.points)}if(null!=t.rectangle){if("object"!==r(t.rectangle))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.rectangle: object expected");e.rectangle=f.org.webswing.directdraw.proto.RectangleProto.fromObject(t.rectangle)}if(null!=t.ellipse){if("object"!==r(t.ellipse))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.ellipse: object expected");e.ellipse=f.org.webswing.directdraw.proto.EllipseProto.fromObject(t.ellipse)}if(null!=t.roundRectangle){if("object"!==r(t.roundRectangle))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.roundRectangle: object expected");e.roundRectangle=f.org.webswing.directdraw.proto.RoundRectangleProto.fromObject(t.roundRectangle)}if(null!=t.arc){if("object"!==r(t.arc))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.arc: object expected");e.arc=f.org.webswing.directdraw.proto.ArcProto.fromObject(t.arc)}if(null!=t.stroke){if("object"!==r(t.stroke))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.stroke: object expected");e.stroke=f.org.webswing.directdraw.proto.StrokeProto.fromObject(t.stroke)}if(null!=t.composite){if("object"!==r(t.composite))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.composite: object expected");e.composite=f.org.webswing.directdraw.proto.CompositeProto.fromObject(t.composite)}if(null!=t.texture){if("object"!==r(t.texture))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.texture: object expected");e.texture=f.org.webswing.directdraw.proto.TextureProto.fromObject(t.texture)}if(null!=t.glyph){if("object"!==r(t.glyph))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.glyph: object expected");e.glyph=f.org.webswing.directdraw.proto.GlyphProto.fromObject(t.glyph)}if(null!=t.combined){if("object"!==r(t.combined))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.combined: object expected");e.combined=f.org.webswing.directdraw.proto.CombinedProto.fromObject(t.combined)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id=0,n.color=null,n.image=null,n.transform=null,n.string="",n.partialPath=null,n.path=null,n.font=null,n.linearGrad=null,n.radialGrad=null,n.points=null,n.rectangle=null,n.ellipse=null,n.roundRectangle=null,n.arc=null,n.stroke=null,n.composite=null,n.texture=null,n.glyph=null,n.combined=null),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.color&&t.hasOwnProperty("color")&&(n.color=f.org.webswing.directdraw.proto.ColorProto.toObject(t.color,e)),null!=t.image&&t.hasOwnProperty("image")&&(n.image=f.org.webswing.directdraw.proto.ImageProto.toObject(t.image,e)),null!=t.transform&&t.hasOwnProperty("transform")&&(n.transform=f.org.webswing.directdraw.proto.TransformProto.toObject(t.transform,e)),null!=t.string&&t.hasOwnProperty("string")&&(n.string=t.string),null!=t.partialPath&&t.hasOwnProperty("partialPath")&&(n.partialPath=f.org.webswing.directdraw.proto.PartialPathProto.toObject(t.partialPath,e)),null!=t.path&&t.hasOwnProperty("path")&&(n.path=f.org.webswing.directdraw.proto.CompositePathProto.toObject(t.path,e)),null!=t.font&&t.hasOwnProperty("font")&&(n.font=f.org.webswing.directdraw.proto.FontProto.toObject(t.font,e)),null!=t.linearGrad&&t.hasOwnProperty("linearGrad")&&(n.linearGrad=f.org.webswing.directdraw.proto.LinearGradientProto.toObject(t.linearGrad,e)),null!=t.radialGrad&&t.hasOwnProperty("radialGrad")&&(n.radialGrad=f.org.webswing.directdraw.proto.RadialGradientProto.toObject(t.radialGrad,e)),null!=t.points&&t.hasOwnProperty("points")&&(n.points=f.org.webswing.directdraw.proto.PointsProto.toObject(t.points,e)),null!=t.rectangle&&t.hasOwnProperty("rectangle")&&(n.rectangle=f.org.webswing.directdraw.proto.RectangleProto.toObject(t.rectangle,e)),null!=t.ellipse&&t.hasOwnProperty("ellipse")&&(n.ellipse=f.org.webswing.directdraw.proto.EllipseProto.toObject(t.ellipse,e)),null!=t.roundRectangle&&t.hasOwnProperty("roundRectangle")&&(n.roundRectangle=f.org.webswing.directdraw.proto.RoundRectangleProto.toObject(t.roundRectangle,e)),null!=t.arc&&t.hasOwnProperty("arc")&&(n.arc=f.org.webswing.directdraw.proto.ArcProto.toObject(t.arc,e)),null!=t.stroke&&t.hasOwnProperty("stroke")&&(n.stroke=f.org.webswing.directdraw.proto.StrokeProto.toObject(t.stroke,e)),null!=t.composite&&t.hasOwnProperty("composite")&&(n.composite=f.org.webswing.directdraw.proto.CompositeProto.toObject(t.composite,e)),null!=t.texture&&t.hasOwnProperty("texture")&&(n.texture=f.org.webswing.directdraw.proto.TextureProto.toObject(t.texture,e)),null!=t.glyph&&t.hasOwnProperty("glyph")&&(n.glyph=f.org.webswing.directdraw.proto.GlyphProto.toObject(t.glyph,e)),null!=t.combined&&t.hasOwnProperty("combined")&&(n.combined=f.org.webswing.directdraw.proto.CombinedProto.toObject(t.combined,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.FontFaceProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.font=p.newBuffer([]),t.prototype.style="",t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.FontFaceProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 2:r.font=t.bytes();break;case 3:r.style=t.string();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("name"))throw p.ProtocolError("missing required 'name'",{instance:r});if(!r.hasOwnProperty("font"))throw p.ProtocolError("missing required 'font'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.FontFaceProto)return t;var e=new f.org.webswing.directdraw.proto.FontFaceProto;return null!=t.name&&(e.name=String(t.name)),null!=t.font&&("string"==typeof t.font?p.base64.decode(t.font,e.font=p.newBuffer(p.base64.length(t.font)),0):t.font.length&&(e.font=t.font)),null!=t.style&&(e.style=String(t.style)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",e.bytes===String?n.font="":(n.font=[],e.bytes!==Array&&(n.font=p.newBuffer(n.font))),n.style=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.font&&t.hasOwnProperty("font")&&(n.font=e.bytes===String?p.base64.encode(t.font,0,t.font.length):e.bytes===Array?Array.prototype.slice.call(t.font):t.font),null!=t.style&&t.hasOwnProperty("style")&&(n.style=t.style),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.ColorProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.rgba=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.ColorProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.rgba=t.fixed32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("rgba"))throw p.ProtocolError("missing required 'rgba'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.ColorProto)return t;var e=new f.org.webswing.directdraw.proto.ColorProto;return null!=t.rgba&&(e.rgba=t.rgba>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.rgba=0),null!=t.rgba&&t.hasOwnProperty("rgba")&&(n.rgba=t.rgba),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.ImageProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.data=p.newBuffer([]),t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.ImageProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.data=t.bytes();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("data"))throw p.ProtocolError("missing required 'data'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.ImageProto)return t;var e=new f.org.webswing.directdraw.proto.ImageProto;return null!=t.data&&("string"==typeof t.data?p.base64.decode(t.data,e.data=p.newBuffer(p.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(e.bytes===String?n.data="":(n.data=[],e.bytes!==Array&&(n.data=p.newBuffer(n.data)))),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?p.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.TransformProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.m00=1,t.prototype.m10=0,t.prototype.m01=0,t.prototype.m11=1,t.prototype.m02=0,t.prototype.m12=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.TransformProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.m00=t.float();break;case 2:r.m10=t.float();break;case 3:r.m01=t.float();break;case 4:r.m11=t.float();break;case 5:r.m02=t.float();break;case 6:r.m12=t.float();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.TransformProto)return t;var e=new f.org.webswing.directdraw.proto.TransformProto;return null!=t.m00&&(e.m00=Number(t.m00)),null!=t.m10&&(e.m10=Number(t.m10)),null!=t.m01&&(e.m01=Number(t.m01)),null!=t.m11&&(e.m11=Number(t.m11)),null!=t.m02&&(e.m02=Number(t.m02)),null!=t.m12&&(e.m12=Number(t.m12)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.m00=1,n.m10=0,n.m01=0,n.m11=1,n.m02=0,n.m12=0),null!=t.m00&&t.hasOwnProperty("m00")&&(n.m00=e.json&&!isFinite(t.m00)?String(t.m00):t.m00),null!=t.m10&&t.hasOwnProperty("m10")&&(n.m10=e.json&&!isFinite(t.m10)?String(t.m10):t.m10),null!=t.m01&&t.hasOwnProperty("m01")&&(n.m01=e.json&&!isFinite(t.m01)?String(t.m01):t.m01),null!=t.m11&&t.hasOwnProperty("m11")&&(n.m11=e.json&&!isFinite(t.m11)?String(t.m11):t.m11),null!=t.m02&&t.hasOwnProperty("m02")&&(n.m02=e.json&&!isFinite(t.m02)?String(t.m02):t.m02),null!=t.m12&&t.hasOwnProperty("m12")&&(n.m12=e.json&&!isFinite(t.m12)?String(t.m12):t.m12),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.CombinedProto=function(){function t(t){if(this.ids=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.ids=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.CombinedProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(r.ids&&r.ids.length||(r.ids=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.ids.push(t.uint32());else r.ids.push(t.uint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.CombinedProto)return t;var e=new f.org.webswing.directdraw.proto.CombinedProto;if(t.ids){if(!Array.isArray(t.ids))throw TypeError(".org.webswing.directdraw.proto.CombinedProto.ids: array expected");e.ids=[];for(var n=0;n<t.ids.length;++n)e.ids[n]=t.ids[n]>>>0}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.ids=[]),t.ids&&t.ids.length){n.ids=[];for(var r=0;r<t.ids.length;++r)n.ids[r]=t.ids[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.GlyphProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.data=p.newBuffer([]),t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.GlyphProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.data=t.bytes();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.GlyphProto)return t;var e=new f.org.webswing.directdraw.proto.GlyphProto;return null!=t.data&&("string"==typeof t.data?p.base64.decode(t.data,e.data=p.newBuffer(p.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(e.bytes===String?n.data="":(n.data=[],e.bytes!==Array&&(n.data=p.newBuffer(n.data)))),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?p.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.RectangleProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.RectangleProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.x=t.float();break;case 2:r.y=t.float();break;case 3:r.w=t.float();break;case 4:r.h=t.float();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("x"))throw p.ProtocolError("missing required 'x'",{instance:r});if(!r.hasOwnProperty("y"))throw p.ProtocolError("missing required 'y'",{instance:r});if(!r.hasOwnProperty("w"))throw p.ProtocolError("missing required 'w'",{instance:r});if(!r.hasOwnProperty("h"))throw p.ProtocolError("missing required 'h'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.RectangleProto)return t;var e=new f.org.webswing.directdraw.proto.RectangleProto;return null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.w&&(e.w=Number(t.w)),null!=t.h&&(e.h=Number(t.h)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.x=0,n.y=0,n.w=0,n.h=0),null!=t.x&&t.hasOwnProperty("x")&&(n.x=e.json&&!isFinite(t.x)?String(t.x):t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=e.json&&!isFinite(t.y)?String(t.y):t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=e.json&&!isFinite(t.w)?String(t.w):t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=e.json&&!isFinite(t.h)?String(t.h):t.h),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.EllipseProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.EllipseProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.x=t.float();break;case 2:r.y=t.float();break;case 3:r.w=t.float();break;case 4:r.h=t.float();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("x"))throw p.ProtocolError("missing required 'x'",{instance:r});if(!r.hasOwnProperty("y"))throw p.ProtocolError("missing required 'y'",{instance:r});if(!r.hasOwnProperty("w"))throw p.ProtocolError("missing required 'w'",{instance:r});if(!r.hasOwnProperty("h"))throw p.ProtocolError("missing required 'h'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.EllipseProto)return t;var e=new f.org.webswing.directdraw.proto.EllipseProto;return null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.w&&(e.w=Number(t.w)),null!=t.h&&(e.h=Number(t.h)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.x=0,n.y=0,n.w=0,n.h=0),null!=t.x&&t.hasOwnProperty("x")&&(n.x=e.json&&!isFinite(t.x)?String(t.x):t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=e.json&&!isFinite(t.y)?String(t.y):t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=e.json&&!isFinite(t.w)?String(t.w):t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=e.json&&!isFinite(t.h)?String(t.h):t.h),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.RoundRectangleProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.prototype.arcW=0,t.prototype.arcH=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.RoundRectangleProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.x=t.float();break;case 2:r.y=t.float();break;case 3:r.w=t.float();break;case 4:r.h=t.float();break;case 5:r.arcW=t.float();break;case 6:r.arcH=t.float();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("x"))throw p.ProtocolError("missing required 'x'",{instance:r});if(!r.hasOwnProperty("y"))throw p.ProtocolError("missing required 'y'",{instance:r});if(!r.hasOwnProperty("w"))throw p.ProtocolError("missing required 'w'",{instance:r});if(!r.hasOwnProperty("h"))throw p.ProtocolError("missing required 'h'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.RoundRectangleProto)return t;var e=new f.org.webswing.directdraw.proto.RoundRectangleProto;return null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.w&&(e.w=Number(t.w)),null!=t.h&&(e.h=Number(t.h)),null!=t.arcW&&(e.arcW=Number(t.arcW)),null!=t.arcH&&(e.arcH=Number(t.arcH)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.x=0,n.y=0,n.w=0,n.h=0,n.arcW=0,n.arcH=0),null!=t.x&&t.hasOwnProperty("x")&&(n.x=e.json&&!isFinite(t.x)?String(t.x):t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=e.json&&!isFinite(t.y)?String(t.y):t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=e.json&&!isFinite(t.w)?String(t.w):t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=e.json&&!isFinite(t.h)?String(t.h):t.h),null!=t.arcW&&t.hasOwnProperty("arcW")&&(n.arcW=e.json&&!isFinite(t.arcW)?String(t.arcW):t.arcW),null!=t.arcH&&t.hasOwnProperty("arcH")&&(n.arcH=e.json&&!isFinite(t.arcH)?String(t.arcH):t.arcH),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.ArcProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.prototype.start=0,t.prototype.extent=0,t.prototype.type=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.ArcProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.x=t.float();break;case 2:r.y=t.float();break;case 3:r.w=t.float();break;case 4:r.h=t.float();break;case 5:r.start=t.float();break;case 6:r.extent=t.float();break;case 7:r.type=t.int32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("x"))throw p.ProtocolError("missing required 'x'",{instance:r});if(!r.hasOwnProperty("y"))throw p.ProtocolError("missing required 'y'",{instance:r});if(!r.hasOwnProperty("w"))throw p.ProtocolError("missing required 'w'",{instance:r});if(!r.hasOwnProperty("h"))throw p.ProtocolError("missing required 'h'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.ArcProto)return t;var e=new f.org.webswing.directdraw.proto.ArcProto;switch(null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.w&&(e.w=Number(t.w)),null!=t.h&&(e.h=Number(t.h)),null!=t.start&&(e.start=Number(t.start)),null!=t.extent&&(e.extent=Number(t.extent)),t.type){case"OPEN":case 0:e.type=0;break;case"CHORD":case 1:e.type=1;break;case"PIE":case 2:e.type=2}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.x=0,n.y=0,n.w=0,n.h=0,n.start=0,n.extent=0,n.type=e.enums===String?"OPEN":0),null!=t.x&&t.hasOwnProperty("x")&&(n.x=e.json&&!isFinite(t.x)?String(t.x):t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=e.json&&!isFinite(t.y)?String(t.y):t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=e.json&&!isFinite(t.w)?String(t.w):t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=e.json&&!isFinite(t.h)?String(t.h):t.h),null!=t.start&&t.hasOwnProperty("start")&&(n.start=e.json&&!isFinite(t.start)?String(t.start):t.start),null!=t.extent&&t.hasOwnProperty("extent")&&(n.extent=e.json&&!isFinite(t.extent)?String(t.extent):t.extent),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?f.org.webswing.directdraw.proto.ArcProto.ArcTypeProto[t.type]:t.type),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.ArcTypeProto=(e={},(n=Object.create(e))[e[0]="OPEN"]=0,n[e[1]="CHORD"]=1,n[e[2]="PIE"]=2,n),t}(),a.PartialPathProto=function(){function t(t){if(this.type=[],this.points=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=p.emptyArray,t.prototype.points=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.PartialPathProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(r.type&&r.type.length||(r.type=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.type.push(t.int32());else r.type.push(t.int32());break;case 2:if(r.points&&r.points.length||(r.points=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.points.push(t.float());else r.points.push(t.float());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.PartialPathProto)return t;var e=new f.org.webswing.directdraw.proto.PartialPathProto;if(t.type){if(!Array.isArray(t.type))throw TypeError(".org.webswing.directdraw.proto.PartialPathProto.type: array expected");e.type=[];for(var n=0;n<t.type.length;++n)switch(t.type[n]){default:case"MOVE":case 0:e.type[n]=0;break;case"LINE":case 1:e.type[n]=1;break;case"QUAD":case 2:e.type[n]=2;break;case"CUBIC":case 3:e.type[n]=3;break;case"CLOSE":case 4:e.type[n]=4}}if(t.points){if(!Array.isArray(t.points))throw TypeError(".org.webswing.directdraw.proto.PartialPathProto.points: array expected");for(e.points=[],n=0;n<t.points.length;++n)e.points[n]=Number(t.points[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.type=[],n.points=[]),t.type&&t.type.length){n.type=[];for(var r=0;r<t.type.length;++r)n.type[r]=e.enums===String?f.org.webswing.directdraw.proto.PartialPathProto.SegmentTypeProto[t.type[r]]:t.type[r]}if(t.points&&t.points.length)for(n.points=[],r=0;r<t.points.length;++r)n.points[r]=e.json&&!isFinite(t.points[r])?String(t.points[r]):t.points[r];return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.SegmentTypeProto=(e={},(n=Object.create(e))[e[0]="MOVE"]=0,n[e[1]="LINE"]=1,n[e[2]="QUAD"]=2,n[e[3]="CUBIC"]=3,n[e[4]="CLOSE"]=4,n),t}(),a.CompositePathProto=function(){function t(t){if(this.xOffsets=[],this.yOffsets=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.windingOdd=!1,t.prototype.xOffsets=p.emptyArray,t.prototype.yOffsets=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.CompositePathProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.windingOdd=t.bool();break;case 2:if(r.xOffsets&&r.xOffsets.length||(r.xOffsets=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.xOffsets.push(t.float());else r.xOffsets.push(t.float());break;case 3:if(r.yOffsets&&r.yOffsets.length||(r.yOffsets=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.yOffsets.push(t.float());else r.yOffsets.push(t.float());break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("windingOdd"))throw p.ProtocolError("missing required 'windingOdd'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.CompositePathProto)return t;var e=new f.org.webswing.directdraw.proto.CompositePathProto;if(null!=t.windingOdd&&(e.windingOdd=Boolean(t.windingOdd)),t.xOffsets){if(!Array.isArray(t.xOffsets))throw TypeError(".org.webswing.directdraw.proto.CompositePathProto.xOffsets: array expected");e.xOffsets=[];for(var n=0;n<t.xOffsets.length;++n)e.xOffsets[n]=Number(t.xOffsets[n])}if(t.yOffsets){if(!Array.isArray(t.yOffsets))throw TypeError(".org.webswing.directdraw.proto.CompositePathProto.yOffsets: array expected");for(e.yOffsets=[],n=0;n<t.yOffsets.length;++n)e.yOffsets[n]=Number(t.yOffsets[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.xOffsets=[],n.yOffsets=[]),e.defaults&&(n.windingOdd=!1),null!=t.windingOdd&&t.hasOwnProperty("windingOdd")&&(n.windingOdd=t.windingOdd),t.xOffsets&&t.xOffsets.length){n.xOffsets=[];for(var r=0;r<t.xOffsets.length;++r)n.xOffsets[r]=e.json&&!isFinite(t.xOffsets[r])?String(t.xOffsets[r]):t.xOffsets[r]}if(t.yOffsets&&t.yOffsets.length)for(n.yOffsets=[],r=0;r<t.yOffsets.length;++r)n.yOffsets[r]=e.json&&!isFinite(t.yOffsets[r])?String(t.yOffsets[r]):t.yOffsets[r];return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.FontProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.family="",t.prototype.style=0,t.prototype.size=0,t.prototype.transform=null,t.prototype.fontProvided=!1,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.FontProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.family=t.string();break;case 2:r.style=t.int32();break;case 3:r.size=t.uint32();break;case 4:r.transform=f.org.webswing.directdraw.proto.TransformProto.decode(t,t.uint32());break;case 5:r.fontProvided=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("family"))throw p.ProtocolError("missing required 'family'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.FontProto)return t;var e=new f.org.webswing.directdraw.proto.FontProto;switch(null!=t.family&&(e.family=String(t.family)),t.style){case"NORMAL":case 0:e.style=0;break;case"OBLIQUE":case 1:e.style=1;break;case"ITALIC":case 2:e.style=2;break;case"BOLDANDITALIC":case 3:e.style=3}if(null!=t.size&&(e.size=t.size>>>0),null!=t.transform){if("object"!==r(t.transform))throw TypeError(".org.webswing.directdraw.proto.FontProto.transform: object expected");e.transform=f.org.webswing.directdraw.proto.TransformProto.fromObject(t.transform)}return null!=t.fontProvided&&(e.fontProvided=Boolean(t.fontProvided)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.family="",n.style=e.enums===String?"NORMAL":0,n.size=0,n.transform=null,n.fontProvided=!1),null!=t.family&&t.hasOwnProperty("family")&&(n.family=t.family),null!=t.style&&t.hasOwnProperty("style")&&(n.style=e.enums===String?f.org.webswing.directdraw.proto.FontProto.StyleProto[t.style]:t.style),null!=t.size&&t.hasOwnProperty("size")&&(n.size=t.size),null!=t.transform&&t.hasOwnProperty("transform")&&(n.transform=f.org.webswing.directdraw.proto.TransformProto.toObject(t.transform,e)),null!=t.fontProvided&&t.hasOwnProperty("fontProvided")&&(n.fontProvided=t.fontProvided),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.StyleProto=(e={},(n=Object.create(e))[e[0]="NORMAL"]=0,n[e[1]="OBLIQUE"]=1,n[e[2]="ITALIC"]=2,n[e[3]="BOLDANDITALIC"]=3,n),t}(),a.StrokeProto=function(){function t(t){if(this.dash=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.width=0,t.prototype.miterLimit=0,t.prototype.join=0,t.prototype.cap=0,t.prototype.dash=p.emptyArray,t.prototype.dashOffset=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.StrokeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.width=t.float();break;case 2:r.miterLimit=t.float();break;case 3:r.join=t.int32();break;case 4:r.cap=t.int32();break;case 5:if(r.dash&&r.dash.length||(r.dash=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.dash.push(t.float());else r.dash.push(t.float());break;case 6:r.dashOffset=t.float();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("width"))throw p.ProtocolError("missing required 'width'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.StrokeProto)return t;var e=new f.org.webswing.directdraw.proto.StrokeProto;switch(null!=t.width&&(e.width=Number(t.width)),null!=t.miterLimit&&(e.miterLimit=Number(t.miterLimit)),t.join){case"JOIN_MITER":case 0:e.join=0;break;case"JOIN_ROUND":case 1:e.join=1;break;case"JOIN_BEVEL":case 2:e.join=2}switch(t.cap){case"CAP_BUTT":case 0:e.cap=0;break;case"CAP_ROUND":case 1:e.cap=1;break;case"CAP_SQUARE":case 2:e.cap=2}if(t.dash){if(!Array.isArray(t.dash))throw TypeError(".org.webswing.directdraw.proto.StrokeProto.dash: array expected");e.dash=[];for(var n=0;n<t.dash.length;++n)e.dash[n]=Number(t.dash[n])}return null!=t.dashOffset&&(e.dashOffset=Number(t.dashOffset)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.dash=[]),e.defaults&&(n.width=0,n.miterLimit=0,n.join=e.enums===String?"JOIN_MITER":0,n.cap=e.enums===String?"CAP_BUTT":0,n.dashOffset=0),null!=t.width&&t.hasOwnProperty("width")&&(n.width=e.json&&!isFinite(t.width)?String(t.width):t.width),null!=t.miterLimit&&t.hasOwnProperty("miterLimit")&&(n.miterLimit=e.json&&!isFinite(t.miterLimit)?String(t.miterLimit):t.miterLimit),null!=t.join&&t.hasOwnProperty("join")&&(n.join=e.enums===String?f.org.webswing.directdraw.proto.StrokeProto.StrokeJoinProto[t.join]:t.join),null!=t.cap&&t.hasOwnProperty("cap")&&(n.cap=e.enums===String?f.org.webswing.directdraw.proto.StrokeProto.StrokeCapProto[t.cap]:t.cap),t.dash&&t.dash.length){n.dash=[];for(var r=0;r<t.dash.length;++r)n.dash[r]=e.json&&!isFinite(t.dash[r])?String(t.dash[r]):t.dash[r]}return null!=t.dashOffset&&t.hasOwnProperty("dashOffset")&&(n.dashOffset=e.json&&!isFinite(t.dashOffset)?String(t.dashOffset):t.dashOffset),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.StrokeJoinProto=(e={},(n=Object.create(e))[e[0]="JOIN_MITER"]=0,n[e[1]="JOIN_ROUND"]=1,n[e[2]="JOIN_BEVEL"]=2,n),t.StrokeCapProto=function(){var t={},e=Object.create(t);return e[t[0]="CAP_BUTT"]=0,e[t[1]="CAP_ROUND"]=1,e[t[2]="CAP_SQUARE"]=2,e}(),t}(),a.LinearGradientProto=function(){function t(t){if(this.colors=[],this.fractions=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.xStart=0,t.prototype.yStart=0,t.prototype.xEnd=0,t.prototype.yEnd=0,t.prototype.colors=p.emptyArray,t.prototype.fractions=p.emptyArray,t.prototype.repeat=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.LinearGradientProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.xStart=t.sint32();break;case 2:r.yStart=t.sint32();break;case 3:r.xEnd=t.sint32();break;case 4:r.yEnd=t.sint32();break;case 5:if(r.colors&&r.colors.length||(r.colors=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.colors.push(t.fixed32());else r.colors.push(t.fixed32());break;case 6:if(r.fractions&&r.fractions.length||(r.fractions=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.fractions.push(t.float());else r.fractions.push(t.float());break;case 7:r.repeat=t.int32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("xStart"))throw p.ProtocolError("missing required 'xStart'",{instance:r});if(!r.hasOwnProperty("yStart"))throw p.ProtocolError("missing required 'yStart'",{instance:r});if(!r.hasOwnProperty("xEnd"))throw p.ProtocolError("missing required 'xEnd'",{instance:r});if(!r.hasOwnProperty("yEnd"))throw p.ProtocolError("missing required 'yEnd'",{instance:r});if(!r.hasOwnProperty("repeat"))throw p.ProtocolError("missing required 'repeat'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.LinearGradientProto)return t;var e=new f.org.webswing.directdraw.proto.LinearGradientProto;if(null!=t.xStart&&(e.xStart=0|t.xStart),null!=t.yStart&&(e.yStart=0|t.yStart),null!=t.xEnd&&(e.xEnd=0|t.xEnd),null!=t.yEnd&&(e.yEnd=0|t.yEnd),t.colors){if(!Array.isArray(t.colors))throw TypeError(".org.webswing.directdraw.proto.LinearGradientProto.colors: array expected");e.colors=[];for(var n=0;n<t.colors.length;++n)e.colors[n]=t.colors[n]>>>0}if(t.fractions){if(!Array.isArray(t.fractions))throw TypeError(".org.webswing.directdraw.proto.LinearGradientProto.fractions: array expected");for(e.fractions=[],n=0;n<t.fractions.length;++n)e.fractions[n]=Number(t.fractions[n])}switch(t.repeat){case"NO_CYCLE":case 0:e.repeat=0;break;case"REFLECT":case 1:e.repeat=1;break;case"REPEAT":case 2:e.repeat=2}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.colors=[],n.fractions=[]),e.defaults&&(n.xStart=0,n.yStart=0,n.xEnd=0,n.yEnd=0,n.repeat=e.enums===String?"NO_CYCLE":0),null!=t.xStart&&t.hasOwnProperty("xStart")&&(n.xStart=t.xStart),null!=t.yStart&&t.hasOwnProperty("yStart")&&(n.yStart=t.yStart),null!=t.xEnd&&t.hasOwnProperty("xEnd")&&(n.xEnd=t.xEnd),null!=t.yEnd&&t.hasOwnProperty("yEnd")&&(n.yEnd=t.yEnd),t.colors&&t.colors.length){n.colors=[];for(var r=0;r<t.colors.length;++r)n.colors[r]=t.colors[r]}if(t.fractions&&t.fractions.length)for(n.fractions=[],r=0;r<t.fractions.length;++r)n.fractions[r]=e.json&&!isFinite(t.fractions[r])?String(t.fractions[r]):t.fractions[r];return null!=t.repeat&&t.hasOwnProperty("repeat")&&(n.repeat=e.enums===String?f.org.webswing.directdraw.proto.CyclicMethodProto[t.repeat]:t.repeat),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.RadialGradientProto=function(){function t(t){if(this.colors=[],this.fractions=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.xCenter=0,t.prototype.yCenter=0,t.prototype.xFocus=0,t.prototype.yFocus=0,t.prototype.radius=0,t.prototype.colors=p.emptyArray,t.prototype.fractions=p.emptyArray,t.prototype.repeat=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.RadialGradientProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.xCenter=t.sint32();break;case 2:r.yCenter=t.sint32();break;case 3:r.xFocus=t.sint32();break;case 4:r.yFocus=t.sint32();break;case 5:r.radius=t.sint32();break;case 6:if(r.colors&&r.colors.length||(r.colors=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.colors.push(t.fixed32());else r.colors.push(t.fixed32());break;case 7:if(r.fractions&&r.fractions.length||(r.fractions=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.fractions.push(t.float());else r.fractions.push(t.float());break;case 8:r.repeat=t.int32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("xCenter"))throw p.ProtocolError("missing required 'xCenter'",{instance:r});if(!r.hasOwnProperty("yCenter"))throw p.ProtocolError("missing required 'yCenter'",{instance:r});if(!r.hasOwnProperty("xFocus"))throw p.ProtocolError("missing required 'xFocus'",{instance:r});if(!r.hasOwnProperty("yFocus"))throw p.ProtocolError("missing required 'yFocus'",{instance:r});if(!r.hasOwnProperty("radius"))throw p.ProtocolError("missing required 'radius'",{instance:r});if(!r.hasOwnProperty("repeat"))throw p.ProtocolError("missing required 'repeat'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.RadialGradientProto)return t;var e=new f.org.webswing.directdraw.proto.RadialGradientProto;if(null!=t.xCenter&&(e.xCenter=0|t.xCenter),null!=t.yCenter&&(e.yCenter=0|t.yCenter),null!=t.xFocus&&(e.xFocus=0|t.xFocus),null!=t.yFocus&&(e.yFocus=0|t.yFocus),null!=t.radius&&(e.radius=0|t.radius),t.colors){if(!Array.isArray(t.colors))throw TypeError(".org.webswing.directdraw.proto.RadialGradientProto.colors: array expected");e.colors=[];for(var n=0;n<t.colors.length;++n)e.colors[n]=t.colors[n]>>>0}if(t.fractions){if(!Array.isArray(t.fractions))throw TypeError(".org.webswing.directdraw.proto.RadialGradientProto.fractions: array expected");for(e.fractions=[],n=0;n<t.fractions.length;++n)e.fractions[n]=Number(t.fractions[n])}switch(t.repeat){case"NO_CYCLE":case 0:e.repeat=0;break;case"REFLECT":case 1:e.repeat=1;break;case"REPEAT":case 2:e.repeat=2}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.colors=[],n.fractions=[]),e.defaults&&(n.xCenter=0,n.yCenter=0,n.xFocus=0,n.yFocus=0,n.radius=0,n.repeat=e.enums===String?"NO_CYCLE":0),null!=t.xCenter&&t.hasOwnProperty("xCenter")&&(n.xCenter=t.xCenter),null!=t.yCenter&&t.hasOwnProperty("yCenter")&&(n.yCenter=t.yCenter),null!=t.xFocus&&t.hasOwnProperty("xFocus")&&(n.xFocus=t.xFocus),null!=t.yFocus&&t.hasOwnProperty("yFocus")&&(n.yFocus=t.yFocus),null!=t.radius&&t.hasOwnProperty("radius")&&(n.radius=t.radius),t.colors&&t.colors.length){n.colors=[];for(var r=0;r<t.colors.length;++r)n.colors[r]=t.colors[r]}if(t.fractions&&t.fractions.length)for(n.fractions=[],r=0;r<t.fractions.length;++r)n.fractions[r]=e.json&&!isFinite(t.fractions[r])?String(t.fractions[r]):t.fractions[r];return null!=t.repeat&&t.hasOwnProperty("repeat")&&(n.repeat=e.enums===String?f.org.webswing.directdraw.proto.CyclicMethodProto[t.repeat]:t.repeat),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.CyclicMethodProto=(o={},(i=Object.create(o))[o[0]="NO_CYCLE"]=0,i[o[1]="REFLECT"]=1,i[o[2]="REPEAT"]=2,i),a.PointsProto=function(){function t(t){if(this.points=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.points=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.PointsProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(r.points&&r.points.length||(r.points=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.points.push(t.sint32());else r.points.push(t.sint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.PointsProto)return t;var e=new f.org.webswing.directdraw.proto.PointsProto;if(t.points){if(!Array.isArray(t.points))throw TypeError(".org.webswing.directdraw.proto.PointsProto.points: array expected");e.points=[];for(var n=0;n<t.points.length;++n)e.points[n]=0|t.points[n]}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.points=[]),t.points&&t.points.length){n.points=[];for(var r=0;r<t.points.length;++r)n.points[r]=t.points[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.CompositeProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.type=1,t.prototype.alpha=1,t.prototype.color=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.CompositeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.type=t.int32();break;case 2:r.alpha=t.float();break;case 3:r.color=t.fixed32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("type"))throw p.ProtocolError("missing required 'type'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.CompositeProto)return t;var e=new f.org.webswing.directdraw.proto.CompositeProto;switch(t.type){case"CLEAR":case 1:e.type=1;break;case"SRC":case 2:e.type=2;break;case"DST":case 9:e.type=9;break;case"SRC_OVER":case 3:e.type=3;break;case"DST_OVER":case 4:e.type=4;break;case"SRC_IN":case 5:e.type=5;break;case"DST_IN":case 6:e.type=6;break;case"SRC_OUT":case 7:e.type=7;break;case"DST_OUT":case 8:e.type=8;break;case"SRC_ATOP":case 10:e.type=10;break;case"DST_ATOP":case 11:e.type=11;break;case"XOR":case 12:e.type=12;break;case"XOR_MODE":case 13:e.type=13}return null!=t.alpha&&(e.alpha=Number(t.alpha)),null!=t.color&&(e.color=t.color>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"CLEAR":1,n.alpha=1,n.color=0),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?f.org.webswing.directdraw.proto.CompositeProto.CompositeTypeProto[t.type]:t.type),null!=t.alpha&&t.hasOwnProperty("alpha")&&(n.alpha=e.json&&!isFinite(t.alpha)?String(t.alpha):t.alpha),null!=t.color&&t.hasOwnProperty("color")&&(n.color=t.color),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.CompositeTypeProto=function(){var t={},e=Object.create(t);return e[t[1]="CLEAR"]=1,e[t[2]="SRC"]=2,e[t[9]="DST"]=9,e[t[3]="SRC_OVER"]=3,e[t[4]="DST_OVER"]=4,e[t[5]="SRC_IN"]=5,e[t[6]="DST_IN"]=6,e[t[7]="SRC_OUT"]=7,e[t[8]="DST_OUT"]=8,e[t[10]="SRC_ATOP"]=10,e[t[11]="DST_ATOP"]=11,e[t[12]="XOR"]=12,e[t[13]="XOR_MODE"]=13,e}(),t}(),a.TextureProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.image=null,t.prototype.anchor=null,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.TextureProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.image=f.org.webswing.directdraw.proto.ImageProto.decode(t,t.uint32());break;case 2:r.anchor=f.org.webswing.directdraw.proto.RectangleProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("image"))throw p.ProtocolError("missing required 'image'",{instance:r});if(!r.hasOwnProperty("anchor"))throw p.ProtocolError("missing required 'anchor'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.TextureProto)return t;var e=new f.org.webswing.directdraw.proto.TextureProto;if(null!=t.image){if("object"!==r(t.image))throw TypeError(".org.webswing.directdraw.proto.TextureProto.image: object expected");e.image=f.org.webswing.directdraw.proto.ImageProto.fromObject(t.image)}if(null!=t.anchor){if("object"!==r(t.anchor))throw TypeError(".org.webswing.directdraw.proto.TextureProto.anchor: object expected");e.anchor=f.org.webswing.directdraw.proto.RectangleProto.fromObject(t.anchor)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.image=null,n.anchor=null),null!=t.image&&t.hasOwnProperty("image")&&(n.image=f.org.webswing.directdraw.proto.ImageProto.toObject(t.image,e)),null!=t.anchor&&t.hasOwnProperty("anchor")&&(n.anchor=f.org.webswing.directdraw.proto.RectangleProto.toObject(t.anchor,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a),s),c),l),t.exports=f},370:(t,e,n)=>{"use strict";t.exports=n(9)},9:(t,e,n)=>{"use strict";var r=e;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(144),r.BufferWriter=n(105),r.Reader=n(908),r.BufferReader=n(274),r.util=n(684),r.rpc=n(667),r.roots=n(236),r.configure=o,o()},908:(t,e,n)=>{"use strict";t.exports=c;var r,o=n(684),i=o.LongBits,a=o.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function c(t){this.buf=t,this.pos=0,this.len=t.length}var l,u="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new c(t);throw Error("illegal buffer")},d=function(){return o.Buffer?function(t){return(c.create=function(t){return o.Buffer.isBuffer(t)?new r(t):u(t)})(t)}:u};function p(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function f(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},c.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},c.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},c.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},c._configure=function(t){r=t,c.create=d(),r._configure();var e=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return p.call(this)[e](!1)},uint64:function(){return p.call(this)[e](!0)},sint64:function(){return p.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},274:(t,e,n)=>{"use strict";t.exports=i;var r=n(908);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(684);function i(t){r.call(this,t)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i._configure()},236:t=>{"use strict";t.exports={}},667:(t,e,n)=>{"use strict";e.Service=n(873)},873:(t,e,n)=>{"use strict";t.exports=o;var r=n(684);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)}))}catch(t){return s.emit("error",t,e),void setTimeout((function(){a(t)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},86:(t,e,n)=>{"use strict";t.exports=o;var r=n(684);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===a?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},684:function(t,e,n){"use strict";var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(410),r.base64=n(941),r.EventEmitter=n(199),r.float=n(876),r.inquire=n(310),r.utf8=n(797),r.pool=n(195),r.LongBits=n(86),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},144:(t,e,n)=>{"use strict";t.exports=d;var r,o=n(684),i=o.LongBits,a=o.base64,s=o.utf8;function c(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function l(){}function u(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function f(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function y(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function g(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}d.create=p(),d.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(t,e,n){return this.tail=this.tail.next=new c(t,e,n),this.len+=e,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},d.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},d.prototype.int32=function(t){return t<0?this._push(y,10,i.fromNumber(t)):this.uint32(t)},d.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},d.prototype.uint64=function(t){var e=i.from(t);return this._push(y,e.length(),e)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(y,e.length(),e)},d.prototype.bool=function(t){return this._push(f,1,t?1:0)},d.prototype.fixed32=function(t){return this._push(g,4,t>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(t){var e=i.from(t);return this._push(g,4,e.lo)._push(g,4,e.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},d.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var v=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};d.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(f,1,0);if(o.isString(t)){var n=d.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(v,e,t)},d.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},d.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},d._configure=function(t){r=t,d.create=p(),r._configure()}},105:(t,e,n)=>{"use strict";t.exports=i;var r=n(144);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(684);function i(){r.call(this)}function a(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},i.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(i.writeBytesBuffer,e,t),this},i.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},i._configure()}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DirectDraw:()=>t.t});var t=__webpack_require__(755),e=__webpack_require__(83),n={};for(const t in e)["default","DirectDraw"].indexOf(t)<0&&(n[t]=()=>e[t]);__webpack_require__.d(__webpack_exports__,n)})(),__webpack_exports__})()},module.exports=r()},function(t,e,n){"use strict";t.exports=d;var r,o=n(154),i=o.LongBits,a=o.base64,s=o.utf8;function c(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function l(){}function u(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function f(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function y(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function g(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}d.create=p(),d.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(t,e,n){return this.tail=this.tail.next=new c(t,e,n),this.len+=e,this},h.prototype=Object.create(c.prototype),h.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},d.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},d.prototype.int32=function(t){return t<0?this._push(y,10,i.fromNumber(t)):this.uint32(t)},d.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},d.prototype.uint64=function(t){var e=i.from(t);return this._push(y,e.length(),e)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(y,e.length(),e)},d.prototype.bool=function(t){return this._push(f,1,t?1:0)},d.prototype.fixed32=function(t){return this._push(g,4,t>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(t){var e=i.from(t);return this._push(g,4,e.lo)._push(g,4,e.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},d.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var v=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};d.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(f,1,0);if(o.isString(t)){var n=d.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(v,e,t)},d.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},d.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},d._configure=function(t){r=t,d.create=p(),r._configure()}},function(t,e,n){"use strict";t.exports=c;var r,o=n(154),i=o.LongBits,a=o.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function c(t){this.buf=t,this.pos=0,this.len=t.length}var l,u="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new c(t);throw Error("illegal buffer")},d=function(){return o.Buffer?function(t){return(c.create=function(t){return o.Buffer.isBuffer(t)?new r(t):u(t)})(t)}:u};function p(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function f(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},c.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},c.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},c.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},c._configure=function(t){r=t,c.create=d(),r._configure();var e=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return p.call(this)[e](!1)},uint64:function(){return p.call(this)[e](!0)},sint64:function(){return p.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},function(t,e){t.exports='<div data-id="copyBar" class="ws-clipboard" role="alert">\n\t<div data-id="contentBar" class="ws-clipboard-body">\n\t\t<div class="ws-clipboard-header">\n\t\t\t<h1 class="ws-clipboard-title">${clipboard.content}</h1>\n\t\t</div>\n\n\t\t<div class="ws-clipboard-item" data-id="text">\n\t\t\t<div>\n\t\t\t\t<div data-id="textarea" class="ws-clipboard-text-area"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="ws-clipboard-item" data-id="more">\n\t\t\t<div data-id="image">\n\t\t\t\t<b>${clipboard.image}</b>\n\t\t\t</div>\n\t\t\t<div data-id="files">\n\t\t\t\t<b>${clipboard.files}</b>\n\t\t\t\t<div id="wsFileList" class="ws-clipboard-file-list"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="ws-clipboard-control">\n\t\t<div data-id="minimizedInfoBar" class="ws-btn-group">\n\t\t\t<button data-id="text" class="ws-btn ws-btn--xs ws-btn--selected ws-icon-docs"> ${clipboard.copy}</button>\n\t\t\t<button data-id="more" class="ws-btn ws-btn--xs ">${clipboard.more}</button>\n\t\t</div>\n\n\t\t<button data-id="closeBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled">${clipboard.discard}</button>\n\t</div>\n</div>\n'},function(t,e){t.exports='<div data-id="pasteDialog" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="pasteDialog-title" aria-describedby="pasteDialog-description">\n    <div class="ws-paste">\n        <div id="pasteDialog-title" data-id="title" class="ws-paste-header"></div>\n        <div class="ws-paste-content">\n            <div id="pasteDialog-description" data-id="message" class="ws-paste-message"></div>\n            <textarea data-id="textarea" class="ws-paste-textarea init-focus"></textarea>\n            <button data-id="closeBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled" role="button">${clipboard.cancel}</button>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div data-id="playbackBar" class="ws-toolbar-container" role="toolbar">\n\t<div class="ws-playback">\n\t\t<div class="ws-progressbar-container">\n\t\t\t<div data-id="progress" class="ws-progress">\n\t\t\t\t<div style="width: 0%;" class="ws-progress-bar ws-playback-progress">\n\t\t\t\t\t<span class="ws-progress-text">Progress: <em><span data-id="current"></span>/<span data-id="total"></span></em></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="ws-btn-group">\n\t\t\t<button class="ws-btn ws-icon-play" data-id="play"></button>\n\t\t\t<button class="ws-btn ws-icon-stop" data-id="stop"></button>\n\t\t\t<button class="ws-btn ws-icon-to-end" data-id="step">+1</button>\n\t\t\t<button class="ws-btn ws-icon-to-end-alt" data-id="10step">+10</button>\n\t\t\t<button class="ws-btn ws-icon-to-end-alt" data-id="100step">+100</button>\n\t\t</div>\n\t\t<button class="ws-btn ws-right ws-icon-back" data-id="reset"></button>\n\t</div>\n</div>'},function(t,e){t.exports='<div data-id="windowSwitcher" class="ws-modal-container catch-focus" role="dialog" aria-label="${accessibility.switcher.title}" aria-describedby="switcher-description">\n\t<div id="switcher-description" style="display: none;">${accessibility.switcher.description}</div>\n\t<div id="switcher-modal-blocked-description" style="display: none;">${accessibility.switcher.modalBlocked.description}</div>\n\t<div class="ws-window-switcher">\n        <div data-id="title" class="ws-window-switcher-header">${accessibility.switcher.title}</div>\n        <div class="ws-window-switcher-content">\n        </div>\n        <button data-id="closeBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled">${accessibility.switcher.cancel}</button>\n    </div>\n</div>\n'},function(t,e){t.exports='<div data-id="commonDialog" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="commonDialog-title" aria-describedby="commonDialog-description">\n    <div id="dialogModal" class="ws-dialog">\n        <div data-id="header" class="ws-header"></div>\n        <div id="ajaxProgress" class="ws-progress ws-hidden">\n            <div class="ws-spinner">\n                <div class="ws-spinner-dot-1"></div>\n                <div class="ws-spinner-dot-2"></div>\n            </div>\n        </div>\n        <div data-id="content" class="ws-dialog-content"></div>\n    </div>\n</div>\n<div data-id="commonBar" class="ws-toolbar-container ws-commonbar" role="alert">\n    <div data-id="contentBar" class="ws-messagebar">\n        <div data-id="header" class="ws-header ws-title"></div>\n        <div data-id="content" class="ws-dialog-content"></div>\n    </div>\n</div>'},function(t,e){t.exports='<div data-id="networkBar" class="ws-toolbar-container" role="alert">\n    <div data-id="contentBar" class="ws-networkbar">\n        <div class="ws-toolbar-container">\n            <p>\n                <span data-id="message"></span>\n                <span class="ws-right">\n                     <a href="javascript:void(0)" data-id="hide">${dialog.networkMonitor.hide}</a>\n                </span>\n            </p>\n        </div>\n    </div>\n</div>'},function(t,e){t.exports='<div data-id="autoSaveBar" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="autoSaveBar-title" aria-describedby="autoSaveBar-description">\n\t<div class="ws-files">\n\t\t<div class="ws-files-header">\n\t\t\t<h2 id="autoSaveBar-title" class="ws-files-title">${files.saveTitle}</h2>\n\t\t</div>\n\n\t\t<div class="ws-files-content">\n\t\t\t<div class="ws-files-content-inner">\n\t\t\t\t<p id="autoSaveBar-description" class="ws-files-instructions">\n\t\t\t\t\t${files.saveName}\n\t\t\t\t</p>\n\t\t\t\t\n\t\t\t\t<input data-id="autoSaveInput" class="ws-form-field ws-form-underscore init-focus" placeholder="${files.saveNamePh}" type="text" tabindex="0">\n\t\t\t\t\n\t\t\t\t<div data-id="fileDialogErrorMessage" >\n\t\t\t\t\t<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ul class="ws-files-btn-container" role="presentation">\n\t\t\t\t<li class="ws-files-btn-panel">\n\t\t\t\t\t<button data-id="autoSaveButton" class="ws-files-btn" role="button" tabindex="0">\n\t\t\t\t\t\t<span class="ws-icon-download-cloud ws-files-btn-icon"></span>\n\t\t\t\t\t\t<span>${files.save}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\n\t\t\t\t<li class="ws-files-btn-panel">\n\t\t\t\t\t<button data-id="cancelAutoSaveButton" class="ws-files-btn" role="button" tabindex="0">\n\t\t\t\t\t\t<span class="ws-icon-cancel-circled ws-files-btn-icon"></span>\n\t\t\t\t\t\t<span>${files.cancel}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n\n<div data-id="autoUploadBar" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="autoUploadBar-title" aria-describedby="autoUploadBar-description">\n\t<div  class="ws-files">\n\t\t<div class="ws-files-header">\n\t\t\t<h2 id="autoUploadBar-title" class="ws-files-title">${files.openTitle}</h2>\n\t\t</div>\n\n\t\t<div class="ws-files-content">\n\t\t\t<div class="ws-files-content-inner">\n\t\t\t\t<p id="autoUploadBar-description" class="ws-files-instructions">\n\t\t\t\t\t${files.openInst}\n\t\t\t\t</p>\n\n\t\t\t\t<div data-id="fileDialogTransferProgressBar" class="ws-progressbar-container">\n\t\t\t\t\t<div data-id="progress" class="ws-progress">\n\t\t\t\t\t\t<div style="width: 0%;" class="ws-progress-bar">\n\t\t\t\t\t\t\t<span class="ws-progress-text">${files.progress} <em>0%</em></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div data-id="fileDialogErrorMessage" >\n\t\t\t\t\t<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ul class="ws-files-btn-container" role="presentation">\n\t\t\t\t<li class="ws-files-btn-panel">\n\t\t\t\t\t<form data-id="autoFileupload" tabindex="-1" role="presentation">\n\t\t\t\t\t\t<input data-id="autoUploadfileDialogTransferBarClientId" name="instanceId" type="hidden">\n\n\t\t\t\t\t\t<input data-id="autoFileInput" id="webswingUploadBrowse" name="files[]" accept="" type="file" class="ws-files-btn--hidden" aria-hidden="true" tabindex="-1" />\n\n\t\t\t\t\t\t<button data-id="uploadAutoUploadButton" class="ws-files-btn init-focus" role="button" type="button" tabindex="0">\n\t\t\t\t\t\t\t<span class="ws-icon-upload-cloud ws-files-btn-icon"></span>\n\t\t\t\t\t\t\t<span>${files.openBrowse}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</li>\n\n\t\t\t\t<li class="ws-files-btn-panel">\n\t\t\t\t\t<button data-id="cancelAutoUploadButton" class="ws-files-btn" role="button" type="button" tabindex="0">\n\t\t\t\t\t\t<span class="ws-icon-cancel-circled ws-files-btn-icon"></span>\n\t\t\t\t\t\t<span>${files.cancel}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n\n<div data-id="uploadBar" class="ws-filebar" role="alert">\n\t<div data-id="fileDropArea" class="ws-filebar-dropArea">\n\t\t<p class="ws-filebar-dropArea-label">${files.dnd}</p>\n\t</div>\n\t<div data-id="fileDialogTransferProgressBar" class="ws-progressbar-container">\n\t\t<div data-id="progress" class="ws-progress">\n\t\t\t<div style="width: 0%;" class="ws-progress-bar">\n\t\t\t\t<span class="ws-progress-text">${files.progress} <em>0%</em></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div data-id="fileDialogErrorMessage" >\n\t\t<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n\t</div>\n\t<div data-id="fileDialogSuccessMessage" >\n\t\t<div data-id="fileDialogSuccessMessageContent" class="ws-message ws-message--success"></div>\n\t</div>\n\t\n\t<div class="ws-toolbar-container">\n\t\t<div data-id="fileActionButtonGroup" class="ws-btn-group">\n\t\t\t<button data-id="downloadSelectedButton" class="ws-btn ws-btn--xs ws-icon-download-cloud" title="${files.downloadTtip}"> ${files.download}</button>\n\t\t\t<div data-id="fileUploadBtn" class="ws-btn ws-btn--xs ws-filebar-upload ">\n\t\t\t\t<span><span class="ws-icon-upload-cloud"> </span>${files.upload}</span>\n\t\t\t</div>\n\t\t\t<form class="ws-filebar-uploadform" data-id="fileupload">\n\t\t\t\t<input data-id="fileDialogTransferBarClientId" name="instanceId" type="hidden">\n\t\t\t\t<input accept="" data-id="fileInput" name="files[]" class="ws-filebar-inputupload" type="file">\n\t\t\t</form>\n\t\t\t<button data-id="deleteSelectedButton" class="ws-btn ws-btn--xs ws-icon-trash-empty" title="${files.deleteTtip}"> ${files.delete}</button>\n\t\t</div>\n\t\t<button data-id="cancelBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled"> ${files.cancel}</button>\n\t</div>\n</div>\n\n<div data-id="downloadLinkDialog" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="downloadLink-title" aria-describedby="downloadLink-description">\n    <div class="ws-downloadlink">\n        <div id="downloadLink-title" data-id="title" class="ws-downloadlink-header"></div>\n        <div class="ws-downloadlink-content">\n            <div id="downloadLink-description" data-id="message" class="ws-downloadlink-message"></div>\n            \n            <div class="ws-downloadlink-btnPanel">\n\t\t\t\t<button data-id="downloadLinkButton" class="ws-btn ws-btn--xs init-focus" role="button" tabindex="0"></button>\n\t\t\t\t<button data-id="cancelDownloadLinkButton" class="ws-btn ws-btn--xs ws-icon-cancel-circled" role="button" tabindex="0">${files.cancel}</button>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div data-id="touchBar" class="ws-toolbar-container touch-control" role="toolbar">\n\t<div data-id="contentBar" class="ws-touchbar">\n\t\t<div class="ws-toolbar-container">\n\t\t\t<div class="align-left">\n\t\t\t</div>\n\t\t\t<div class="align-center">\n\t\t\t</div>\n\t\t\t<div class="align-right">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div id="ws-touch-effect" class="touch-control"></div>\n<div class="ws-drag-effect touch-control"></div>\n<div id="ws-canvas-scale" class="touch-control">\n\t<span class="scale-value"></span>\n\t<span class="scale-restore ws-icon-search"></span>\n</div>\n<div id="ws-toast" class="touch-control"></div>\n<img id="ws-cursor" class="default"></img>'},function(t,e){t.exports='<div data-id="taskbar" class="ws-taskbar" role="toolbar" draggable="false">\n\t<div class="ws-taskbar-button" draggable="false">\n\t\t<img class="ws-taskbar-img" draggable="false">\n\t</div>\n\t<div class="ws-taskbar-menu">\n\t\t<ul class="ws-taskbar-list">\n\t\t</ul>\n\t</div>\n</div>'},function(t,e,n){"use strict";var r=e;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(361),r.BufferWriter=n(381),r.Reader=n(362),r.BufferReader=n(382),r.util=n(154),r.rpc=n(383),r.roots=n(385),r.configure=o,o()},function(t,e,n){"use strict";t.exports=function(t,e){var n=new Array(arguments.length-1),r=0,o=2,i=!0;for(;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(t){if(i)if(i=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,a(t))}}))}},function(t,e,n){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(t,e,n){for(var r,i=null,a=[],s=0,c=0;e<n;){var l=t[e++];switch(c){case 0:a[s++]=o[l>>2],r=(3&l)<<4,c=1;break;case 1:a[s++]=o[r|l>>4],r=(15&l)<<2,c=2;break;case 2:a[s++]=o[r|l>>6],a[s++]=o[63&l],c=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=o[r],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(t,e,n){for(var r,o=n,a=0,s=0;s<t.length;){var c=t.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=i[c]))throw Error("invalid encoding");switch(a){case 0:r=c,a=1;break;case 1:e[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:e[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:e[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-o},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,e,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},function(t,e,n){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}t.writeFloatLE=e.bind(null,o),t.writeFloatBE=e.bind(null,i),t.readFloatLE=n.bind(null,a),t.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)t((s=r/5e-324)>>>0,o,i+e),t((a<<31|s/4294967296)>>>0,o,i+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(s=r*Math.pow(2,-c))>>>0,o,i+e),t((a<<31|c+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function n(t,e,n,r,o){var i=t(r,o+e),a=t(r,o+n),s=2*(a>>31)+1,c=a>>>20&2047,l=4294967296*(1048575&a)+i;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}t.writeDoubleLE=e.bind(null,o,0,4),t.writeDoubleBE=e.bind(null,i,4,0),t.readDoubleLE=n.bind(null,a,0,4),t.readDoubleBE=n.bind(null,s,4,0)}(),t}function o(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function i(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function s(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e,n){"use strict";var r=e;r.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],a=0;e<n;)(r=t[e++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},r.write=function(t,e,n){for(var r,o,i=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return t(n);a+n>r&&(i=t(r),a=0);var s=e.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},function(t,e,n){"use strict";t.exports=o;var r=n(154);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===a?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},function(t,e,n){"use strict";t.exports=i;var r=n(361);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(154);function i(){r.call(this)}function a(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},i.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(i.writeBytesBuffer,e,t),this},i.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},i._configure()},function(t,e,n){"use strict";t.exports=i;var r=n(362);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(154);function i(t){r.call(this,t)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i._configure()},function(t,e,n){"use strict";e.Service=n(384)},function(t,e,n){"use strict";t.exports=o;var r=n(154);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)}))}catch(t){return s.emit("error",t,e),void setTimeout((function(){a(t)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(13),i=n(109);function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y={cfg:"webswing.config",start:"webswing.start",disconnect:"webswing.disconnect",login:"login.login",connect:"socket.connect",showDialog:"dialog.show",dialogs:"dialog.content",disposeIdentity:"identity.dispose",disposeBase:"base.dispose",disposeRender:"render.dispose",disposeDock:"dock.dispose",disposeCanvas:"canvas.dispose",disposeAccessible:"accessible.dispose",disposeTouch:"touch.dispose",disposeInput:"input.dispose",disposeSocket:"socket.dispose",disposeFileDialog:"files.close",disposeCopyBar:"clipboard.dispose",disposePing:"ping.dispose",disposeTaskbar:"taskbar.dispose",disposeAudio:"audio.dispose",showPlaybackControls:"playback.showControls",externalApi:"external.api",setInstanceTab:"dock.setInstanceTab",canvasConfig:"canvas.canvasConfig",clearInstanceId:"socket.clearInstanceId"},g=i.commonProto.TabStateMsgInProto.TabStateTypeProto,v=i.commonProto.TabStateMsgInProto.TabOriginTypeProto,m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,o,i=d(s);function s(t,e,n){var r,o,a,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,t)).rootElement=e,r.options=n,o=f(r),c=function(){r.configure(r.options),"function"==typeof r.api.cfg.onReady&&r.api.login((function(){r.api.cfg.onReady(r.api.externalApi())})),r.api.cfg.autoStart?r.api.start():r.api.showDialog(r.api.dialogs.readyDialog)},(a="ready")in o?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,r}return e=s,(n=[{key:"provides",value:function(){return{"webswing.config":this.defaultCtxConfig(),"webswing.start":this.start,"webswing.newSession":this.newSession,"webswing.reTrySession":this.reTrySession,"webswing.disconnect":this.disconnect,"webswing.setControl":this.setControl,"webswing.configure":this.configure}}},{key:"defaultCtxConfig",value:function(){return{rootElementWrapper:w(this.rootElement),rootElement:b(this.rootElement),autoStart:!1,autoReconnect:null,disableLogout:!1,args:null,connectionUrl:location.origin+location.pathname,mirrorConnectionUrl:null,mirror:!1,recordingPlayback:!1,typedArraysSupported:Object(r.u)(),recording:!1,debugPort:null,javaCallTimeout:3e3,documentBase:document.location.origin+document.location.pathname,ieVersion:Object(r.i)(),isMac:Object(r.j)(),clientId:null,browserId:null,viewId:null,hasControl:!1,mirrorMode:!1,canPaint:!1,virtualKB:!1,debugLog:!1,traceLog:!1,touchMode:!1,pingParams:{count:6,interval:5,maxLatency:500,notifyIf:3},windowsListener:{windowOpening:function(t){},windowOpened:function(t){},windowClosing:function(t){},windowClosed:function(t){},windowModalBlockedChanged:function(t){},windowUndocked:function(t){},windowDocked:function(t){}},hideTouchBar:!1,undockedStart:!1,undockedInstanceId:null}}},{key:"start",value:function(){var t=this;"tid_"!==window.name.substr(0,4)&&(window.name="tid_"+Object(r.b)()),Object(r.d)()?this.api.login((function(){t.api.showDialog(t.api.dialogs.initializingDialog),t.api.connect()}),(function(){t.api.showDialog(t.api.dialogs.disconnectedDialog)})):this.api.showDialog(this.api.dialogs.cookiesDisabledDialog)}},{key:"newSession",value:function(){this.api.cfg.undockedStart||(this.api.disconnect(),this.api.disposeIdentity(),this.api.clearInstanceId(),this.api.start())}},{key:"reTrySession",value:function(){this.api.disconnect(),this.api.start()}},{key:"disconnect",value:function(){this.api.disposeFileDialog(),this.api.disposeBase(),this.api.disposeRender(),this.api.disposeDock(),this.api.disposeInput(),this.api.disposeTouch(),this.api.canvasConfig.disposeOnDisconnect&&this.api.disposeCanvas(),this.api.disposeAccessible(),this.api.disposeAudio(),this.api.disposeSocket(),this.api.disposeCopyBar(),this.api.disposePing(),this.api.disposeTaskbar()}},{key:"configure",value:function(t,e){var n=this.api.cfg;if(null!=t&&(n.autoStart=null!=t.autoStart?JSON.parse(t.autoStart):n.autoStart,n.autoReconnect=null!=t.autoReconnect?JSON.parse(t.autoReconnect):n.autoReconnect,n.disableLogout=null!=t.disableLogout?JSON.parse(t.disableLogout):n.disableLogout,n.securityToken=null!=t.securityToken?t.securityToken:n.securityToken,n.realm=null!=t.realm?t.realm:n.realm,n.args=null!=t.args?t.args:n.args,n.recording=null!=t.recording?JSON.parse(t.recording):n.recording,n.clientId=null!=t.clientId?t.clientId:n.clientId,n.mirror=null!=t.mirrorMode?JSON.parse(t.mirrorMode):n.mirror,n.connectionUrl=null!=t.connectionUrl?t.connectionUrl:n.connectionUrl,n.mirrorConnectionUrl=null!=t.mirrorConnectionUrl?t.mirrorConnectionUrl:n.mirrorConnectionUrl,n.debugPort=null!=t.debugPort?t.debugPort:n.debugPort,n.debugLog=null!=t.debugLog?JSON.parse(t.debugLog):n.debugLog,n.traceLog=null!=t.traceLog?JSON.parse(t.traceLog):n.traceLog,n.javaCallTimeout=null!=t.javaCallTimeout?parseInt(t.javaCallTimeout,10):n.javaCallTimeout,n.pingParams=null!=t.pingParams?t.pingParams:n.pingParams,"/"!==n.connectionUrl.substr(n.connectionUrl.length-1)&&(n.connectionUrl=n.connectionUrl+"/"),null!=n.mirrorConnectionUrl&&"/"!==n.mirrorConnectionUrl.substr(n.mirrorConnectionUrl.length-1)&&(n.mirrorConnectionUrl=n.mirrorConnectionUrl+"/"),null!=t.recordingPlayback&&(n.recordingPlayback=t.recordingPlayback,this.api.showPlaybackControls()),n.onReady="function"==typeof t.onReady?t.onReady:n.onReady,n.windowsListener="object"===c(t.windowsListener)?t.windowsListener:n.windowsListener,n.windowsListener="object"===c(t.compositingWindowsListener)?t.compositingWindowsListener:n.windowsListener,n.hideTouchBar=null!=t.hideTouchBar?JSON.parse(t.hideTouchBar):n.hideTouchBar),null!=(e=null!=e?e:function(t){var e={},n=t.querySelectorAll("webswing-param");if(n.length>0){var r,o=a(n);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=i.getAttribute("name"),c=i.getAttribute("value");null!==s&&(e[s]=c)}}catch(t){o.e(t)}finally{o.f()}}return e}(n.rootElementWrapper)))for(var r in n.params=[],e)"string"==typeof e[r]&&n.params.push({name:r,value:e[r]});(function(){if(location.pathname&&location.pathname.length){var t=window.name.startsWith("tid_")&&2===window.name.split("-").length;return(location.pathname.endsWith("/undocked/")||location.pathname.endsWith("/undocked"))&&t}return!1})()&&(n.undockedStart=!0,this.api.cfg.undockedInstanceId=window.name.split("-")[1],this.api.setInstanceTab(this.api.cfg.undockedInstanceId,window.name,g.Disconnected,v.Undocked))}},{key:"setControl",value:function(t){this.api.cfg.hasControl=!!t}}])&&l(e.prototype,n),o&&l(e,o),s}(o.b);function w(t){return t.classList.add("webswing-element"),t}function b(t){var e=t.querySelector(".webswing-element-content");if(!e){var n=Array.from(t.children);(e=document.createElement("div")).classList.add("webswing-element-content"),t.appendChild(e),n.forEach((function(t){e.appendChild(t)}))}return e}var O=n(43),P=n(44);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?A(t):e}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R={cfg:"webswing.config",disconnect:"webswing.disconnect",getInstanceId:"socket.instanceId",send:"socket.send",sendHandshake:"socket.sendHandshake",getDesktopSize:"canvas.getDesktopSize",processComponentTree:"canvas.processComponentTree",registerInput:"input.register",sendInput:"input.sendInput",sendSimpleEvent:"socket.sendSimpleEvent",registerTouch:"touch.register",initCanvas:"canvas.init",touchBarConfig:"touch.touchBarConfig",logout:"login.logout",touchSession:"login.touchSession",getIdentity:"identity.get",getLocale:"translate.getLocale",showDialog:"dialog.show",showDialogBar:"dialog.showBar",hideDialog:"dialog.hide",hideDialogBar:"dialog.hideBar",dialogBarContent:"dialog.currentBar",currentDialog:"dialog.current",dialogs:"dialog.content",processFileDialogEvent:"files.process",closeFileDialog:"files.close",openLink:"files.link",print:"files.print",download:"files.download",redirect:"files.redirect",displayCopyBar:"clipboard.displayCopyBar",displayPasteDialog:"clipboard.displayPasteDialog",processJsLink:"jslink.process",playbackInfo:"playback.playbackInfo",handleActionEvent:"base.handleActionEvent",handleAccessible:"accessible.handleAccessible",handleAudio:"audio.handleAudio",isAccessiblityEnabled:"accessible.isEnabled",showWindowSwitcher:"accessible.showWindowSwitcher",manageFocusEvent:"focusManager.manageFocusEvent",resetDock:"dock.reset",onUndockedWindowResize:"dock.onUndockedWindowResize",onUndockedWindowClose:"dock.onUndockedWindowClose",onWindowFocus:"render.onWindowFocus",removeInstanceTab:"dock.removeInstanceTab",handleUndockEvent:"dock.handleUndockEvent",queuePaintingRequest:"render.queuePaintingRequest",getPixels:"render.getPixels",repaint:"render.repaint",ack:"render.ack",resetRender:"render.resetState",processActionEvent:"render.processActionEvent",initTaskbar:"taskbar.init",sendTabsUpdate:"socket.sendTabsUpdate",disposeSocket:"socket.dispose",disposeCanvas:"canvas.dispose",newSession:"webswing.newSession",clearInstanceId:"socket.clearInstanceId"},F=O.appFrameProtoOut.LinkActionMsgOutProto.LinkActionTypeProto,B=O.appFrameProtoOut.SimpleEventMsgOutProto,L=P.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto,_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(a,t);var e,n,o,i=T(a);function a(){var t;E(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return D(A(t=i.call.apply(i,[this].concat(n))),"timer1",void 0),D(A(t),"timer3",void 0),D(A(t),"timerInstanceTabs",void 0),D(A(t),"warningTimeout",void 0),D(A(t),"registeredListeners",[]),D(A(t),"startNewSessionOnShutdown",!1),t}return e=a,(n=[{key:"provides",value:function(){var t=this;return{"base.startApplication":this.startApplication,"base.startMirrorView":this.startMirrorView,"base.continueSession":this.continueSession,"base.kill":this.kill,"base.handshake":this.handshake,"base.processMessage":this.processMessage,"base.dispose":this.dispose,"base.requestComponentTree":this.requestComponentTree,"base.handleActionEvent":this.handleActionEvent,"base.startNewSessionOnShutdown":function(){t.startNewSessionOnShutdown=!0}}}},{key:"startApplication",value:function(){this.initialize(null,!1)}},{key:"startMirrorView",value:function(t){this.initialize(t,!0)}},{key:"initialize",value:function(t,e){var n=this;this.api.disposeCanvas(),this.api.initCanvas(),this.api.initTaskbar(),this.api.registerInput(),e||this.api.registerTouch(this.api.touchBarConfig),this.registerGlobalListener(window,"beforeunload",(function(){return n.beforeUnloadEventHandler()})),e||this.registerGlobalListener(window,"hashchange",(function(){return n.handshake()})),window.addEventListener("storage",(function(t){return n.storageEventHandler(t)})),this.api.cfg.undockedStart&&this.registerGlobalListener(window,"resize",(function(){return n.api.onUndockedWindowResize()})),this.registerGlobalListener(window,"focus",(function(){return n.api.onWindowFocus()})),this.resetState(),this.api.cfg.clientId=t,this.api.cfg.canPaint=!0,this.api.cfg.hasControl=!e,this.api.cfg.mirrorMode=e,this.handshake(),e&&this.api.repaint(),this.api.showDialog(this.api.dialogs.startingDialog)}},{key:"registerGlobalListener",value:function(t,e,n,r){t.addEventListener(e,n,r),this.registeredListeners.push({target:t,name:e,listener:n,useCapture:r})}},{key:"beforeUnloadEventHandler",value:function(){this.api.cfg.undockedStart&&this.api.onUndockedWindowClose(),this.api.removeInstanceTab(),this.dispose(),this.api.disposeSocket()}},{key:"continueSession",value:function(){this.api.hideDialog(),this.api.cfg.canPaint=!0,this.handshake(),this.api.repaint(),this.api.ack()}},{key:"resetState",value:function(){var t=this;this.api.resetRender(),this.api.cfg.clientId="",this.api.cfg.viewId=Object(r.b)(),this.api.cfg.hasControl=!1,this.api.cfg.mirrorMode=!1,this.api.cfg.canPaint=!1,this.api.cfg.browserId=this.api.getIdentity(),clearInterval(this.timer1),clearInterval(this.timer3),clearInterval(this.timerInstanceTabs),this.timer1=setInterval((function(){return t.api.sendInput()}),100),this.timer3=setInterval((function(){return t.servletHeartbeat()}),12e4),this.startNewSessionOnShutdown=!1,this.api.resetDock()}},{key:"sendMessageEvent",value:function(t){this.api.sendSimpleEvent({type:t})}},{key:"servletHeartbeat",value:function(){this.api.touchSession()}},{key:"kill",value:function(){this.api.cfg.hasControl&&this.sendMessageEvent(L.killSwing)}},{key:"handshake",value:function(){this.api.sendHandshake(this.getHandShake())}},{key:"dispose",value:function(){clearInterval(this.timer1),this.api.sendInput(),this.resetState(),this.api.closeFileDialog(),this.api.hideDialogBar();var t,e=S(this.registeredListeners);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.useCapture?n.target.removeEventListener(n.name,n.listener,n.useCapture):n.target.removeEventListener(n.name,n.listener)}}catch(t){e.e(t)}finally{e.f()}}},{key:"requestComponentTree",value:function(){this.sendMessageEvent(L.requestComponentTree),this.api.repaint()}},{key:"processMessage",value:function(t){var e=this;if(null!=t.playback&&this.api.playbackInfo(t),null==t.startApplication)if(this.api.cfg.recordingPlayback||null==t.event){if(!1===this.api.cfg.mirrorMode&&!this.api.cfg.recordingPlayback){if(null!=t.jsRequest&&this.api.processJsLink(t.jsRequest),null!=t.pixelsRequest){var n=this.api.getPixels(t.pixelsRequest);this.api.send(n)}t.componentTree&&this.api.processComponentTree(t.componentTree),null!=t.linkAction&&(t.linkAction.action===F.url?this.api.openLink(t.linkAction.src):t.linkAction.action===F.print?this.api.print("file?id="+t.linkAction.src):t.linkAction.action===F.file?this.api.download("file?id="+t.linkAction.src):t.linkAction.action!==F.redirect||this.api.cfg.mirrorMode||this.api.redirect(t.linkAction.src)),null!=t.undockEvent&&this.api.handleUndockEvent(t.undockEvent)}this.api.cfg.hasControl&&!this.api.cfg.recordingPlayback&&(null!=t.copyEvent&&this.api.displayCopyBar(t.copyEvent),null!=t.pasteRequest&&this.api.displayPasteDialog(t.pasteRequest),null!=t.fileDialogEvent&&this.api.processFileDialogEvent(t.fileDialogEvent),t.windowSwitchList&&this.api.showWindowSwitcher(document.querySelector(".webswing-element-content"),t.windowSwitchList),null!=t.accessible&&this.api.handleAccessible(t.accessible,document.querySelector(".webswing-element-content")),null!=t.actionEvent&&this.api.processActionEvent(t.actionEvent)),t.audioEvent&&this.api.handleAudio(t.audioEvent),null!=t.focusEvent&&this.api.manageFocusEvent(t.focusEvent),this.api.cfg.canPaint&&this.api.queuePaintingRequest(t)}else if(t.event===B.shutDownAutoLogoutNotification)this.api.removeInstanceTab(),this.api.disconnect(),!1===this.api.cfg.mirror&&this.api.logout();else if(t.event===B.shutDownNotification)this.startNewSessionOnShutdown&&!this.api.cfg.undockedStart?(this.startNewSessionOnShutdown=!1,this.api.newSession()):(this.api.currentDialog()!==this.api.dialogs.timedoutDialog&&this.api.showDialog(this.api.dialogs.stoppedDialog),this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.disconnect());else if(t.event===B.applicationAlreadyRunning)this.api.showDialog(this.api.dialogs.applicationAlreadyRunning),this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.disconnect();else if(t.event===B.tooManyClientsNotification)this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.showDialog(this.api.dialogs.tooManyClientsNotification),this.api.disconnect();else if(t.event===B.reconnectInstanceNotFound)this.api.cfg.undockedStart?this.api.showDialog(this.api.dialogs.undockedInstanceNotFound):this.api.showDialog(this.api.dialogs.reconnectInstanceNotFound),this.api.disconnect();else if(t.event===B.continueOldSession){this.continueSession();var r=this.api.dialogBarContent();this.api.showDialogBar(this.api.dialogs.continueOldSessionDialog);var o=this.api.dialogBarContent();o&&(o.focused=!1,window.setTimeout((function(){var t=e.api.dialogBarContent();t&&!t.focused&&(e.api.hideDialogBar(),r&&e.api.showDialogBar(r))}),5e3))}else t.event===B.sessionStolenNotification?(this.api.cfg.canPaint=!1,this.api.showDialog(this.api.dialogs.sessionStolenNotification),this.api.removeInstanceTab(),this.api.disconnect()):t.event===B.unauthorizedAccess?(this.api.cfg.canPaint=!1,this.api.showDialog(this.api.dialogs.unauthorizedAccess),this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.disconnect()):t.event===B.sessionTimeoutWarning?(window.clearTimeout(this.warningTimeout),this.api.showDialogBar(this.api.dialogs.inactivityTimeoutWarningDialog),this.warningTimeout=window.setTimeout((function(){e.api.hideDialogBar()}),2e3)):t.event===B.sessionTimedOutNotification?(this.api.showDialog(this.api.dialogs.timedoutDialog),this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.disconnect()):t.event===B.applicationBusy&&null==this.api.currentDialog()&&this.api.showDialog(this.api.dialogs.applicationBusyDialog);else this.api.cfg.mirror?this.startMirrorView(this.api.cfg.clientId):this.startApplication()}},{key:"storageEventHandler",value:function(t){if(t.key&&t.newValue&&t.key.startsWith("webswing_tabsupdate_")){if(this.api.getInstanceId()!==t.key.split("_")[2])return;var e=JSON.parse(t.newValue);e&&this.api.sendTabsUpdate({tabs:[e]})}}},{key:"getHandShake",value:function(){var t={instanceId:this.api.getInstanceId(),browserId:this.api.cfg.browserId,viewId:this.api.cfg.viewId,currentDpr:Object(r.o)(),tabId:window.name,locale:this.api.getLocale(),timeZone:Object(r.r)(),mirrored:this.api.cfg.mirrorMode,directDrawSupported:this.api.cfg.typedArraysSupported&&!(this.api.cfg.ieVersion&&this.api.cfg.ieVersion<=10),dockingSupported:!this.api.cfg.ieVersion,touchMode:this.api.cfg.touchMode,accessiblityEnabled:this.api.isAccessiblityEnabled(),url:window.location.href};if(!this.api.cfg.mirrorMode){var e=this.api.getDesktopSize();t.documentBase=this.api.cfg.documentBase,t.params=this.api.cfg.params,t.desktopWidth=e.width,t.desktopHeight=e.height,t.userScreenWidth=window.screen.availWidth,t.userScreenHeight=window.screen.availHeight}return t}},{key:"handleActionEvent",value:function(t,e,n){}}])&&j(e.prototype,n),o&&j(e,o),a}(o.b),W=n(360);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||U(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=U(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function U(t,e){if(t){if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e,n){return e&&Y(t.prototype,e),n&&Y(t,n),t}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Q(t);if(e){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?V(t):e}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tt={getExternalApi:"external.api",cfg:"webswing.config",disconnect:"webswing.disconnect",send:"socket.send",getCanvas:"canvas.get",sendSimpleEvent:"socket.sendSimpleEvent",sendTimestamp:"socket.sendTimestamp",touchCursorChanged:"touch.cursorChanged",hideDialog:"dialog.hide",performAction:"render.performAction",handleActionEvent:"base.handleActionEvent",checkCanvasAccessibleInfo:"accessible.checkCanvasAccessibleInfo",handleWindowDockState:"dock.handleWindowDockState",checkUndockedModalBlocked:"dock.checkUndockedModalBlocked",undockWindow:"dock.undockWindow",dockWindow:"dock.dockWindow",checkPendingUndockEvents:"dock.checkPendingUndockEvents",hasPendingUndockEvent:"dock.hasPendingUndockEvent",paintDoneCallback:"render.paintDoneCallback",updateTaskbar:"taskbar.updateWindowStates",touchRefreshScale:"touch.refreshScale"},et=P.appFrameProtoIn.WindowEventMsgInProto.WindowEventTypeProto,nt=P.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto,rt=O.appFrameProtoOut.WindowMsgOutProto.WindowTypeProto,ot=P.appFrameProtoIn.ActionEventMsgInProto.ActionEventTypeProto,it=O.appFrameProtoOut.WindowMsgOutProto.DockModeProto,at=O.appFrameProtoOut.WindowMsgOutProto.DockStateProto,st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(n,t);var e=$(n);function n(){var t;J(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Z(V(t=e.call.apply(e,[this].concat(o))),"windowImageHolders",{}),Z(V(t),"drawingLock",void 0),Z(V(t),"drawingQ",[]),Z(V(t),"internalFrameWrapperHolders",{}),Z(V(t),"closedWindows",{}),Z(V(t),"directDraw",void 0),Z(V(t),"closeWindowRequested",!1),Z(V(t),"ready",(function(){t.directDraw=new W.DirectDraw({logTrace:t.api.cfg.traceLog,logDebug:t.api.cfg.debugLog,ieVersion:t.api.cfg.ieVersion})})),t}return G(n,[{key:"provides",value:function(){return{"render.dispose":this.dispose,"render.queuePaintingRequest":this.queuePaintingRequest,"render.paintDoneCallback":this.paintDoneCallback,"render.getPixels":this.getPixels,"render.repaint":this.repaint,"render.ack":this.ack,"render.resetState":this.resetState,"render.processActionEvent":this.processActionEvent,"render.getWindows":this.getWindows,"render.getRenderedWindows":this.getRenderedWindows,"render.getWindowById":this.getWindowById,"render.performAction":this.performAction,"render.closeWindow":this.closeWindow,"render.hasUndockedWindows":this.hasUndockedWindows,"render.onWindowFocus":this.onWindowFocus}}},{key:"dispose",value:function(){this.directDraw&&this.directDraw.dispose(),this.drawingQ=[]}},{key:"resetState",value:function(){this.windowImageHolders={},this.internalFrameWrapperHolders={},this.closedWindows={},this.closeWindowRequested=!1,this.directDraw&&this.directDraw.dispose(),this.directDraw=new W.DirectDraw({logTrace:this.api.cfg.traceLog,logDebug:this.api.cfg.debugLog,ieVersion:this.api.cfg.ieVersion}),this.drawingQ=[]}},{key:"queuePaintingRequest",value:function(t){this.drawingQ.push(t),this.drawingLock||this.processNextQueuedFrame()}},{key:"processNextQueuedFrame",value:function(){if(this.drawingLock=null,this.drawingQ.length>0){this.drawingLock=this.drawingQ.shift();try{this.processRequest(this.drawingLock)}catch(t){throw this.drawingLock=null,t}}else this.api.paintDoneCallback()}},{key:"paintDoneCallback",value:function(){}},{key:"processRequest",value:function(t){var e=this,n=null;(null!=t.windows&&t.windows.length>0&&(n=t.windows),null!=n&&this.api.hideDialog(),t.cursorChangeEvent&&null!=t.cursorChangeEvent&&this.api.cfg.hasControl&&!this.api.cfg.recordingPlayback)&&(this.findWindowElementsById(t.cursorChangeEvent.winId).forEach((function(n){var r=e.getCursorStyle(t.cursorChangeEvent);r&&null!=r&&(n.style.cursor=r)})),this.api.touchCursorChanged(t.cursorChangeEvent));if(null!=t.closedWindow&&this.closeWindowInternal(t.closedWindow.id),null!=n){var r,o={},i=q(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.internalWindows){var s,c=q(a.internalWindows);try{for(c.s();!(s=c.n()).done;){o[s.value.id]=!0}}catch(t){c.e(t)}finally{c.f()}}o[a.id]=!0}}catch(t){i.e(t)}finally{i.f()}for(var l in this.windowImageHolders)if(this.windowImageHolders.hasOwnProperty(l)){var u=this.windowImageHolders[l];!o[l]&&u.element&&u.element.matches(":not(.ws-close-prevented)")&&this.closeWindowInternal(l)}n.reduce((function(r,o,i){return r.then((function(){return e.renderWindow(o,n.length-i-1,t.directDraw)})).catch((function(t){return e.errorHandler(t)}))}),Promise.resolve()).then((function(){var n=[];for(var r in e.internalFrameWrapperHolders)if(e.internalFrameWrapperHolders.hasOwnProperty(r)){var o=e.internalFrameWrapperHolders[r];o.matches(":empty")&&(o.remove(),n.push(r))}for(var i=0,a=n;i<a.length;i++){var s=a[i];delete e.internalFrameWrapperHolders[s]}e.api.checkPendingUndockEvents(),e.ack(t),e.api.updateTaskbar(e.windowImageHolders),e.processNextQueuedFrame()})).catch((function(t){return e.errorHandler(t)})),this.api.checkCanvasAccessibleInfo(),this.api.touchRefreshScale()}else this.processNextQueuedFrame()}},{key:"repaint",value:function(){this.sendMessageEvent(nt.repaint)}},{key:"ack",value:function(t){this.sendMessageEvent(nt.paintAck),t&&null!=t&&this.api.sendTimestamp({startTimestamp:t.startTimestamp,sendTimestamp:t.sendTimestamp,renderingTime:""+((new Date).getTime()-t.receivedTimestamp)})}},{key:"sendMessageEvent",value:function(t){this.api.sendSimpleEvent({type:t})}},{key:"closeWindow",value:function(t){this.api.send({window:{id:t,eventType:et.close}}),this.closedWindows[t]=!0}},{key:"closeWindowInternal",value:function(t){var e=this.windowImageHolders[t];if(e){var n=new ct(e.id);this.windowClosing(e,n);try{e.windowClosing(n)}catch(t){console.error(t)}e.htmlWindow&&n.isDefaultPrevented()?e.element.classList.add("ws-close-prevented"):(e.element.remove(),delete this.windowImageHolders[t],e.tabId===window.name&&e.dockState===at.undocked&&(this.closeWindowRequested=!0,this.closeThisUndockedWindow())),this.windowClosed(e);try{e.windowClosed()}catch(t){console.error(t)}}this.api.updateTaskbar(this.windowImageHolders),delete this.closedWindows[t]}},{key:"closeThisUndockedWindow",value:function(){var t=this;if(this.closeWindowRequested){var e=!1;for(var n in this.windowImageHolders){if(!this.windowImageHolders[n].htmlWindow)this.windowImageHolders[n].tabId!==window.name&&(e=!0)}e?window.close():setTimeout((function(){t.closeThisUndockedWindow()}),500)}}},{key:"shouldWindowRender",value:function(t){return!!this.api.cfg.mirrorMode||(t.type!==rt.basic?!(!t.ownerId||!this.windowImageHolders[t.ownerId]||null==this.windowImageHolders[t.ownerId]||this.windowImageHolders[t.ownerId].htmlWindow)&&this.windowImageHolders[t.ownerId].tabId===window.name:t.tabId===window.name)}},{key:"renderWindow",value:function(t,e,n){return this.closedWindows[t.id]?Promise.resolve():n?this.renderDirectDrawComposedWindow(t,e):this.renderPngDrawComposedWindow(t,e)}},{key:"renderPngDrawComposedWindow",value:function(t,e){if(!this.windowImageHolders[t.id]){if(t.type===rt.basic){var n=document.createElement("canvas");n.classList.add("webswing-canvas"),this.windowImageHolders[t.id]=new lt(t.id,t.tabId,t.ownerId,this.getOwnerParents(t.ownerId),n,!1,t.name,t.title,t.classType,t.minimized,t.resizable,this),this.windowImageHolders[t.id].dockMode=t.dockMode,this.windowImageHolders[t.id].dockState=t.dockState,this.initComposedElement(t,n)}t.type===rt.html&&this.initializeHtmlWindow(t)}var r=this.windowImageHolders[t.id];if(r.htmlWindow)this.shouldWindowRender(t)?(r.element||this.initializeHtmlWindow(t),this.handleWindowModalityAndBounds(t,r,e,!0)):r.disposeInternal();else{if(this.api.handleWindowDockState(t,r),this.shouldWindowRender(t)){this.handleWindowModalityAndBounds(t,r,e,!0),this.handleWindowStateAndTitle(t.state,t.minimized,t.title,r);var o=this.windowImageHolders[t.id].element;return this.renderPngDrawWindowInternal(t,o.getContext("2d"))}var i=this.getInternalFrameWrappersByOwnerWinId(t.id);if(i&&i.length){var a,s=q(i);try{for(s.s();!(a=s.n()).done;){var c=a.value;for(var l in c.ifw.remove(),delete this.internalFrameWrapperHolders[c.id],this.windowImageHolders)this.windowImageHolders[l].ownerId===c.id&&this.windowImageHolders[l].disposeInternal()}}catch(t){s.e(t)}finally{s.f()}}}return Promise.resolve()}},{key:"renderPngDrawWindowInternal",value:function(t,e){var n=this;return t.content?t.content.reduce((function(o,i){return o.then((function(){return new Promise((function(o,a){if(null!=i){var s=new Image,c=function(){e.save(),e.drawImage(s,i.positionX,i.positionY),e.restore(),s.onload=null,s.src="",null!=s.clearAttributes&&s.clearAttributes(),n.drawInternalWindows(t.internalWindows),o()};s.onload=function(){n.api.cfg.ieVersion&&n.api.cfg.ieVersion<=10?window.setTimeout(c,20):c()},s.src=Object(r.p)(i.base64Content)}}))}),n.errorHandler)}),Promise.resolve()):(this.drawInternalWindows(t.internalWindows),Promise.resolve())}},{key:"renderDirectDrawComposedWindow",value:function(t,e){var n=this;return new Promise((function(o,i){var a;if(t.type!==rt.basic)a=new Promise((function(t,e){t(void 0)}));else{var s=n.windowImageHolders[t.id]?n.windowImageHolders[t.id].element:void 0;n.directDraw&&(a=null!=t.directDraw&&n.shouldWindowRender(t)?"string"==typeof t.directDraw?n.directDraw.draw64(t.directDraw,t.dpr||Object(r.o)(),s):n.directDraw.drawBin(t.directDraw,t.dpr||Object(r.o)(),s):n.directDraw.drawEmpty(t.width||0,t.height||0,t.dpr||Object(r.o)(),s))}a?a.then((function(r){var i=r;n.windowImageHolders[t.id]||(t.type===rt.basic&&i&&(i.classList.add("webswing-canvas"),n.windowImageHolders[t.id]=new lt(t.id,t.tabId,t.ownerId,n.getOwnerParents(t.ownerId),i,!1,t.name,t.title,t.classType,t.minimized,t.resizable,n),n.windowImageHolders[t.id].dockMode=t.dockMode,n.windowImageHolders[t.id].dockState=t.dockState,n.initComposedElement(t,i)),t.type===rt.html&&n.initializeHtmlWindow(t));var a=n.windowImageHolders[t.id],s=n.shouldWindowRender(t);if(a.htmlWindow)s?(a.element||n.initializeHtmlWindow(t),n.handleWindowModalityAndBounds(t,a,e,!1)):a.disposeInternal();else if(n.api.handleWindowDockState(t,a),s)n.handleWindowModalityAndBounds(t,a,e,!1),n.handleWindowStateAndTitle(t.state,t.minimized,t.title,a),n.drawInternalWindows(t.internalWindows);else{var c=n.getInternalFrameWrappersByOwnerWinId(t.id);if(c&&c.length){var l,u=q(c);try{for(u.s();!(l=u.n()).done;){var d=l.value;for(var p in d.ifw.remove(),delete n.internalFrameWrapperHolders[d.id],n.windowImageHolders)n.windowImageHolders[p].ownerId===d.id&&n.windowImageHolders[p].disposeInternal()}}catch(t){u.e(t)}finally{u.f()}}}o()}),(function(t){i(t)})):o()}))}},{key:"initializeHtmlWindow",value:function(t){if(this.shouldWindowRender(t)){if(!this.windowImageHolders[t.id]){var e=document.createElement("div");e.classList.add("webswing-html-canvas"),this.windowImageHolders[t.id]=new ut(t.id,t.ownerId,this.getOwnerParents(t.ownerId),e,t.name,this)}var n=this.windowImageHolders[t.id].element;if(!n){var r=document.createElement("div");r.classList.add("webswing-html-canvas"),n=r,this.windowImageHolders[t.id].element=n}this.initComposedElement(t,n)}else this.windowImageHolders[t.id]=new ut(t.id,t.ownerId,this.getOwnerParents(t.ownerId),null,t.name,this)}},{key:"initComposedElement",value:function(t,e){var n=this.shouldWindowRender(t);e.setAttribute("data-id",t.id),e.style.position="absolute",t.ownerId&&e.setAttribute("data-ownerid",t.ownerId),n&&this.windowOpening(this.windowImageHolders[t.id]);var r=null;t.ownerId&&this.windowImageHolders[t.ownerId]&&(r=this.windowImageHolders[t.ownerId]),r&&r.isRelocated()?(r.element.parentElement.appendChild(e),n&&this.windowOpened(this.windowImageHolders[t.id])):(this.api.cfg.rootElement.appendChild(e),n&&this.windowOpened(this.windowImageHolders[t.id])),this.api.cfg.mirrorMode||n&&this.performActionInternal({actionName:"",eventType:ot.init,data:"",windowId:t.id})}},{key:"handleWindowModalityAndBounds",value:function(t,e,n,o){var i=e.element;i&&(e.htmlWindow&&i.matches(".ws-close-prevented")&&(this.windowOpening(e),i.style.display="",i.classList.remove("ws-close-prevented"),this.windowOpened(e),this.api.cfg.mirrorMode||this.performActionInternal({actionName:"",eventType:ot.init,data:"",windowId:t.id})),o&&t.type===rt.basic&&(Math.abs(i.clientWidth-t.width)>=1||Math.abs(i.clientHeight-t.height)>=1)&&(i.style.width=t.width+"px",i.style.height=t.height+"px",i.setAttribute("width",String(t.width)),i.setAttribute("height",String(t.height))),i.classList.contains("ws-minimized")||(i.style.zIndex=String(100+n+1),i.style.width=t.width+"px",i.style.height=t.height+"px"),i.style.display="",i.matches(".modal-blocked")!==t.modalBlocked&&(i.classList.toggle("modal-blocked",t.modalBlocked),this.windowModalBlockedChanged(e)),this.api.checkUndockedModalBlocked(),Object(r.x)(i.parentNode)&&!e.ignoreNextPositioning&&(i.style.left=t.posX+"px",i.style.top=t.posY+"px",e.validatePositionAndSize(t.posX,t.posY)),e.ignoreNextPositioning=!1)}},{key:"handleWindowStateAndTitle",value:function(t,e,n,r){if(r.title=n,r.tabId===window.name&&r.dockState===at.undocked&&(document.title=r.title||""),r.minimized=e||!1,null!=t){if(r.state=t,6!==t||this.api.cfg.mirrorMode||!r.element.parentNode)return;var o=r.element.parentNode.getBoundingClientRect(),i=r.element.getBoundingClientRect();i.width===o.width&&i.height===o.height||r.setBounds(0,0,o.width,o.height)}}},{key:"drawInternalWindows",value:function(t){if(t&&null!=t&&0!==t.length){for(var e=[],n=t.length-1;n>=0;n--){var r=t[n];r.type===rt.internalWrapper?this.handleInternalWrapperWindow(r):r.type!==rt.internal&&r.type!==rt.internalHtml||e.push(r)}for(var o=[],i=0;i<e.length;i++){var a=e[i];a.type===rt.internal?this.handleInternalWindow(a,i,o):a.type===rt.internalHtml&&(this.handleInternalHtmlWindow(a,i),o.push(a))}}}},{key:"handleInternalWrapperWindow",value:function(t){var e=null;t.ownerId&&this.windowImageHolders[t.ownerId]&&(e=this.windowImageHolders[t.ownerId]);var n=this.internalFrameWrapperHolders[t.id];if(n&&null!=n||((n=document.createElement("div")).classList.add("ws-internal-frames-wrapper"),n.id="wrapper-"+t.id,e&&e.isRelocated()?e.element.parentNode.appendChild(n):this.api.cfg.rootElement.appendChild(n),this.internalFrameWrapperHolders[t.id]=n),t.ownerId&&(n.setAttribute("data-ownerid",t.ownerId),e)){var r=e.element;n.style.zIndex=r.style.zIndex,n.style.left=t.posX+"px",n.style.top=t.posY+"px",n.style.width=t.width+"px",n.style.height=t.height+"px"}}},{key:"handleInternalWindow",value:function(t,e,n){var o=this.internalFrameWrapperHolders[t.ownerId];if(o&&null!=o){var i;void 0===this.windowImageHolders[t.id]||null==this.windowImageHolders[t.id]?((i=document.createElement("canvas")).classList.add("webswing-canvas"),i.classList.add("internal"),this.windowImageHolders[t.id]=new lt(t.id,t.tabId,t.ownerId,this.getOwnerParents(t.ownerId),i,!0,t.name,t.title,t.classType,t.minimized,t.resizable,this),i.setAttribute("data-id",t.id),i.style.position="absolute",t.ownerId&&i.setAttribute("data-ownerid",t.ownerId),o.appendChild(i)):(i=this.windowImageHolders[t.id].element).parentElement!==o&&o.appendChild(i);var a=o.offsetTop,s=o.offsetLeft;if(i.style.zIndex=String(100+e+1),i.style.left=t.posX-s+"px",i.style.top=t.posY-a+"px",i.style.width=t.width+"px",i.style.height=t.height+"px",i.setAttribute("width",String(t.width*t.dpr)),i.setAttribute("height",String(t.height*t.dpr)),i.style.zIndex=String(100+e+1),i.style.left=t.posX-s+"px",i.style.top=t.posY-a+"px",i.style.width=t.width+"px",i.style.height=t.height+"px",i.setAttribute("width",String(t.width*Object(r.o)())),i.setAttribute("height",String(t.height*Object(r.o)())),i.matches(".modal-blocked")!==t.modalBlocked&&i.classList.toggle("modal-blocked",t.modalBlocked),n.length>0){var c=o.dataset.ownerid;if(c&&this.windowImageHolders[c]&&this.windowImageHolders[c].element){var l,u=this.windowImageHolders[c].element,d=i.getContext("2d"),p={top:u.offsetTop,left:u.offsetLeft},f=q(n);try{for(f.s();!(l=f.n()).done;){var h=l.value,y=this.findWindowIntersection(t,h);if(y&&y.x2-y.x1>0&&y.y2-y.y1>0){var g=(y.x2-y.x1)*t.dpr,v=(y.y2-y.y1)*t.dpr;d.drawImage(u,(y.x1-p.left)*t.dpr,(y.y1-p.top)*t.dpr,g,v,(t.posX<y.x1?y.x1-t.posX:0)*t.dpr,(t.posY<y.y1?y.y1-t.posY:0)*t.dpr,g,v)}}}catch(t){f.e(t)}finally{f.f()}}}}}},{key:"handleInternalHtmlWindow",value:function(t,e){var n=this.internalFrameWrapperHolders[t.ownerId];if(n&&null!=n){var r,o=!1;this.windowImageHolders[t.id]&&this.windowImageHolders[t.id].element?(r=this.windowImageHolders[t.id].element)&&r.matches(".ws-close-prevented")&&(o=!0,this.windowOpening(this.windowImageHolders[t.id]),r.classList.remove("ws-close-prevented"),r.style.display=""):((r=document.createElement("div")).classList.add("webswing-html-canvas"),this.windowImageHolders[t.id]=new ut(t.id,t.ownerId,this.getOwnerParents(t.ownerId),r,t.name,this),o=!0,r.setAttribute("data-id",t.id),r.style.position="absolute",t.ownerId&&r.setAttribute("data-ownerid",t.ownerId),this.windowOpening(this.windowImageHolders[t.id]),n.appendChild(r)),o&&(this.windowOpened(this.windowImageHolders[t.id]),this.api.cfg.mirrorMode||this.performActionInternal({actionName:"",eventType:ot.init,data:"",windowId:t.id}));var i=n.offsetTop,a=n.offsetLeft;r&&(r.style.zIndex=String(100+e+1),r.style.left=t.posX-a+"px",r.style.top=t.posY-i+"px",r.style.width=t.width+"px",r.style.height=t.height+"px",r.setAttribute("width",String(t.width)),r.setAttribute("height",String(t.height)),r.style.display="",r.matches(".modal-blocked")!==t.modalBlocked&&r.classList.toggle("modal-blocked",t.modalBlocked))}}},{key:"findWindowIntersection",value:function(t,e){var n=this,r=H([{x1:t.posX,y1:t.posY,x2:t.posX+t.width,y2:t.posY+t.height},{x1:e.posX,y1:e.posY,x2:e.posX+e.width,y2:e.posY+e.height}].map((function(t){return{x:[t.x1,t.x2].sort(n.sortNumber),y:[t.y1,t.y2].sort(n.sortNumber)}})),2),o=r[0],i=r[1];return!(i.x[0]>o.x[1]||i.x[1]<o.x[0]||i.y[0]>o.y[1]||i.y[1]<o.y[0])&&{x1:Math.max(o.x[0],i.x[0]),y1:Math.max(o.y[0],i.y[0]),x2:Math.min(o.x[1],i.x[1]),y2:Math.min(o.y[1],i.y[1])}}},{key:"sortNumber",value:function(t,e){return t-e}},{key:"findWindowElementsById",value:function(t){var e=[];for(var n in this.windowImageHolders[t]&&e.push(this.windowImageHolders[t].element),this.internalFrameWrapperHolders)if(this.internalFrameWrapperHolders.hasOwnProperty(n)){var r=this.internalFrameWrapperHolders[n];r.dataset.ownerid===t&&e.push(r)}return e}},{key:"validateAndPositionWindow",value:function(t,e,n){if(!t.htmlWindow&&!this.api.cfg.mirrorMode){var r=!1,o=t.element.parentNode.getBoundingClientRect(),i=t.element.getBoundingClientRect();e>o.width-40&&(e=Math.max(0,o.width-40),r=!0),n>o.height-40&&(n=Math.max(0,o.height-40),r=!0),e<-1*(i.width-40)&&(e=-1*(i.width-40),r=!0),n<0&&(n=0,r=!0),t.tabId&&t.tabId===window.name&&t.dockState===at.undocked&&(e=0,n=0,r=!0),r&&(t.element.style.left=e+"px",t.element.style.top=n+"px",t.setLocation(e,n))}}},{key:"getOwnerParents",value:function(t){if(!t||null==t)return[];var e=this.windowImageHolders[t];if(!e||null==e)return[];var n=e.parents.slice();return n.push(t),n}},{key:"hasUndockedWindows",value:function(){var t=this.getWindows(!0);if(t&&t.length){var e,n=q(t);try{for(n.s();!(e=n.n()).done;){if(e.value.dockState===at.undocked)return!0}}catch(t){n.e(t)}finally{n.f()}}return!1}},{key:"getCursorStyle",value:function(t){return null==t.b64img?t.cursor:this.api.cfg.ieVersion?"url('"+this.api.cfg.connectionUrl+"file?id="+t.curFile+"'), auto":"url("+Object(r.p)(t.b64img)+") "+t.x+" "+t.y+" , auto"}},{key:"errorHandler",value:function(t){throw this.drawingLock=null,t}},{key:"getWindows",value:function(t){var e=[];for(var n in this.windowImageHolders)t&&this.windowImageHolders[n].htmlWindow||e.push(this.windowImageHolders[n]);return e}},{key:"getRenderedWindows",value:function(t){var e=[];for(var n in this.windowImageHolders)if(n in this.windowImageHolders){var r=this.windowImageHolders[n];if(t&&r.htmlWindow)continue;if(!r.element)continue;if(r.element.classList.contains("ws-render-blocked"))continue;e.push(r)}return e}},{key:"getWindowById",value:function(t){return this.windowImageHolders[t]}},{key:"getInternalFrameWrappersByOwnerWinId",value:function(t){var e=[];for(var n in this.internalFrameWrapperHolders)if(this.internalFrameWrapperHolders.hasOwnProperty(n)){var r=this.internalFrameWrapperHolders[n];r.dataset.ownerid===t&&e.push({id:n,ifw:r})}return e}},{key:"onWindowFocus",value:function(){var t,e=0;if(document.querySelectorAll("canvas.webswing-canvas:not(.ws-render-blocked)").forEach((function(n){var r=n,o=Number(r.style.zIndex);o>e&&(e=o,t=r.dataset.id)})),t){var n=this.getWindowById(t);n&&n.requestFocus()}}},{key:"getPixels",value:function(t){var e=document.createElement("canvas");e.width=t.w,e.height=t.h;var n=e.getContext("2d"),r=this.getWindows(!0);r.sort((function(t,e){return t.element.style.zIndex>e.element.style.zIndex?1:t.element.style.zIndex<e.element.style.zIndex?-1:0}));var o,i=q(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!a.htmlWindow){var s=a.element.getBoundingClientRect();if(s.left>t.x+t.w||s.top>t.y+t.h||t.x>s.left+s.width||t.y>s.top+s.height)continue;var c=Math.max(t.x,s.left),l=Math.max(t.y,s.top),u=Math.min(t.x+t.w-c,s.left+s.width-c),d=Math.min(t.y+t.h-l,s.top+s.height-l);n.putImageData(a.element.getContext("2d").getImageData(c-s.left,l-s.top,u,d),c-t.x,l-t.y)}}}catch(t){i.e(t)}finally{i.f()}var p=e.toDataURL("image/png");return{pixelsResponse:{correlationId:t.correlationId,pixels:p}}}},{key:"performAction",value:function(t){this.performActionInternal(Object(r.l)({eventType:ot.user},t))}},{key:"performActionInternal",value:function(t){this.api.send({action:{actionName:t.actionName,eventType:t.eventType,data:t.data||"",binaryData:t.binaryData||null,windowId:t.windowId||""}})}},{key:"processActionEvent",value:function(t){try{t.windowId&&this.windowImageHolders[t.windowId]?this.windowImageHolders[t.windowId].handleActionEvent(t.actionName,t.data,t.binaryData):this.api.handleActionEvent(t.actionName,t.data,t.binaryData)}catch(t){console.error(t)}}},{key:"windowOpening",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowOpening&&this.api.cfg.windowsListener.windowOpening(t)}catch(t){console.error(t)}}},{key:"windowOpened",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowOpened&&this.api.cfg.windowsListener.windowOpened(t)}catch(t){console.error(t)}}},{key:"windowClosing",value:function(t,e){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowClosing&&this.api.cfg.windowsListener.windowClosing(t,e)}catch(t){console.error(t)}}},{key:"windowClosed",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowClosed&&this.api.cfg.windowsListener.windowClosed(t)}catch(t){console.error(t)}}},{key:"windowModalBlockedChanged",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowModalBlockedChanged&&this.api.cfg.windowsListener.windowModalBlockedChanged(t)}catch(t){console.error(t)}}},{key:"getApi",value:function(){return this.api}}]),n}(o.b),ct=function t(e){var n=this;J(this,t),this.id=e,Z(this,"defaultPrevented",void 0),Z(this,"preventDefault",(function(){n.defaultPrevented=!0})),Z(this,"isDefaultPrevented",(function(){return n.defaultPrevented})),this.defaultPrevented=!1},lt=function(){function t(e,n,r,o,i,a,s,c,l,u,d,p){var f=this;J(this,t),this.id=e,this.tabId=n,this.ownerId=r,this.parents=o,this.element=i,this.internal=a,this.name=s,this.title=c,this.classType=l,this.minimized=u,this.resizable=d,this.renderModule=p,Z(this,"htmlWindow",!1),Z(this,"state",0),Z(this,"dockMode",it.none),Z(this,"dockState",at.docked),Z(this,"preventDockClose",!1),Z(this,"isUndocking",!1),Z(this,"ignoreNextPositioning",!1),Z(this,"validatePositionAndSize",void 0),Z(this,"webswingInstance",void 0),this.webswingInstance=p.getApi().getExternalApi(),this.validatePositionAndSize=function(t,e){p.validateAndPositionWindow(f,t,e)}}return G(t,[{key:"disposeInternal",value:function(){this.element.remove()}},{key:"isInParentHierarchy",value:function(t){if(!this.parents||0===this.parents.length)return!1;var e,n=q(this.parents);try{for(n.s();!(e=n.n()).done;){if(e.value===t)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"isModalBlocked",value:function(){return this.element.classList.contains("modal-blocked")}},{key:"getDockMode",value:function(){return this.dockMode}},{key:"getDockState",value:function(){return this.dockState}},{key:"setBounds",value:function(t,e,n,r){this.renderModule.getApi().send({window:{id:this.id,x:Math.floor(t),y:Math.floor(e),width:Math.floor(n),height:Math.floor(r)}})}},{key:"setLocation",value:function(t,e){this.renderModule.getApi().send({window:{id:this.id,x:Math.floor(t),y:Math.floor(e)}})}},{key:"setSize",value:function(t,e){this.renderModule.getApi().send({window:{id:this.id,width:Math.floor(t),height:Math.floor(e)}})}},{key:"detach",value:function(){if(this.element.parentNode)return this.element.parentNode.removeChild(this.element);console.error("Cannot detach window, it is not attached to any parent!")}},{key:"attach",value:function(t,e){this.element.parentNode?console.error("Cannot attach window, it is still attached to another parent!"):t&&(t.append(this.element),e&&this.setLocation(e.x,e.y))}},{key:"undock",value:function(){if(this.dockMode!==it.none&&this.dockState!==at.undocked){var t=this.element.getBoundingClientRect();this.renderModule.getApi().undockWindow(this.id,this.tabId,this.element,Math.floor(t.x),Math.floor(t.y),Math.floor(t.width),Math.floor(t.height),null,null)}}},{key:"dock",value:function(){this.renderModule.getApi().dockWindow(this)}},{key:"toggleDock",value:function(){this.dockState===at.docked?this.undock():this.dock()}},{key:"maximize",value:function(){this.renderModule.getApi().send({window:{id:this.id,eventType:et.maximize}})}},{key:"setUndecorated",value:function(t){t?this.renderModule.getApi().send({window:{id:this.id,eventType:et.undecorate}}):this.renderModule.getApi().send({window:{id:this.id,eventType:et.decorate}})}},{key:"isRelocated",value:function(){return this.element.parentElement!==this.renderModule.getApi().cfg.rootElement}},{key:"close",value:function(){this.renderModule.closeWindow(this.id)}},{key:"requestFocus",value:function(){this.renderModule.getApi().send({window:{id:this.id,eventType:et.focus}})}},{key:"restore",value:function(){this.renderModule.getApi().send({window:{id:this.id,eventType:et.restore}})}},{key:"performAction",value:function(t){this.renderModule.performAction(Object(r.l)({windowId:this.id},t))}},{key:"handleActionEvent",value:function(t,e,n){}},{key:"windowClosing",value:function(t){}},{key:"windowClosed",value:function(){}}]),t}(),ut=function(){function t(e,n,r,o,i,a){J(this,t),this.id=e,this.ownerId=n,this.parents=r,this.element=o,this.name=i,this.renderModule=a,Z(this,"htmlWindow",!0),Z(this,"internal",!1),Z(this,"dockMode",it.none),Z(this,"dockState",void 0),Z(this,"ignoreNextPositioning",!1),Z(this,"webswingInstance",void 0),this.webswingInstance=a.getApi().getExternalApi()}return G(t,[{key:"disposeInternal",value:function(){this.element&&(this.element.remove(),this.element=null)}},{key:"validatePositionAndSize",value:function(t,e){this.renderModule.validateAndPositionWindow(this,t,e)}},{key:"isInParentHierarchy",value:function(t){if(!this.parents||0===this.parents.length)return!1;var e,n=q(this.parents);try{for(n.s();!(e=n.n()).done;){if(e.value===t)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"isModalBlocked",value:function(){return!!this.element&&this.element.classList.contains("modal-blocked")}},{key:"performAction",value:function(t){this.renderModule.performAction(Object(r.l)({windowId:this.id},t))}},{key:"dispose",value:function(){this.element&&this.element.remove(),delete this.renderModule.windowImageHolders[this.id],this.renderModule.repaint()}},{key:"handleActionEvent",value:function(t,e,n){}},{key:"windowClosing",value:function(t){}},{key:"windowClosed",value:function(){}}]),t}(),dt=n(107);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wt(t);if(e){var o=wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(t,e){return!e||"object"!==pt(e)&&"function"!=typeof e?mt(t):e}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ot={cfg:"webswing.config",processMessage:"base.processMessage",showDialog:"dialog.show",showBar:"dialog.showBar",hideDialog:"dialog.hide",currentDialog:"dialog.current",dialogs:"dialog.content",reTrySession:"webswing.reTrySession",startPing:"ping.start",disposePing:"ping.dispose",repaint:"render.repaint",setInstanceTab:"dock.setInstanceTab"},Pt=i.commonProto.TabStateMsgInProto.TabStateTypeProto,kt=i.commonProto.TabStateMsgInProto.TabOriginTypeProto,St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(a,t);var e,n,o,i=gt(a);function a(){var t;ft(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bt(mt(t=i.call.apply(i,[this].concat(n))),"maxRetries",1),bt(mt(t),"retryNumber",0),bt(mt(t),"socketOpen",!1),bt(mt(t),"socket",void 0),bt(mt(t),"instanceId",void 0),bt(mt(t),"autoLogout",null),bt(mt(t),"responseHandlers",{}),bt(mt(t),"connectionInfo",void 0),t}return e=a,(n=[{key:"provides",value:function(){return{"socket.connect":this.connect,"socket.send":this.send,"socket.sendHandshake":this.sendHandshake,"socket.sendTimestamp":this.sendTimestamp,"socket.sendPlaybackCommand":this.sendPlaybackCommand,"socket.sendSimpleEvent":this.sendSimpleEvent,"socket.sendTabsUpdate":this.sendTabsUpdate,"socket.instanceId":this.getInstanceId,"socket.awaitResponse":this.awaitResponse,"socket.dispose":this.dispose,"socket.isAutoLogout":this.isAutoLogout,"socket.clearInstanceId":this.clearInstanceId,"socket.getConnectionInfo":this.getConnectionInfo}}},{key:"connect",value:function(){this.connectWebSocket()}},{key:"dispose",value:function(){this.socket&&(this.socket.onclose=null,this.socketOpen=!1,this.socket.close(1e3,"Disconnecting instance.")),this.socket=void 0,this.connectionInfo=void 0}},{key:"send",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create(),n=P.appFrameProtoIn.AppFrameMsgInProto.fromObject(t),r=P.appFrameProtoIn.AppFrameMsgInProto.encode(n).finish();e.appFrameMsgIn=r,this.sendAppFrame(e)}},{key:"sendHandshake",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();e.handshake=t,this.sendAppFrame(e)}},{key:"sendTimestamp",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();e.timestamps=[t],this.sendAppFrame(e)}},{key:"sendSimpleEvent",value:function(t){this.send({simpleEvents:[t]})}},{key:"sendPlaybackCommand",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();e.playback=t,this.sendAppFrame(e)}},{key:"sendTabsUpdate",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();e.tabs=t,this.sendAppFrame(e)}},{key:"awaitResponse",value:function(t,e,n,r){var o=this;this.send(e),this.responseHandlers[n]=t,setTimeout((function(){null!=o.responseHandlers[n]&&(delete o.responseHandlers[n],t(new Error("Java call timed out after "+r+" ms.")))}),r)}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"clearInstanceId",value:function(){this.instanceId=void 0}},{key:"getConnectionInfo",value:function(){var t,e;return{serverId:null===(t=this.connectionInfo)||void 0===t?void 0:t.serverId,sessionPoolId:null===(e=this.connectionInfo)||void 0===e?void 0:e.sessionPoolId,tabId:window.name,instanceId:this.instanceId}}},{key:"sendAppFrame",value:function(t){if(this.socket&&null!=this.socket)if(this.socketOpen){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.encode(t).finish();this.sendAppFrameInternal(e)}else{var n=this.api.currentDialog();if(n===this.api.dialogs.sessionStolenNotification||n===this.api.dialogs.disconnectedDialog||n===this.api.dialogs.reconnectingDialog||n===this.api.dialogs.startingDialog||n===this.api.dialogs.initializingDialog)return;this.api.showDialog(this.api.dialogs.disconnectedDialog)}}},{key:"sendAppFrameInternal",value:function(t){var e,n=this;if(this.socket)switch(this.socket.readyState){case this.socket.OPEN:this.socket.send((e=t).buffer.slice(e.byteOffset,e.byteLength+e.byteOffset));break;case this.socket.CONNECTING:setTimeout((function(){n.sendAppFrameInternal(t)}),10)}}},{key:"connectWebSocket",value:function(){var t=this,e=Object(r.n)(this.api.cfg.connectionUrl);this.api.cfg.mirror&&this.api.cfg.mirrorConnectionUrl&&(e=Object(r.n)(this.api.cfg.mirrorConnectionUrl));var n=e.replace(/(http)(s)?\:\/\//,"ws$2://"),o=n+"async/swing-bin";this.api.cfg.recordingPlayback&&(o=n+"async/swing-play"),o+="?X-webswing-token="+encodeURIComponent(Object(r.s)()),this.api.cfg.recordingPlayback&&(o+="&file="+encodeURIComponent(this.api.cfg.recordingPlayback)),null!=this.api.cfg.args&&(o+="&X-webswing-args="+encodeURIComponent(this.api.cfg.args)),null!=this.api.cfg.recording&&(o+="&X-webswing-recording="+encodeURIComponent(this.api.cfg.recording)),null!=this.api.cfg.debugPort&&(o+="&X-webswing-debugPort="+encodeURIComponent(this.api.cfg.debugPort)),this.api.cfg.mirror&&(o+="&X-webswing-instanceId="+encodeURIComponent(this.api.cfg.clientId)),this.api.cfg.undockedStart&&this.api.cfg.undockedInstanceId&&(o+="&X-webswing-undockedInstanceId="+encodeURIComponent(this.api.cfg.undockedInstanceId)),this.autoLogout=null,this.socket=new WebSocket(o),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){t.socketOpen=!0,t.api.repaint(),t.api.startPing()},this.socket.onmessage=function(e){t.retryNumber=0;var n=(new Date).getTime();try{var r=t.decodeResponse(e.data),o={};if(null!=r.connectionInfo&&(t.connectionInfo=r.connectionInfo,console.log("Connected to:\n\tserver ["+r.connectionInfo.serverId+"]\n\tsession pool ["+r.connectionInfo.sessionPoolId+"]\n\tinstance ["+t.instanceId+"]\n\ttab ["+window.name+"]"),t.autoLogout=r.connectionInfo.autoLogout),r.appFrameMsgOut&&null!=r.appFrameMsgOut){var i=O.appFrameProtoOut.AppFrameMsgOutProto.decode(r.appFrameMsgOut);if(null!=(o=O.appFrameProtoOut.AppFrameMsgOutProto.toObject(i)).instanceId&&(t.instanceId=o.instanceId,t.api.setInstanceTab(t.instanceId,window.name,Pt.Connected,t.api.cfg.undockedStart?kt.Undocked:kt.Primary)),null!=o.javaResponse&&null!=o.javaResponse.correlationId){var a=o.javaResponse.correlationId;if(null!=t.responseHandlers[a]){var s=t.responseHandlers[a];delete t.responseHandlers[a],s(o.javaResponse)}}o.receivedTimestamp=n}t.api.processMessage(o)}catch(t){return void console.error(t.stack)}},this.socket.onclose=function(e){if(t.socketOpen=!1,t.api.disposePing(),t.autoLogout=null,t.api.currentDialog()!==t.api.dialogs.stoppedDialog&&t.api.currentDialog()!==t.api.dialogs.timedoutDialog&&t.api.currentDialog()!==t.api.dialogs.sessionStolenNotification){var n=Object(r.s)(),o=!n||null==n||!n.length,i=1e3===e.code;t.retryNumber>=t.maxRetries||o||i?(t.api.hideDialog(),t.api.showDialog(t.api.dialogs.disconnectedDialog),t.retryNumber=0):(t.api.showDialog(t.api.dialogs.reconnectingDialog),t.retryNumber++,t.api.reTrySession())}},this.socket.onerror=function(){t.api.showDialog(t.api.dialogs.connectionErrorDialog)}}},{key:"decodeResponse",value:function(t){if(1===t.byteLength)return{};var e=new Uint8Array(t),n=dt.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.decode(e);return dt.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.toObject(n)}},{key:"isAutoLogout",value:function(){return null!==this.autoLogout&&this.autoLogout}}])&&ht(e.prototype,n),o&&ht(e,o),a}(o.b);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=At(t);if(e){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?Mt(t):e}function Mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ct={cfg:"webswing.config",start:"webswing.start",disconnect:"webswing.disconnect",showDialog:"dialog.show",dialogs:"dialog.content"},Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(i,t);var e,n,r,o=xt(i);function i(t,e){var n,r,a,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).util=e,r=Mt(n),s=void 0,(a="user")in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,n.init(),n}return e=i,(n=[{key:"provides",value:function(){return{"login.login":this.login,"login.logout":this.logout,"login.touchSession":this.touchSession,"login.user":this.getUser}}},{key:"login",value:function(t,e){var n,r=this;try{n=window.top.location.href}catch(t){n=window.location.href}var o={securityToken:this.api.cfg.securityToken,realm:this.api.cfg.realm,successUrl:n};this.util.webswingLogin(this.api.cfg.connectionUrl,(function(){return r.api.showDialog(r.api.dialogs.emptyMessage)}),o,(function(e,n){localStorage.setItem("webswingLogin",Date.now().toString()),r.user=n,null!=t&&t()}),e)}},{key:"logout",value:function(t){var e=this,n=this.api.showDialog(this.api.dialogs.logingOut);this.util.webswingLogout(this.api.cfg.connectionUrl,n,(function(){e.api.disconnect(),e.api.start()}),(function(){e.api.showDialog(e.api.dialogs.disconnectedDialog)}),t)}},{key:"touchSession",value:function(t){var e=this;this.util.refreshLogin(this.api.cfg.connectionUrl,(function(n){n||e.logout(t)}))}},{key:"getUser",value:function(){return this.user}},{key:"init",value:function(){var t=this;window.addEventListener("storage",(function(e){return t.tabLogout(e)}))}},{key:"tabLogout",value:function(t){"webswingLogout"===t.key?this.touchSession(!0):"webswingLogin"===t.key&&this.touchSession()}}])&&Et(e.prototype,n),r&&Et(e,r),i}(o.b);function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nt(t);if(e){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(t,e){return!e||"object"!==Rt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(a,t);var e,n,o,i=_t(a);function a(){return Ft(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"provides",value:function(){return{"identity.get":this.get,"identity.dispose":this.dispose}}},{key:"get",value:function(){var t=Object(r.z)("webswingID");return null!=t||(t=Object(r.b)(),Object(r.e)("webswingID",t,1)),t}},{key:"dispose",value:function(){Object(r.k)("webswingID")}}])&&Bt(e.prototype,n),o&&Bt(e,o),a}(o.b);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vt(t);if(e){var o=Vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(t,e){return!e||"object"!==qt(e)&&"function"!=typeof e?Kt(t):e}function Kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vt(t){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zt={cfg:"webswing.config",external:"external.api",send:"socket.send",awaitResponse:"socket.awaitResponse"},te=O.appFrameProtoOut.JsEvalRequestMsgOutProto.JsEvalRequestTypeProto,ee="__webswing_jslink_id",ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(a,t);var e,n,o,i=Xt(a);function a(){var t;Jt(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Qt(Kt(t=i.call.apply(i,[this].concat(n))),"referenceCache",{}),Qt(Kt(t),"ready",(function(){t.referenceCache.instanceObject=t.api.external()})),t}return e=a,(n=[{key:"provides",value:function(){return{"jslink.process":this.process}}},{key:"process",value:function(t){var e=this,n={};try{if(null==t.evalString)return;if(t.type===te.eval){var r=(0,eval)(t.evalString);n=this.buildResponse(r,t.correlationId)}else if(t.type===te.call){var o=null!=t.thisObjectId?this.referenceCache[t.thisObjectId]:window,i=this.decodeParams(t),a=o[t.evalString].apply(o,i);n=this.buildResponse(a,t.correlationId)}else if(t.type===te.setMember||t.type===te.setSlot){var s=null!=t.thisObjectId?this.referenceCache[t.thisObjectId]:window,c=this.decodeParams(t);s[t.evalString]=null!=c?c[0]:null,n=this.buildResponse(null,t.correlationId)}else if(t.type===te.getMember||t.type===te.getSlot){var l=null!=t.thisObjectId?this.referenceCache[t.thisObjectId]:window;n=this.buildResponse(l[t.evalString],t.correlationId)}else t.type===te.deleteMember&&(delete(null!=t.thisObjectId?this.referenceCache[t.thisObjectId]:window)[t.evalString],n=this.buildResponse(null,t.correlationId));null!=t.garbageIds&&t.garbageIds.forEach((function(t){delete e.referenceCache[t]})),this.api.send(n)}catch(e){throw n=this.buildResponse(e,t.correlationId),this.api.send(n),e}}},{key:"buildResponse",value:function(t,e){var n={jsResponse:this.serializeObject(t)};return n.jsResponse.correlationId=e,n}},{key:"serializeObject",value:function(t){var e={};return null==t?(e.value=null,e):"[object Error]"===Object.prototype.toString.call(t)?(e.error=t.toString(),e):(e.value={},"number"==typeof t||"string"==typeof t||"boolean"==typeof t?e.value.primitive=JSON.stringify(t):t instanceof re?e.value.javaObject={id:t.id}:(null==t[ee]&&(t[ee]=Object(r.b)(),this.referenceCache[t[ee]]=t),e.value.jsObject={id:t[ee]}),e)}},{key:"decodeParams",value:function(t){var e=[],n=t.params;if(null!=n){var r,o=Ut(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.push(this.decodeJsParam(i))}}catch(t){o.e(t)}finally{o.f()}}return e}},{key:"decodeJsParam",value:function(t){if(null!=t.primitive)return JSON.parse(t.primitive);if(null!=t.jsObject&&null!=t.jsObject.id)return this.referenceCache[t.jsObject.id];if(null!=t.javaObject)return new re(t.javaObject,this,this.api);if(null!=t.array){var e,n=[],r=Ut(t.array);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(this.decodeJsParam(o))}}catch(t){r.e(t)}finally{r.f()}return n}return null}}])&&Yt(e.prototype,n),o&&Yt(e,o),a}(o.b),re=function t(e,n,o){if(Jt(this,t),Qt(this,"id",void 0),this.id=e.id,null!=e.methods){var i,a=Ut(e.methods);try{for(a.s();!(i=a.n()).done;){var s=i.value;this[s]=function(t){return function(){var i=arguments;return new Promise((function(a,s){for(var c=Object(r.b)(),l=[],u=0;u<i.length;u++){var d=n.serializeObject(i[u]);l[u]=d.value}var p={javaRequest:{correlationId:c,objectId:e.id,method:t,params:l}};o.awaitResponse((function(t){"[object Error]"===Object.prototype.toString.call(t)?s(t):null!=t.error?s(new Error(t.error)):null!=t.value&&a(n.decodeJsParam(t.value))}),p,c,o.cfg.javaCallTimeout)}))}}(s)}}catch(t){a.e(t)}finally{a.f()}}},oe=n(363),ie=n.n(oe),ae=n(364),se=n.n(ae);function ce(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){s=!0,i=t})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ve(t);if(e){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(t,e){return!e||"object"!==ue(e)&&"function"!=typeof e?ge(t):e}function ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var we={cfg:"webswing.config",send:"socket.send",focusDefault:"focusManager.focusDefault",translate:"translate.translate"},be=P.appFrameProtoIn.CopyEventMsgInProto.CopyEventMsgTypeProto,Oe=window,Pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(a,t);var e,n,o,i=he(a);function a(){var t;de(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return me(ge(t=i.call.apply(i,[this].concat(n))),"html",void 0),me(ge(t),"pasteHtml",void 0),me(ge(t),"copyBar",void 0),me(ge(t),"pasteDialog",void 0),me(ge(t),"ready",(function(){t.html=t.api.translate(ie.a),t.pasteHtml=t.api.translate(se.a)})),t}return e=a,(n=[{key:"provides",value:function(){return{"clipboard.cut":this.cut,"clipboard.copy":this.copy,"clipboard.paste":this.paste,"clipboard.displayCopyBar":this.displayCopyBar,"clipboard.displayPasteDialog":this.displayPasteDialog,"clipboard.dispose":this.close}}},{key:"cut",value:function(t){this.copy(t,!0)}},{key:"copy",value:function(t,e){if(null==this.copyBar){var n;this.api.cfg.ieVersion&&this.api.cfg.ieVersion<=11?Oe.clipboardData.setData("Text",""):null===(n=t.clipboardData)||void 0===n||n.setData("text/plain",""),this.api.send({copy:{type:!0===e?be.cut:be.copy}})}else{var o=this.copyBar.wsEventData;if(this.api.cfg.ieVersion&&this.api.cfg.ieVersion<=11){var i=Oe.clipboardData;null!=(null==o?void 0:o.text)&&(t.preventDefault(),i.setData("Text",o.text)),this.close()}else{var a,s;if((t=t.originalEvent||t).preventDefault(),null!=(null==o?void 0:o.text)&&(null===(a=t.clipboardData)||void 0===a||a.setData("text/plain",o.text)),null==(null==o?void 0:o.html)||this.api.cfg.ieVersion||null===(s=t.clipboardData)||void 0===s||s.setData("text/html",o.html),null!=(null==o?void 0:o.img)&&Object(r.g)())try{var c=Object(r.p)(o.img);r.a.fetch(c).then((function(t){return t.blob()})).then((function(t){return navigator.clipboard.write([new ClipboardItem({"image/png":t})])}))}catch(t){console.error("Failed copying image to clipboard: "+t)}this.close()}}}},{key:"paste",value:function(t,e){var n=this;if(this.api.cfg.hasControl){var r=function(){var r="",o="";if(n.api.cfg.ieVersion&&n.api.cfg.ieVersion<=11)r=Oe.clipboardData.getData("Text"),o=r;else{var i=t.clipboardData;if(r=null==i?void 0:i.getData("text/plain"),o=null==i?void 0:i.getData("text/html"),null!=(null==i?void 0:i.items))for(var a=0;a<i.items.length;a++)if(0===i.items[a].type.indexOf("image")){var s=i.items[a],c=new FileReader;c.onload=function(t){var i;n.sendPasteEvent(e,r,o,null===(i=t.target)||void 0===i?void 0:i.result)};var l=s.getAsFile();return l&&c.readAsDataURL(l),{v:void 0}}}n.sendPasteEvent(e,r,o)}();if("object"===ue(r))return r.v}}},{key:"sendPasteEvent",value:function(t,e,n,r){var o={special:!!t,text:null!=e&&0!==e.length?e:void 0,html:null!=n&&0!==n.length?n:void 0,img:null!=r?r:void 0};this.api.send({paste:o})}},{key:"displayCopyBar",value:function(t){var e=this;null!=this.copyBar&&this.close();var n=document.querySelector(".webswing-element-content");n.insertAdjacentHTML("beforeend",this.html),this.copyBar=n.querySelector('div[data-id="copyBar"]'),this.copyBar.wsEventData=t;var o=this.copyBar.querySelector('button[data-id="closeBtn"]');null==o||o.addEventListener("click",(function(){e.close()})),Object(r.B)(this.copyBar);var i=function(t,n){var r,o,i,a,s,c;null===(r=e.copyBar)||void 0===r||null===(o=r.querySelector(".ws-btn--selected"))||void 0===o||o.classList.remove("ws-btn--selected"),null===(i=e.copyBar)||void 0===i||null===(a=i.querySelector(".ws-clipboard-item--active"))||void 0===a||a.classList.remove("ws-clipboard-item--active"),t.classList.add("ws-btn--selected"),null===(s=e.copyBar)||void 0===s||null===(c=s.querySelector('div[data-id="'+n+'"]'))||void 0===c||c.classList.add("ws-clipboard-item--active")},a=this.copyBar.querySelector('button[data-id="text"]');if(Object(r.v)())a.textContent="Copy to clipboard";else if(this.api.cfg.isMac){var s=document.createElement("p");s.textContent="Copy to clipboard with CMD+C",a.after(s),a.remove(),a=s}if(null!=t.text&&0!==t.text.length||null!=t.html&&0!==t.html.length){var c=this.copyBar.querySelector('div[data-id="textarea"]');null!=t.text&&0!==t.text.length?c.insertAdjacentHTML("beforeend",'<pre class="ws-clipboard-text-pre">'+t.text+"</pre>"):c.innerHTML='<iframe class="ws-clipboard-text-iframe" src="data:text/html;charset=utf-8,'+encodeURIComponent(t.html?t.html:"")+'"></iframe>',a.addEventListener("mouseenter",(function(){i(a,"text"),e.maximize()}))}if(a.addEventListener("click",(function(){if(Object(r.v)()){var t=document.createElement("textarea");try{t.setAttribute("readonly","false"),t.setAttribute("contenteditable","true"),t.style.position="fixed",t.value=" ",document.body.appendChild(t),t.focus(),t.select();var e=document.createRange();e.selectNodeContents(t);var n=window.getSelection();null==n||n.removeAllRanges(),null==n||n.addRange(e),t.setSelectionRange(0,t.value.length),document.execCommand("copy")}finally{document.body.removeChild(t)}}else document.execCommand("copy")})),null!=t.files&&0!==t.files.length||null!=t.img){if(null!=t.files&&0!==t.files.length){var l,u=this.copyBar.querySelector("#wsFileList"),d=ce(t.files);try{for(d.s();!(l=d.n()).done;){var p=l.value,f=document.createElement("a");0===p.indexOf("#")?(f=document.createElement("span")).innerHTML=p.substring(1):(f.innerHTML=p,f.addEventListener("click",(function(t){e.api.send({copy:{type:be.getFileFromClipboard,file:t.currentTarget.innerHTML}})}))),null==u||u.appendChild(f),u.insertAdjacentHTML("beforeend","<br/>")}}catch(t){d.e(t)}finally{d.f()}}else{var h;null===(h=this.copyBar.querySelector('div[data-id="files"]'))||void 0===h||h.remove()}if(null!=t.img){var y=Object(r.p)(t.img);this.copyBar.querySelector('div[data-id="image"]').insertAdjacentHTML("beforeend",'<a target="_blank" download="clipboard.png" href="'+y+'"><img src="'+y+'" id="wsCopyImage" class="ws-clipboard-img-thumb"></a>')}else{var g;null===(g=this.copyBar.querySelector('div[data-id="image"]'))||void 0===g||g.remove()}var v=this.copyBar.querySelector('button[data-id="more"]');v.addEventListener("mouseenter",(function(){i(v,"more"),e.maximize()}))}else this.copyBar.querySelector('button[data-id="more"]').remove();if(Object(r.t)(this.copyBar.querySelector('div[data-id="contentBar"]')),null!=t.text&&0!==t.text.length||null!=t.html&&0!==t.html.length||Object(r.g)()&&null!=t.img)this.copyBar.addEventListener("mouseleave",(function(){return e.minimize()}));else if(null!=t.files&&0!==t.files.length||null!=t.img){var m=this.copyBar.querySelector('button[data-id="more"]');i(m,"more"),a.remove(),m.remove(),this.maximize()}else this.close()}},{key:"minimize",value:function(){var t,e,n=null===(t=this.copyBar)||void 0===t?void 0:t.querySelector('div[data-id="contentBar"]');null!=this.copyBar&&(null===(e=this.copyBar.querySelector(".ws-btn--selected"))||void 0===e||e.classList.remove("ws-btn--selected"),Object(r.t)(n),this.copyBar.minimized=!0),this.api.focusDefault()}},{key:"maximize",value:function(){var t,e=null===(t=this.copyBar)||void 0===t?void 0:t.querySelector('div[data-id="contentBar"]');null!=this.copyBar&&(Object(r.B)(e),this.copyBar.minimized=!1)}},{key:"close",value:function(){null!=this.copyBar&&(Object(r.t)(this.copyBar),this.copyBar.remove(),this.copyBar=void 0),this.api.focusDefault()}},{key:"displayPasteDialog",value:function(t){var e,n,r,o=this;null!=this.pasteDialog&&this.closePasteDialog();var i=document.querySelector(".webswing-element-content");i.insertAdjacentHTML("beforeend",this.pasteHtml),this.pasteDialog=i.querySelector('div[data-id="pasteDialog"]'),(null===(e=this.pasteDialog)||void 0===e?void 0:e.querySelector('div[data-id="title"]')).innerHTML=this.api.translate(t.title?t.title:""),(null===(n=this.pasteDialog)||void 0===n?void 0:n.querySelector('div[data-id="message"]')).innerHTML=this.api.translate(t.message?t.message:"");var a=null===(r=this.pasteDialog)||void 0===r?void 0:r.querySelector('textarea[data-id="textarea"]');a.focus(),a.addEventListener("paste",(function(t){return t.preventDefault(),t.stopPropagation(),o.paste(t,!1),o.closePasteDialog(),!1}));var s=this.pasteDialog.querySelector('button[data-id="closeBtn"]');null==s||s.addEventListener("click",(function(){o.api.send({paste:{}}),o.closePasteDialog()}))}},{key:"closePasteDialog",value:function(){null!=this.pasteDialog&&(Object(r.B)(this.pasteDialog),this.pasteDialog.remove(),this.pasteDialog=void 0),this.api.focusDefault()}}])&&pe(e.prototype,n),o&&pe(e,o),a}(o.b),ke=n(365),Se=n.n(ke);function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xe(t,e){return(xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ce(t);if(e){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?Ae(t):e}function Ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ce(t){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function De(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Re={cfg:"webswing.config",sendPlaybackCommand:"socket.sendPlaybackCommand",getCanvas:"canvas.get"},Fe=dt.serverBrowserFrameProto.PlaybackCommandMsgInProto.PlaybackCommandProto,Be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xe(t,e)}(i,t);var e,n,r,o=Te(i);function i(){var t;Ee(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return De(Ae(t=o.call.apply(o,[this].concat(n))),"playbackBar",void 0),De(Ae(t),"ready",(function(){t.api.cfg.recordingPlayback&&t.showControls()})),t}return e=i,(n=[{key:"provides",value:function(){return{"playback.playbackInfo":this.playbackInfo,"playback.showControls":this.showControls}}},{key:"playbackInfo",value:function(t){if(null!=this.playbackBar&&null!=t.playback){var e,n=t.playback;e=n.current&&n.total?parseInt(""+n.current/n.total*100,10):0,this.playbackBar.querySelector(".ws-progress-bar").style.width=e+"%",this.playbackBar.querySelector('span[data-id="current"]').innerHTML=n.current?n.current+"":"0",this.playbackBar.querySelector('span[data-id="total"]').innerHTML=n.total?n.total+"":"0"}}},{key:"showControls",value:function(){var t,e,n,r,o,i=this;this.api.cfg.rootElement.insertAdjacentHTML("beforeend",Se.a),this.playbackBar=this.api.cfg.rootElement.querySelector('div[data-id="playbackBar"]'),this.playbackBar.querySelector('button[data-id="reset"]').addEventListener("click",(function(){var t;i.api.getCanvas().getContext("2d").clearRect(0,0,i.api.getCanvas().width,i.api.getCanvas().height),null===(t=document.querySelector("canvas.webswing-canvas:not([data-id=canvas])"))||void 0===t||t.remove(),i.sendCommand(Fe.reset)})),null===(t=this.playbackBar.querySelector('button[data-id="play"]'))||void 0===t||t.addEventListener("click",(function(){i.sendCommand(Fe.play)})),null===(e=this.playbackBar.querySelector('button[data-id="stop"]'))||void 0===e||e.addEventListener("click",(function(){i.sendCommand(Fe.stop)})),null===(n=this.playbackBar.querySelector('button[data-id="step"]'))||void 0===n||n.addEventListener("click",(function(){i.sendCommand(Fe.step)})),null===(r=this.playbackBar.querySelector('button[data-id="10step"]'))||void 0===r||r.addEventListener("click",(function(){i.sendCommand(Fe.step10)})),null===(o=this.playbackBar.querySelector('button[data-id="100step"]'))||void 0===o||o.addEventListener("click",(function(){i.sendCommand(Fe.step100)})),this.playbackBar.style.display=""}},{key:"sendCommand",value:function(t){this.api.sendPlaybackCommand({command:t})}}])&&je(e.prototype,n),r&&je(e,r),i}(o.b),Le=n(108);function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function He(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ge(t);if(e){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(t,e){return!e||"object"!==_e(e)&&"function"!=typeof e?Ye(t):e}function Ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $e={cfg:"webswing.config",sendTimestamp:"socket.sendTimestamp",showWarning:"dialog.showNetworkBar",hideWarning:"dialog.hideNetworkBar",dialogContent:"dialog.content"},Ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ue(t,e)}(a,t);var e,n,o,i=ze(a);function a(){var t;He(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Xe(Ye(t=i.call.apply(i,[this].concat(n))),"intervalHandle",void 0),Xe(Ye(t),"worker",void 0),Xe(Ye(t),"ping",void 0),Xe(Ye(t),"severity",void 0),Xe(Ye(t),"mute",void 0),Xe(Ye(t),"count",6),Xe(Ye(t),"interval",5),Xe(Ye(t),"maxLatency",500),Xe(Ye(t),"notifyIf",3),Xe(Ye(t),"ready",(function(){var e=t.api.cfg.pingParams;null!=e&&(t.count=e.count||t.count,t.interval=e.interval||t.interval,t.maxLatency=e.maxLatency||t.maxLatency,t.notifyIf=e.notifyIf||t.notifyIf)})),t}return e=a,(n=[{key:"provides",value:function(){return{"ping.mutePingWarning":this.mutePingWarning,"ping.start":this.start,"ping.dispose":this.dispose}}},{key:"mutePingWarning",value:function(t){this.mute=t}},{key:"start",value:function(){var t=this;if(!this.worker){this.mute=0,this.ping=Ve(this.count);var e=Object(r.n)(this.api.cfg.connectionUrl),n=URL.createObjectURL(new Blob(["onmessage=(",Qe.toString(),')("'+e+'",'+this.interval+")"],{type:"application/javascript"}));this.worker=new Worker(n),this.worker.onmessage=function(e){var n,r=JSON.parse(e.data);null===(n=t.ping)||void 0===n||n.push(r),"ok"===r.result&&(t.api.sendTimestamp({ping:r.latency}),2===t.severity&&(t.ping=Ve(t.count))),t.evaluateNetworkStatus()},this.intervalHandle=setInterval((function(){var e;null===(e=t.worker)||void 0===e||e.postMessage("doPing")}),1e3*this.interval)}}},{key:"dispose",value:function(){null!=this.worker&&(this.worker.terminate(),this.worker=void 0),null!=this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=null)}},{key:"evaluateNetworkStatus",value:function(){var t=null,e=0,n=0;if(this.ping){var r,o=We(this.ping);try{for(o.s();!(r=o.n()).done;){var i=r.value;"error"===i.result||"timeout"===i.result?(e++,n++):i.latency>this.maxLatency&&e++}}catch(t){o.e(t)}finally{o.f()}}n===this.count?(t=this.api.dialogContent.networkOfflineWarningDialog,this.severity=2):e>=this.notifyIf?(t=this.api.dialogContent.networkSlowWarningDialog,this.severity=1):this.severity=0,null!=t&&this.severity!==this.mute?this.api.showWarning(t):this.api.hideWarning()}}])&&qe(e.prototype,n),o&&qe(e,o),a}(o.b);function Ve(t){var e=new Array;return e.push=function(){return this.length>=t&&this.shift(),Array.prototype.push.apply(this,arguments)},e}function Qe(t,e){var n=1e3*e;function r(t,e){var n={result:t,latency:e};postMessage(JSON.stringify(n),void 0)}return function(e){var o,i;"doPing"===e.data&&(o=(new Date).getTime(),(i=new XMLHttpRequest).addEventListener("load",(function(){r("ok",(new Date).getTime()-o)})),i.addEventListener("error",(function(){r("error",(new Date).getTime()-o)})),i.addEventListener("timeout",(function(){r("timeout",(new Date).getTime()-o)})),i.open("GET",t+"rest/ping"),i.timeout=n,i.send())}}function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e){return(nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=an(t);if(e){var o=an(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)}}function on(t,e){return!e||"object"!==Ze(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function an(t){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sn={start:"webswing.start",disconnect:"webswing.disconnect",configure:"webswing.configure",kill:"base.kill",setControl:"webswing.setControl",repaint:"render.repaint",instanceId:"socket.instanceId",requestComponentTree:"base.requestComponentTree",getWindows:"render.getWindows",getRenderedWindows:"render.getRenderedWindows",getWindowById:"render.getWindowById",performAction:"render.performAction",logout:"login.logout",getConnectionInfo:"socket.getConnectionInfo"},cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(i,t);var e,n,r,o=rn(i);function i(){return tn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"provides",value:function(){return{"external.api":this.getApi}}},{key:"getApi",value:function(){return this.api}}])&&en(e.prototype,n),r&&en(e,r),i}(o.b),ln=n(366),un=n.n(ln);function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t){return function(t){if(Array.isArray(t))return fn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hn(Object(n),!0).forEach((function(e){kn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mn(t,e){return(mn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pn(t);if(e){var o=Pn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bn(this,n)}}function bn(t,e){return!e||"object"!==dn(e)&&"function"!=typeof e?On(t):e}function On(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sn={cfg:"webswing.config",send:"socket.send",translate:"translate.translate",sendHandshake:"base.handshake",closeWindow:"render.closeWindow",focusDefault:"focusManager.focusDefault"},In=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mn(t,e)}(a,t);var e,n,o,i=wn(a);function a(){var t;gn(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return kn(On(t=i.call.apply(i,[this].concat(n))),"switcherHtml",void 0),kn(On(t),"enabled",!1),kn(On(t),"ariaBusyTimeout",void 0),kn(On(t),"windowSwitcher",null),kn(On(t),"ready",(function(){window.localStorage&&("true"===localStorage.getItem("accessibilityEnabled")&&t.toggle(!0));t.switcherHtml=t.api.translate(un.a)})),t}return e=a,(n=[{key:"provides",value:function(){return{"accessible.dispose":this.dispose,"accessible.toggle":this.toggle,"accessible.isEnabled":this.isEnabled,"accessible.handleAccessible":this.handleAccessible,"accessible.showWindowSwitcher":this.showWindowSwitcher,"accessible.checkCanvasAccessibleInfo":this.checkCanvasAccessibleInfo}}},{key:"toggle",value:function(t){this.enabled=!this.enabled,this.api.sendHandshake(),this.enabled?t||(localStorage.setItem("accessibilityEnabled","true"),this.init()):(localStorage.setItem("accessibilityEnabled","false"),this.destroy())}},{key:"init",value:function(){var t=this,e=document.querySelector(".webswing-element-content");setTimeout((function(){e.querySelectorAll("#ws-aria-live-log")[0]&&(e.querySelectorAll("#ws-aria-live-log")[0].textContent=t.api.translate("accessibility.turnedOn"))}),30)}},{key:"dispose",value:function(){this.removeAllAriaElements()}},{key:"destroy",value:function(){var t=document.querySelector(".webswing-element-content");Dn(t)&&(Dn(t).textContent=this.api.translate("accessibility.turnedOff")),this.removeAllAriaElements(),this.api.focusDefault()}},{key:"removeAllAriaElements",value:function(){var t;null===(t=document.querySelectorAll(".aria-element, .aria-parent"))||void 0===t||t.forEach((function(t){t.remove()}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"handleAccessible",value:function(t,e){var n=this;if(this.enabled){null!=this.ariaBusyTimeout&&clearTimeout(this.ariaBusyTimeout);var o=250;"textbox"===t.role&&(o=1),this.ariaBusyTimeout=setTimeout((function(){var o,i,a=yn(yn({},t),{},{rootElement:e});switch(n.ariaBusyTimeout=void 0,a.role){case"button":En(a);break;case"decorationbutton":!function(t,e){t.role="button",t.text=e,En(t)}(a,n.api.translate(a.text||""));break;case"checkbox":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("aria-label",t.text),r.textContent=t.text,r.setAttribute("aria-checked",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))),xn(r,t)}(a);break;case"menuitemcheckbox":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("role","menu"),r.setAttribute("aria-owns","aria-menuitemcheckbox"),r.classList.remove("focusable");var o=document.createElement("div");o.classList.add("aria-element","focusable"),o.setAttribute("tabindex","0"),o.id="aria-menuitemcheckbox",o.setAttribute("role","menuitemcheckbox"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-checked",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))),o.setAttribute("aria-haspopup",String(!1)),o.setAttribute("aria-setsize",t.size.toString()),o.setAttribute("aria-posinset",t.position.toString()),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",An(t,o),r.matches(".new")&&Tn(r,t.rootElement)}(a);break;case"combobox":!function(t){var e,n=t.id,r=Rn("div","aria-element-"+n,["aria-element","aria-id","new","focusable"]),o=Mn(n,t.rootElement)||r;if(o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-controls","aria-listbox"),o.setAttribute("aria-haspopup","listbox"),o.setAttribute("aria-expanded",String(null!=t.states&&-1!==t.states.indexOf("EXPANDED"))),o.querySelectorAll("#aria-listbox").length?(e=o.querySelector("#aria-listbox")).innerHTML="":((e=document.createElement("ul")).setAttribute("role","listbox"),e.id="aria-listbox",e.style.listStyleType="none",o.appendChild(e)),null!=t.size&&t.size>0){var i=document.createElement("li");i.setAttribute("role","option"),i.id="aria-option",i.textContent=t.value,i.setAttribute("aria-selected",String(!0)),i.setAttribute("aria-setsize",String(t.size)),i.setAttribute("aria-posinset",String(t.position)),e.appendChild(i),o.setAttribute("aria-activedescendant","aria-option")}xn(o,t)}(a);break;case"progressbar":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("aria-valuemin",String(t.min)),r.setAttribute("aria-valuemax",String(t.max)),r.setAttribute("aria-valuetext",String(t.val)),r.setAttribute("aria-valuenow",String(t.val)),r.setAttribute("aria-label",t.text),xn(r,t)}(a);break;case"radio":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("aria-setsize",String(t.size)),r.setAttribute("aria-posinset",String(t.position)),r.setAttribute("aria-label",t.text),r.textContent=t.text,r.setAttribute("aria-checked",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))),xn(r,t)}(a);break;case"menuitemradio":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("role","menu"),r.setAttribute("aria-owns","aria-menuitemradio"),r.removeAttribute("focusable");var o=Rn("div","aria-menuitemradio",["aria-element","focusable"]);o.setAttribute("role","menuitemradio"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-checked",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))),o.setAttribute("aria-haspopup","false"),o.setAttribute("aria-setsize",String(t.size)),o.setAttribute("aria-posinset",String(t.position)),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",An(t,o),r.matches(".new")&&Tn(r,t.rootElement)}(a);break;case"scrollbar":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("aria-valuemin",String(t.min)),r.setAttribute("aria-valuemax",String(t.max)),r.setAttribute("aria-valuenow",String(t.val)),null!=t.states&&-1!==t.states.indexOf("VERTICAL")?r.setAttribute("aria-orientation","vertical"):null!=t.states&&-1!==t.states.indexOf("HORIZONTAL")&&r.setAttribute("aria-orientation","horizontal"),xn(r,t)}(a);break;case"slider":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("aria-valuemin",String(t.min)),r.setAttribute("aria-valuemax",String(t.max)),r.setAttribute("aria-valuetext",String(t.val)),r.setAttribute("aria-valuenow",String(t.val)),r.setAttribute("aria-label",t.text),xn(r,t)}(a);break;case"label":!function(t){Dn(t.rootElement).textContent=t.text}(a);break;case"tooltip":!function(t){var e=t.text;e&&0!==e.length||(e=t.description),e&&e.length>0&&(Dn(t.rootElement).textContent=e)}(a);break;case"tab":case"tablist":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("role","tab"),r.setAttribute("aria-label",t.text),r.textContent=t.text,r.setAttribute("aria-selected",String(null!=t.states&&-1!==t.states.indexOf("SELECTED"))),null!=t.size&&t.size>0&&(r.setAttribute("aria-setsize",String(t.size)),r.setAttribute("aria-posinset",String(t.position))),r.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",An(t,r),r.matches(".new")&&Tn(r,t.rootElement)}(a);break;case"list":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("aria-label",t.text),r.textContent=t.text,r.setAttribute("aria-multiselectable",String(null!=t.states&&-1!==t.states.indexOf("MULTISELECTABLE"))),xn(r,t)}(a);break;case"listitem":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("role","listbox"),r.setAttribute("aria-owns","aria-listitem"),r.classList.remove("focusable"),r.setAttribute("aria-multiselectable",String(null!=t.states&&-1!==t.states.indexOf("MULTISELECTABLE")));var o=Rn("div","aria-listitem",["aria-element","focusable"]);o.setAttribute("role","option"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-selected",String(null!=t.states&&-1!==t.states.indexOf("SELECTED"))),o.setAttribute("aria-setsize",String(t.size)),o.setAttribute("aria-posinset",String(t.position)),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",An(t,o),r.matches(".new")&&Tn(r,t.rootElement)}(a);break;case"treeitem":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new"]),r=Mn(e,t.rootElement)||n;r.setAttribute("role","tree"),r.setAttribute("aria-owns","aria-treeitem"),r.classList.remove("focusable"),r.setAttribute("aria-multiselectable",String(null!=t.states&&-1!==t.states.indexOf("MULTISELECTABLE")));var o=Rn("div","aria-treeitem",["aria-element","focusable"]);o.setAttribute("role","treeitem"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-selected",String(null!=t.states&&-1!==t.states.indexOf("SELECTED"))),o.setAttribute("aria-expanded",String(null!=t.states&&-1!==t.states.indexOf("EXPANDED"))),o.setAttribute("aria-level",String(t.level)),o.setAttribute("aria-setsize",String(t.size)),o.setAttribute("aria-posinset",String(t.position)),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",An(t,o),r.matches(".new")&&Tn(r,t.rootElement)}(a);break;case"gridcell":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new"]),r=Mn(e,t.rootElement)||n;r.setAttribute("role","grid"),r.setAttribute("aria-owns","aria-chrow aria-row"),r.removeAttribute("focusable"),r.setAttribute("aria-rowcount",String(t.rowcount)),r.setAttribute("aria-colcount",String(t.colcount)),r.setAttribute("aria-multiselectable",String(null!=t.states&&-1!==t.states.indexOf("MULTISELECTABLE")));var o=Rn("div","aria-chrow",["aria-element","focusable"]);o.setAttribute("role","row"),o.setAttribute("aria-owns","aria-columnheader");var i=Rn("div","aria-columnheader",["aria-element","focusable"]);i.setAttribute("role","columnheader"),i.setAttribute("aria-label",t.columnheader),i.textContent=t.columnheader,i.setAttribute("aria-colindex",String(t.colindex));var a=Rn("div","aria-row",["aria-element","focusable"]);a.setAttribute("role","row"),a.setAttribute("aria-owns","aria-cell");var s=Rn("div","aria-cell",["aria-element","focusable"]);s.setAttribute("role","gridcell"),s.setAttribute("aria-label",t.text),s.textContent=t.text,s.setAttribute("aria-selected",String(null!=t.states&&-1!==t.states.indexOf("SELECTED"))),s.setAttribute("aria-readonly",String(null!=t.states&&-1===t.states.indexOf("EDITABLE"))),s.setAttribute("aria-colindex",String(t.colindex)),s.setAttribute("aria-rowindex",String(t.rowindex)),s.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",o.appendChild(i),r.appendChild(o),a.appendChild(s),r.appendChild(a),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",An(t,s),r.matches(".new")&&Tn(r,t.rootElement)}(a);break;case"textbox":!function(t){var e,n=t.id;if(null!=t.states&&-1===t.states.indexOf("SINGLE_LINE")){var r=Rn("textarea","aria-element-"+n,["aria-element","aria-id","new","focusable"]);(e=Mn(n,t.rootElement)||r).setAttribute("aria-multiline","true"),e.value=t.text}else{var o=Rn("input","aria-element-"+n,["aria-element","aria-id","new","focusable"]);o.setAttribute("spellcheck","false"),o.setAttribute("autocomplete","off"),t.password?(o.setAttribute("type","password"),e=Mn(n,t.rootElement)||o):(o.setAttribute("type","text"),e=Mn(n,t.rootElement)||o),e.setAttribute("aria-multiline","false");var i=" ";t.text&&t.text.length&&(i=t.text),e.value=i}t.rows&&(e.setAttribute("rows",String(t.rows)),e.style.lineHeight=t.rowheight+"px"),null!=t.selstart&&t.selstart>=0&&e.setSelectionRange(t.selstart,t.selend),e.setAttribute("aria-readonly",String(null!=t.states&&-1===t.states.indexOf("EDITABLE"))),xn(e,t)}(a);break;case"img":!function(t){var e=t.text;e&&0!==e.length||(e=t.description);var n=t.id,r=Rn("div","aria-element-"+n,["aria-element","aria-id","new","focusable"]),o=Mn(n,t.rootElement)||r;o.setAttribute("aria-label",e),xn(o,t)}(a);break;case"menuitem":!function(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;r.setAttribute("role","menu"),r.setAttribute("aria-owns","aria-menuitem"),r.removeAttribute("focusable");var o=Rn("div","aria-menuitem",["aria-element","focusable"]);o.setAttribute("role","menuitem"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-setsize",String(t.size)),o.setAttribute("aria-posinset",String(t.position)),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",An(t,o),r.matches(".new")&&Tn(r,t.rootElement)}(a);break;case"menu":case"tree":case"menubar":case"table":case"panel":case"alertdialog":case"dialog":default:jn(a)}e.querySelectorAll(".aria-element.aria-id.new").length>0&&(null===(i=e.querySelectorAll(".aria-element.aria-id:not(.new)"))||void 0===i||i.forEach((function(t){t.remove()}))),null===(o=e.querySelectorAll(".aria-element.aria-id.new"))||void 0===o||o.forEach((function(t){t.classList.remove("new")})),function(t){var e=t.hierarchy,n=t.rootElement.querySelector(".aria-element.aria-id");if(e&&0!==e.length){for(var o=t.rootElement.querySelectorAll(".aria-parent"),i=0;i<e.length;i++){var a=e[i],s=void 0;if(o.length<=i)s=n;else{var c=o[i];if(Cn(c,a))continue;(s=c.children[0])&&Object(r.D)(c)}var l=document.createElement("div");l.classList.add("aria-parent"),l.id="aria-parent-"+a.id,s&&Object(r.E)(l,s),(l=t.rootElement.querySelector("#aria-parent-"+a.id))&&(l.setAttribute("role",a.role),l.setAttribute("aria-label",a.text),null!=a.size&&(l.setAttribute("aria-setsize",a.size.toString()),l.setAttribute("aria-posinset",a.position.toString())))}if(o.length>=i)for(;i<o.length;i++)Object(r.D)(o[i])}else{if(!n)return;for(;n&&n.parentElement&&(null===(u=n.parentElement)||void 0===u?void 0:u.classList.contains("aria-parent"));){var u;Object(r.D)(n.parentElement),n=t.rootElement.querySelector(".aria-element.aria-id")}}}(a),n.api.focusDefault()}),o)}}},{key:"showWindowSwitcher",value:function(t,e){var n=this;null==this.windowSwitcher&&(t.insertAdjacentHTML("beforeend",this.switcherHtml||""),this.windowSwitcher=t.querySelector('[data-id="windowSwitcher"]'));var o,i=this.windowSwitcher.querySelector(".ws-window-switcher-content");i&&(i.innerHTML="");for(var a=0;a<e.length;a++){var s=e[a],c=document.createElement("div"),l=document.createElement("input");l.setAttribute("type","radio"),l.setAttribute("name","windowSwitcher"),l.setAttribute("id","windowSwitcher-"+a),l.dataset.winid=s.id;var u=void 0;s.modalBlocked?(l.setAttribute("aria-describedby","switcher-modal-blocked-description"),(u=document.createElement("span")).setAttribute("aria-hidden","true"),u.textContent=this.api.translate("accessibility.switcher.modalBlocked")):l.addEventListener("keyup",(function(t){return n.switcherRadioKeyHandler(t)})),0===a&&(o=l,l.checked=!0);var d=document.createElement("label");d.setAttribute("for","windowSwitcher-"+a),s.title?d.textContent=s.title:d.textContent=this.api.translate("accessibility.switcher.untitled"),c.appendChild(l),c.appendChild(d),u&&c.appendChild(u),null==i||i.appendChild(c)}o&&o.focus({preventScroll:!0});var p=this.windowSwitcher.querySelector('button[data-id="closeBtn"]');Object(r.v)()?null==p||p.addEventListener("touchend",(function(){n.hideWindowSwitcher()})):null==p||p.addEventListener("click",(function(){n.hideWindowSwitcher()}))}},{key:"switcherRadioKeyHandler",value:function(t){var e,n=(null===(e=this.windowSwitcher)||void 0===e?void 0:e.querySelector("input[type=radio]:checked")).dataset.winid;13===t.keyCode?(this.switchWindow(n),this.hideWindowSwitcher()):88===t.keyCode&&(this.closeWindow(n),this.hideWindowSwitcher())}},{key:"hideWindowSwitcher",value:function(){null!=this.windowSwitcher&&(this.windowSwitcher.style.display="none",this.windowSwitcher.remove(),this.windowSwitcher=null),this.api.focusDefault()}},{key:"switchWindow",value:function(t){this.api.send({events:[{focus:{windowId:t}}]})}},{key:"closeWindow",value:function(t){this.api.closeWindow(t)}},{key:"checkCanvasAccessibleInfo",value:function(){var t=this,e=this.isEnabled(),n=e?".webswing-element-content canvas.accessibility-off":".webswing-element-content canvas:not(.accessibility-off)",r=e?".webswing-element-content.accessibility-off":".webswing-element-content:not(.accessibility-off)";document.querySelectorAll(r).forEach((function(n){t.setRootElementAccessibleInfo(n,e)})),document.querySelectorAll(n).forEach((function(n){t.setCanvasAccessibleInfo(n,e)}))}},{key:"setRootElementAccessibleInfo",value:function(t,e){e?(t.removeAttribute("aria-label"),t.classList.remove("accessibility-off")):(t.setAttribute("aria-label",this.api.translate("accessibility.turnOn")),t.classList.add("accessibility-off"))}},{key:"setCanvasAccessibleInfo",value:function(t,e){e?(t.removeAttribute("aria-label"),t.removeAttribute("role"),t.classList.remove("accessibility-off")):(t.setAttribute("role","img"),t.setAttribute("aria-label",this.api.translate("accessibility.turnOn")),t.classList.add("accessibility-off"))}}])&&vn(e.prototype,n),o&&vn(e,o),a}(o.b);function En(t){var e=t.id,n=document.createElement("button");n.classList.add("aria-element","aria-id","new","focusable"),n.setAttribute("tabindex","0"),n.id="aria-element-"+e;var r=Mn(e,t.rootElement)||n;r.setAttribute("aria-label",t.text),r.textContent=t.text,t.toggle?r.setAttribute("aria-pressed",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))):r.removeAttribute("aria-pressed"),xn(r,t)}function jn(t){var e=t.id,n=Rn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Mn(e,t.rootElement)||n;t.text&&(r.setAttribute("aria-label",t.text),r.textContent=t.text),xn(r,t)}function xn(t,e){t.setAttribute("role",e.role),t.setAttribute("aria-disabled",String(null!=e.states&&-1===e.states.indexOf("ENABLED"))),t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.top=e.screenY+"px",t.style.left=e.screenX+"px",An(e,t),t.matches(".new")&&Tn(t,e.rootElement)}function Tn(t,e){var n=e.querySelectorAll(".aria-parent");n&&n.length?n[n.length-1].appendChild(t):e.appendChild(t)}function Mn(t,e){if(t){var n=e.querySelector("#aria-element-"+t);if(n)return n}return null}function An(t,e){var n=function(t){if(0===t.querySelectorAll("#ws-aria-describedby").length){var e=document.createElement("span");e.id="ws-aria-describedby",t.appendChild(e)}return t.querySelector("#ws-aria-describedby")}(t.rootElement);t.tooltip||t.description?(n.textContent=t.description||t.tooltip,e.setAttribute("aria-describedby","aria-describedby")):(e.removeAttribute("aria-describedby"),n.textContent="")}function Cn(t,e){return t.getAttribute("id")==="aria-parent-"+e.id&&t.getAttribute("role")===e.role&&t.getAttribute("aria-label")===e.text&&(null==e.size||t.getAttribute("aria-setsize")===String(e.size)&&t.getAttribute("aria-posinset")===String(e.position))}function Dn(t){return 0===t.querySelectorAll("#ws-aria-live-log").length&&t.insertAdjacentHTML("beforeend",'<div id="ws-aria-live-log" aria-live="assertive" role="log" data-id="access" tabindex="-1" />'),t.querySelector("#ws-aria-live-log")}function Rn(t,e,n){var r,o=document.createElement(t);(null==n?void 0:n.length)&&(r=o.classList).add.apply(r,pn(n));return o.setAttribute("tabindex","0"),o.id=e,o}function Fn(t){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _n(t,e){return(_n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hn(t);if(e){var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(t,e){return!e||"object"!==Fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qn={cfg:"webswing.config",touchInputFocusLost:"touch.inputFocusLost",touchCorrectPosition:"touch.correctPosition",updateFocusedHtmlCanvas:"input.updateFocusedHtmlCanvas",getCanvas:"canvas.get"},Un=O.appFrameProtoOut.FocusEventMsgOutProto.FocusEventTypeProto,zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_n(t,e)}(a,t);var e,n,o,i=Wn(a);function a(){return Bn(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"provides",value:function(){return{"focusManager.manageFocusEvent":this.manageFocusEvent,"focusManager.focusInput":this.focusInput,"focusManager.focusDefault":this.focusDefault}}},{key:"manageFocusEvent",value:function(t){this.manageFocusEventRetry(t,0)}},{key:"focusInput",value:function(t){this.api.cfg.touchMode||(Object(r.i)()&&Object(r.i)()<=11&&t.blur(),this.isFocusManaged()||(t.value=" ",this.focusWithPreventScroll(t,!0),t.select()))}},{key:"focusDefault",value:function(){var t=document.activeElement;if(!(t&&t.matches(".catch-focus")||Object(r.y)(t,".catch-focus").length)){var e=document.querySelectorAll(".webswing-element-content .aria-element.focusable");if(e.length)e[0].focus({preventScroll:!0});else{var n=document.querySelectorAll(".ws-input-hidden")[0],o=!0;n&&(!this.api.cfg.touchMode||n.classList.contains("focused-with-caret")&&n.classList.contains("editable"))||(o=!1),o?(this.api.updateFocusedHtmlCanvas(n),this.focusWithPreventScroll(n)):(document.body.focus(),this.api.cfg.touchMode&&this.api.touchCorrectPosition())}}}},{key:"isFocusManaged",value:function(){var t=document.activeElement;return document.querySelectorAll(".webswing-element-content .aria-element.focusable").length>0||t&&(null==t?void 0:t.matches(".catch-focus"))||Object(r.y)(t,".catch-focus").length}},{key:"manageFocusEventRetry",value:function(t,e){var n=this;document.querySelectorAll(".ws-input-hidden")[0]?this.doManageFocusEvent(t):e<4&&setTimeout((function(){n.manageFocusEventRetry(t,e+1)}),50)}},{key:"doManageFocusEvent",value:function(t){var e=document.querySelectorAll(".ws-input-hidden")[0];e.classList.remove("editable"),e.classList.remove("focused-with-caret"),(t.type===Un.focusWithCarretGained||t.type===Un.focusPasswordGained)&&t.x+t.w>0&&t.y+t.h>0?(t.type===Un.focusPasswordGained?e.type="password":e.type="text",this.updateInputPosition(e,t),e.classList.add("focused-with-caret"),t.editable&&e.classList.add("editable")):(this.updateInputPosition(e),e.value="",this.api.touchInputFocusLost()),this.focusDefault()}},{key:"focusWithPreventScroll",value:function(t,e){if(t){var n=t.style.position,o=t.style.left,i=t.style.top;Object(r.i)()&&Object(r.i)()<=11&&(t.style.position="fixed",t.style.left="0px",t.style.top="0px"),t.focus({preventScroll:!0}),e&&t.select(),Object(r.i)()&&Object(r.i)()<=11&&(t.style.position=n,t.style.left=o,t.style.top=i)}}},{key:"updateInputPosition",value:function(t,e){if(this.api.cfg.touchMode){if(t.style.left="0px",t.style.top="0px",null!=e){var n=e.x+e.w,r=e.y+e.h,o=Math.min(Math.max(e.y+e.caretY,e.y),r),i=Math.min(Math.max(e.x+e.caretX,e.x),n);t.style.top=o+"px",t.style.left=i+"px",t.style.height=e.caretH+"px"}}else if(null==e)t.style.top="",t.style.left="",t.style.height="";else{var a=e.x+e.w,s=e.y+e.h;t.style.top=Math.min(Math.max(e.y+e.caretY,e.y),s)+"px",t.style.left=Math.min(Math.max(e.x+e.caretX,e.x),a)+"px",t.style.height=e.caretH+"px"}}}])&&Ln(e.prototype,n),o&&Ln(e,o),a}(o.b);function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qn(t);if(e){var o=Qn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(t,e){return!e||"object"!==Jn(e)&&"function"!=typeof e?Vn(t):e}function Vn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qn(t){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tr={cfg:"webswing.config",sendHandshake:"base.handshake",repaint:"render.repaint",touchBarEnabled:"touch.touchBarEnabled",validateTaskbarPosition:"taskbar.validatePosition"},er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(a,t);var e,n,o,i=$n(a);function a(){var t;Yn(this,a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Zn(Vn(t=i.call.apply(i,[this].concat(n))),"canvas",void 0),Zn(Vn(t),"resizeCheck",void 0),Zn(Vn(t),"lastRootWidth",0),Zn(Vn(t),"lastRootHeight",0),Zn(Vn(t),"lastUserScreenWidth",0),Zn(Vn(t),"lastUserScreenHeight",0),Zn(Vn(t),"touchWidth",0),Zn(Vn(t),"touchHeight",0),Zn(Vn(t),"dpr",Object(r.o)()),Zn(Vn(t),"ready",(function(){t.init()})),t}return e=a,(n=[{key:"provides",value:function(){return{"canvas.init":this.init,"canvas.dispose":this.dispose,"canvas.get":this.get,"canvas.width":this.width,"canvas.height":this.height,"canvas.getDesktopSize":this.getDesktopSize,"canvas.processComponentTree":this.processComponentTree,"canvas.canvasConfig":this.canvasConfig()}}},{key:"init",value:function(){var t,e,n,o,i=this;null==this.canvas&&((null===(t=this.api.cfg.rootElement.parentElement)||void 0===t?void 0:t.dataset.touchWidth)&&(this.touchWidth=Number(null===(n=this.api.cfg.rootElement.parentElement)||void 0===n?void 0:n.dataset.touchWidth)),(null===(e=this.api.cfg.rootElement.parentElement)||void 0===e?void 0:e.dataset.touchHeight)&&(this.touchHeight=Number(null===(o=this.api.cfg.rootElement.parentElement)||void 0===o?void 0:o.dataset.touchHeight)),this.api.cfg.rootElement.insertAdjacentHTML("beforeend",'<canvas role="presentation" aria-hidden="true" data-id="canvas" style="display:block; width:'+this.width()+"px;height:"+this.height()+'px;" width="'+this.width()*this.dpr+'" height="'+this.height()*this.dpr+'" tabindex="-1"/>'),this.api.cfg.rootElement.insertAdjacentHTML("beforeend",'<input role="presentation" aria-hidden="true" data-id="input-handler" class="ws-input-hidden" type="text" autocorrect="off" autocapitalize="none" autocomplete="off" value="" />'),this.canvas=this.api.cfg.rootElement.querySelector('[data-id="canvas"]'),this.canvas.classList.add("webswing-canvas"),this.canvas.style.width="0",this.canvas.style.height="0",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.position="absolute",this.lastRootWidth=this.width(),this.lastRootHeight=this.height(),this.lastUserScreenWidth=window.screen.availWidth,this.lastUserScreenHeight=window.screen.availHeight,this.api.cfg.rootElement.setAttribute("role","application"));null==this.resizeCheck&&(this.resizeCheck=setInterval((function(){if(!i.api.cfg.mirror&&!i.api.cfg.touchMode){var t=i.dpr!==Object(r.o)(),e=i.lastRootWidth!==i.width()||i.lastRootHeight!==i.height(),n=i.lastUserScreenWidth!==window.screen.availWidth||i.lastUserScreenHeight!==window.screen.availHeight;(e||n||t)&&(i.lastRootWidth=i.width(),i.lastRootHeight=i.height(),i.lastUserScreenWidth=window.screen.availWidth,i.lastUserScreenHeight=window.screen.availHeight,i.dpr=Object(r.o)(),i.api.sendHandshake(),i.api.validateTaskbarPosition())}}),500))}},{key:"dispose",value:function(){var t,e,n;null!=this.canvas&&(this.canvas=void 0),null===(t=this.api.cfg.rootElement.querySelector("canvas"))||void 0===t||t.remove(),null===(e=document.querySelectorAll(".webswing-canvas, .webswing-html-canvas, .ws-internal-frames-wrapper"))||void 0===e||e.forEach((function(t){t.remove()})),null===(n=this.api.cfg.rootElement.querySelector("input.ws-input-hidden"))||void 0===n||n.remove(),null!=this.resizeCheck&&(clearInterval(this.resizeCheck),this.resizeCheck=void 0)}},{key:"width",value:function(){return this.api.cfg.touchMode&&0!==this.touchWidth?this.touchWidth:Math.floor(this.api.cfg.rootElement.clientWidth)}},{key:"height",value:function(){return this.api.cfg.touchMode&&0!==this.touchHeight?this.touchHeight:Math.floor(this.api.cfg.rootElement.clientHeight)}},{key:"get",value:function(){return null!=this.canvas&&null==this.resizeCheck||this.init(),this.canvas}},{key:"processComponentTree",value:function(t){}},{key:"getDesktopSize",value:function(){return{width:this.width(),height:this.height()}}},{key:"canvasConfig",value:function(){return{disposeOnDisconnect:!0}}}])&&Gn(e.prototype,n),o&&Gn(e,o),a}(o.b),nr=n(367),rr=n.n(nr),or=n(368),ir=n.n(or);function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dr(t,e){return(dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yr(t);if(e){var o=yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fr(this,n)}}function fr(t,e){return!e||"object"!==ar(e)&&"function"!=typeof e?hr(t):e}function hr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yr(t){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vr={cfg:"webswing.config",continueSession:"base.continueSession",kill:"base.kill",newSession:"webswing.newSession",reTrySession:"webswing.reTrySession",logout:"login.logout",translate:"translate.translate",mutePingWarning:"ping.mutePingWarning",switchMode:"touch.switchMode",focusDefault:"focusManager.focusDefault",isAutoLogout:"socket.isAutoLogout",startNewSessionOnShutdown:"base.startNewSessionOnShutdown",clearInstanceId:"socket.clearInstanceId"},mr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dr(t,e)}(a,t);var e,n,o,i=pr(a);function a(){var t;lr(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return gr(hr(t=i.call.apply(i,[this].concat(n))),"dialogMap",{}),gr(hr(t),"barMap",{}),gr(hr(t),"networkBar",void 0),gr(hr(t),"reconnectTimer",null),gr(hr(t),"reconnectInterval",null),gr(hr(t),"reconnectStart",void 0),t}return e=a,(n=[{key:"provides",value:function(){return{"dialog.show":this.show,"dialog.hide":this.hide,"dialog.current":this.current,"dialog.content":this.configuration(),"dialog.currentBar":this.currentBar,"dialog.showBar":this.showBar,"dialog.hideBar":this.hideBar,"dialog.showNetworkBar":this.showNetworkBar,"dialog.hideNetworkBar":this.hideNetworkBar,"dialog.showOverlay":this.showOverlay,"dialog.hideOverlay":this.hideOverlay}}},{key:"configuration",value:function(){var t=this;return{emptyMessage:this.messageDialog("dialog.emptyMessage",!0),logingOut:this.messageDialog("dialog.logingOut"),readyDialog:this.messageDialog("dialog.readyDialog"),initializingDialog:this.messageDialog("dialog.initializingDialog",!0),startingDialog:this.messageDialog("dialog.startingDialog",!0),reconnectingDialog:this.messageDialog("dialog.reconnectingDialog",!0),applicationBusyDialog:this.messageDialog("dialog.applicationBusyDialog",!0),unauthorizedAccess:this.retryMessageDialog("dialog.unauthorizedAccess"),applicationAlreadyRunning:this.retryMessageDialog("dialog.applicationAlreadyRunning"),sessionStolenNotification:this.retryMessageDialog("dialog.sessionStolenNotification"),disconnectedDialog:this.retryMessageDialog("dialog.disconnectedDialog",!0),connectionErrorDialog:this.retryMessageDialog("dialog.connectionErrorDialog",!0),tooManyClientsNotification:this.retryMessageDialog("dialog.tooManyClientsNotification",!0),stoppedDialog:this.finalMessageDialog("dialog.stoppedDialog"),timedoutDialog:this.finalMessageDialog("dialog.timedoutDialog"),cookiesDisabledDialog:this.messageDialog("dialog.cookiesDisabledDialog"),continueOldSessionDialog:{header:'<span class="ws-message--neutral">${dialog.continueH} <span data-id="dialogHide" class="ws-icon-cancel-circled ws-right"></span></span>',content:'<p data-id="continueMsg">${dialog.continueC1}<a href="javascript:void(0)" data-id="restartLink">${dialog.continueC2}</a></p>',events:{restartLink_click:function(){t.api.kill(),t.api.startNewSessionOnShutdown()},restartLink_touchend:function(){Object(r.v)()&&(t.api.kill(),t.api.startNewSessionOnShutdown())},dialogHide_click:function(){return t.hideBar()},dialogHide_touchend:function(){Object(r.v)()&&t.hideBar()},continueMsg_mouseenter:function(){var e=t.getBar();e&&e.currentContentBar&&(e.currentContentBar.focused=!0)},continueMsg_mouseleave:function(){var e=t.getBar();e&&e.currentContentBar&&(e.currentContentBar.focused=!1)}}},longPollingWarningDialog:{header:'<span class="ws-message--warning"><span class="ws-icon-warn"></span> ${dialog.longPollingH}</span>',content:"<p>${dialog.longPollingC} </p>",buttons:[{label:'<span class="ws-icon-cancel-circled"></span>  ${dialog.longPollingB}',action:function(){t.hideBar()}}]},inactivityTimeoutWarningDialog:{header:'<span class="ws-message--warning"><span class="ws-icon-warn"></span> ${dialog.inactivityTimeoutH}</span>',content:"<p>${dialog.inactivityTimeoutC}  </p>",buttons:[{label:'<span class="ws-icon-cancel-circled"></span>  ${dialog.inactivityTimeoutB}',action:function(){t.hideBar()}}]},networkOfflineWarningDialog:{content:'<span class="ws-message--error"><span class="ws-icon-warn"></span>${dialog.networkMonitor.offline}</span>',severity:2},networkSlowWarningDialog:{content:'<span class="ws-message--warning"><span class="ws-icon-warn"></span>${dialog.networkMonitor.warn}</span>',severity:1},touchSwitchModeMouseDialog:{content:'<p><span class="ws-message--neutral">${dialog.touchSwitchMode.mouse}</span> <span class="ws-right"><a href="javascript:void(0)" data-id="barHide">${dialog.touchSwitchMode.cancelButton}</a></span></p>',buttons:[{label:"${dialog.touchSwitchMode.switchButton}",action:function(){t.hideBar(),t.api.switchMode(!0,!1)}}],events:{barHide_click:function(){t.hideBar(),t.api.switchMode(!1,!0)}}},touchSwitchModeTouchDialog:{content:'<p><span class="ws-message--neutral">${dialog.touchSwitchMode.touch}</span> <span class="ws-right"><a href="javascript:void(0)" data-id="barHide">${dialog.touchSwitchMode.cancelButton}</a></span></p>',buttons:[{label:"${dialog.touchSwitchMode.switchButton}",action:function(){t.hideBar(),t.api.switchMode(!0,!1)}}],events:{barHide_click:function(){t.hideBar(),t.api.switchMode(!1,!0)}}},undockedInstanceNotFound:{content:'<p id="commonDialog-autoReconnect">${dialog.autoReconnect}<span id="commonDialog-autoReconnect-time"></span></p><p id="commonDialog-description">${dialog.undockedInstanceNotFound}</p>',buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.undockedInstanceNotFound.retry}',action:function(){t.api.reTrySession()}},{label:'<span class="ws-icon-cancel-circled"></class> ${dialog.undockedInstanceNotFound.close}',action:function(){window.close()}}],autoReconnect:!0},reconnectInstanceNotFound:{content:'<p id="commonDialog-autoReconnect">${dialog.autoReconnect}<span id="commonDialog-autoReconnect-time"></span></p><p id="commonDialog-description">${dialog.reconnectInstanceNotFound}</p>',buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.reconnectInstanceNotFound.retry}',action:function(){t.api.reTrySession()}},{label:'<span class="ws-icon-certificate"></class> ${dialog.reconnectInstanceNotFound.newSession}',action:function(){t.api.clearInstanceId(),t.api.reTrySession()}},function(){return!t.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.reconnectInstanceNotFound.logout}',action:function(){t.api.logout()}}}],autoReconnect:!0},dockingModalityOverlay:{type:"modality-overlay",content:'<div class="modality-overlay"><div class="modality-message">${dialog.overlay.docking.modality}</div></div>'}}}},{key:"messageDialog",value:function(t,e){var n='<p id="commonDialog-description">${'+t+"}</p>";return e&&(n='<div class="ws-spinner"><div class="ws-spinner-dot-1"></div> <div class="ws-spinner-dot-2"></div></div>'+n),{content:n}}},{key:"finalMessageDialog",value:function(t){var e=this;return{content:'<p id="commonDialog-description">${'+t+"}</p>",buttons:[function(){return!e.api.cfg.undockedStart&&{label:'<span class="ws-icon-certificate"></class> ${dialog.finalB1}',action:function(){e.api.newSession()}}},function(){return!e.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.finalB2}',action:function(){e.api.logout()}}}]}}},{key:"retryMessageDialog",value:function(t,e){var n=this;return{content:'<p id="commonDialog-autoReconnect">${dialog.autoReconnect}<span id="commonDialog-autoReconnect-time"></span></p><p id="commonDialog-description">${'+t+"}</p>",buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.retryB1}',action:function(){n.api.reTrySession()}},function(){return!n.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.retryB2}',action:function(){n.api.logout()}}}],autoReconnect:e}}},{key:"setup",value:function(){var t=this;for(var e in this.dialogMap)this.dialogMap[e].win&&!this.dialogMap[e].win.closed||delete this.dialogMap[e];for(var n in this.barMap)this.barMap[n].win&&!this.barMap[n].win.closed||delete this.barMap[n];if(!this.dialogMap[window.name]){var o=document.querySelector(".webswing-element-content");o.querySelector('[data-id="commonDialog"]')||o.insertAdjacentHTML("beforeend",rr.a);var i,a=o.querySelector('[data-id="commonDialog"]'),s={win:window,dialog:a,content:null==a?void 0:a.querySelector('[data-id="content"]'),header:null==a?void 0:a.querySelector('[data-id="header"]')},c=o.querySelector('[data-id="commonBar"]'),l={win:window,bar:c,barContent:c.querySelector('[data-id="content"]'),barHeader:c.querySelector('[data-id="header"]')};Object(r.t)(l.bar),this.dialogMap[window.name]=s,this.barMap[window.name]=l,r.a.onFetchStart((function(){i=setTimeout((function(){Object(r.x)(s.dialog)&&(t.hasVisibleSpinner(s.dialog)||Object(r.B)(o.querySelector("#ajaxProgress")))}),200)})),r.a.onFetchComplete((function(){i&&clearTimeout(i),Object(r.t)(o.querySelector("#ajaxProgress"))}))}}},{key:"hasVisibleSpinner",value:function(t){var e,n=sr(t.querySelectorAll(".ws-spinner"));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.offsetWidth>0||r.offsetHeight>0)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"show",value:function(t){var e=this.getDialog();if(this.resetAutoReconnect(),e.dialog.setAttribute("data-type","common"),null==t)return e.currentContent=void 0,e.content;if(Object(r.x)(e.dialog)&&e.currentContent===t)return this.checkAndSetupAutoReconnect(t,e.content),e.content;e.currentContent=t,this.generateContent(t,e.dialog,e.header,e.content),Object(r.B)(e.dialog,"flex");var n=e.dialog.querySelectorAll(".init-focus");return n.length&&n[0].focus(),e.content}},{key:"showBar",value:function(t){var e=this.getBar();return null==t?(e.currentContentBar=void 0,e.barContent):(e.currentContentBar=t,this.generateContent(t,e.bar,e.barHeader,e.barContent),Object(r.B)(e.bar),e.barContent)}},{key:"generateContent",value:function(t,e,n,o){for(var i in null!=t.header?(n.innerHTML=this.api.translate(t.header),Object(r.B)(n)):(Object(r.t)(n),n.innerHTML=""),o.innerHTML=this.api.translate(t.content),t.events)t.events.hasOwnProperty(i)&&e.querySelector('*[data-id="'+i.substring(0,i.lastIndexOf("_"))+'"]').addEventListener(i.substring(i.lastIndexOf("_")+1),t.events[i]);if(t.buttons)for(var a=0;a<t.buttons.length;a++){var s=t.buttons[a],c=void 0;if(c="function"==typeof s?s():s){var l=document.createElement("button");l.classList.add("ws-btn"),0===a&&l.classList.add("init-focus"),l.innerHTML=this.api.translate(c.label),l.addEventListener("click",c.action),Object(r.v)()&&l.addEventListener("touchend",c.action),o.appendChild(l)}}this.checkAndSetupAutoReconnect(t,o),Object(r.x)(e)&&Object(r.B)(o)}},{key:"hide",value:function(){var t=this.getDialog();t&&(this.resetAutoReconnect(),t.currentContent=void 0,t.content.innerHTML="",t.dialog&&Object(r.x)(t.dialog)&&(Object(r.t)(t.dialog),this.api.focusDefault()))}},{key:"hideBar",value:function(){var t=this.getBar();t&&(t.currentContentBar=void 0,t.barContent.innerHTML="",Object(r.t)(t.bar))}},{key:"current",value:function(){var t=this.getDialog();return t?t.currentContent:null}},{key:"currentBar",value:function(){var t=this.getBar();return t?t.currentContentBar:null}},{key:"getDialog",value:function(){return this.dialogMap[window.name]||this.setup(),this.dialogMap[window.name]}},{key:"getBar",value:function(){return this.barMap[window.name]||this.setup(),this.barMap[window.name]}},{key:"showNetworkBar",value:function(t){var e,n=this,o=document.querySelector(".webswing-element-content");null!=this.networkBar&&document.body.contains(this.networkBar)&&this.hideNetworkBar(),null==this.networkBar&&(o.querySelector('[data-id="networkBar"]')||o.insertAdjacentHTML("beforeend",this.api.translate(ir.a)),this.networkBar=o.querySelector('[data-id="networkBar"]'),null===(e=this.networkBar.querySelector('[data-id="hide"]'))||void 0===e||e.addEventListener("click",(function(){n.api.mutePingWarning(t.severity),n.hideNetworkBar()})));var i=this.api.translate(t.content),a=this.networkBar.querySelector('span[data-id="message"]');a.innerHTML!==i&&(a.innerHTML=i),Object(r.B)(this.networkBar)}},{key:"hideNetworkBar",value:function(){null!=this.networkBar&&(Object(r.t)(this.networkBar),this.networkBar.remove(),this.networkBar=void 0)}},{key:"showOverlay",value:function(t,e){var n,r=t.document.querySelector(".webswing-element-content ."+e.type);r||(t.document.querySelector(".webswing-element-content").insertAdjacentHTML("beforeend",this.api.translate(e.content)),r=t.document.querySelector(".webswing-element-content ."+e.type)),null===(n=r)||void 0===n||n.classList.add("active")}},{key:"hideOverlay",value:function(t,e){var n=t.document.querySelector(".webswing-element-content ."+e.type);n&&n.classList.remove("active")}},{key:"resetAutoReconnect",value:function(){null!=this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),null!=this.reconnectInterval&&(clearInterval(this.reconnectInterval),this.reconnectInterval=null),this.reconnectStart&&(this.reconnectStart=0)}},{key:"checkAndSetupAutoReconnect",value:function(t,e){var n=this;!t.autoReconnect||null===this.api.cfg.autoReconnect||this.api.cfg.autoReconnect<=0||(Object(r.B)(e.querySelector("#commonDialog-autoReconnect")),this.reconnectStart=(new Date).getTime(),this.reconnectTimer=setTimeout((function(){n.api.reTrySession(),null!=n.reconnectInterval&&(clearInterval(n.reconnectInterval),n.reconnectInterval=null)}),this.api.cfg.autoReconnect),this.reconnectInterval=setInterval((function(){var t=Math.round((n.api.cfg.autoReconnect-((new Date).getTime()-n.reconnectStart))/1e3);e.querySelector("#commonDialog-autoReconnect-time").textContent=t<=0?"":"("+t+")"}),250))}}])&&ur(e.prototype,n),o&&ur(e,o),a}(o.b),wr=n(369),br=n.n(wr);function Or(t){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pr(t){return function(t){if(Array.isArray(t))return Sr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||kr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(t,e){if(t){if("string"==typeof t)return Sr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(t,e):void 0}}function Sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jr(t,e){return(jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ar(t);if(e){var o=Ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tr(this,n)}}function Tr(t,e){return!e||"object"!==Or(e)&&"function"!=typeof e?Mr(t):e}function Mr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ar(t){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dr={cfg:"webswing.config",instanceId:"socket.instanceId",send:"socket.send",sendSimpleEvent:"socket.sendSimpleEvent",translate:"translate.translate",focusDefault:"focusManager.focusDefault"},Rr=O.appFrameProtoOut.FileDialogEventMsgOutProto.FileDialogEventTypeProto,Fr=P.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto,Br=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jr(t,e)}(a,t);var e,n,o,i=xr(a);function a(){var t;Ir(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Cr(Mr(t=i.call.apply(i,[this].concat(n))),"html",void 0),Cr(Mr(t),"holderMap",{}),Cr(Mr(t),"ready",(function(){t.html=t.api.translate(br.a)})),t}return e=a,(n=[{key:"provides",value:function(){return{"files.process":this.process,"files.close":this.close,"files.download":this.download,"files.link":this.link,"files.print":this.print,"files.redirect":this.redirect}}},{key:"process",value:function(t){t.eventType===Rr.AutoUpload?this.autoUpload(t,this.api.instanceId()):t.eventType===Rr.AutoSave?this.autoSave(t,this.api.instanceId()):t.eventType===Rr.Open?this.open(t,this.api.instanceId()):t.eventType===Rr.Close&&this.close()}},{key:"getHolder",value:function(){return this.holderMap[window.name]||this.setup(window),this.holderMap[window.name]}},{key:"autoUpload",value:function(t,e){this.getHolder().autoUpload(t,e)}},{key:"autoSave",value:function(t,e){this.getHolder().autoSave(t,e)}},{key:"open",value:function(t,e){this.getHolder().open(t,e)}},{key:"close",value:function(){this.getHolder().close()}},{key:"download",value:function(t){this.getHolder().download(t)}},{key:"link",value:function(t){this.getHolder().link(t)}},{key:"print",value:function(t){this.getHolder().print(t)}},{key:"redirect",value:function(t){window.location.href=t}},{key:"setup",value:function(t){var e=this,n=t.document,o=n.querySelector(".webswing-element-content");o.insertAdjacentHTML("beforeend",this.html);var i,a,s,c=[],l=[],u=[],d=o.querySelector('div[data-id="uploadBar"]'),p=d.querySelector('input[data-id="fileDialogTransferBarClientId"]'),f=d.querySelector('div[data-id="fileActionButtonGroup"]'),h=d.querySelector('button[data-id="deleteSelectedButton"]'),y=d.querySelector('button[data-id="downloadSelectedButton"]'),g=d.querySelector('div[data-id="fileUploadBtn"]'),v=d.querySelector('div[data-id="fileDropArea"]'),m=d.querySelector('button[data-id="cancelBtn"]'),w=function(){return d.querySelector('input[data-id="fileInput"]')},b=o.querySelector('div[data-id="fileDialogTransferProgressBar"]'),O=o.querySelector('div[data-id="fileDialogErrorMessage"]'),P=o.querySelector('div[data-id="fileDialogErrorMessageContent"]'),k=o.querySelector('div[data-id="fileDialogSuccessMessage"]'),S=o.querySelector('div[data-id="fileDialogSuccessMessageContent"]'),I=o.querySelector('div[data-id="autoUploadBar"]'),E=I.querySelector('button[data-id="uploadAutoUploadButton"]'),j=I.querySelector('button[data-id="cancelAutoUploadButton"]'),x=function(){return I.querySelector('input[data-id="autoFileInput"]')},T=I.querySelector('input[data-id="autoUploadfileDialogTransferBarClientId"]'),M=o.querySelector('div[data-id="autoSaveBar"]'),A=M.querySelector('input[data-id="autoSaveInput"]'),C=M.querySelector('button[data-id="autoSaveButton"]'),D=M.querySelector('button[data-id="cancelAutoSaveButton"]'),R=o.querySelector('div[data-id="downloadLinkDialog"]');b.style.display="none",I.style.display="none",I=Object(r.f)(I),M.style.display="none",M=Object(r.f)(M),d.style.display="none",d=Object(r.f)(d),R.style.display="none",R=Object(r.f)(R);var F=function(){0===l.length&&(u.length>0&&(S.innerHTML=e.api.translate("<p>${files.uploadComplete}</p>"),e.animateShow(k)),e.filesSelected(u),u=[],setTimeout((function(){H(!1)}),5e3),c=[])},B=function(t){var n=e.getFileUrl("file"),r=new XMLHttpRequest,i=new FormData;r.open("POST",n,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!0,r.upload.addEventListener("progress",(function(t){!function(t){var e=parseInt(String(t.loaded/t.total*100),10),n=o.querySelector(".ws-progress-bar"),r=o.querySelector(".ws-progress-text");n.style.width=e+"%",r.querySelector("em").textContent=e+"%"}(t)})),r.onreadystatechange=function(){var t;4===r.readyState&&200===r.status?function(t){o.querySelector(".ws-progress-text").querySelector("em").textContent=e.api.translate("files.progComplete");var n=t.files[0].name,r=t.files[0].id;e.api.send({upload:{fileId:r}}),u.push(n),l.splice(l.indexOf(n),1),F()}(JSON.parse(r.response)):4===r.readyState&&200!==r.status&&(t=r,H(!1),"abort"!==t.statusText&&(P.insertAdjacentHTML("beforeend","<p>"+t.responseText+"</p>"),a?clearTimeout(a):e.animateShow(O),t.files.forEach((function(t){var e=l.indexOf(t.name);l.splice(e,1)})),F(),a=setTimeout((function(){a=void 0,P.innerHTML="",O.style.display="none",s&&close()}),3e3)))},i.append("uuid",T.value),i.append("files[]",t),r.send(i)},L=function(t){var e,n;S.innerHTML="",k.style.display="none",e="drop"===t.type?Pr(t.dataTransfer.files):null===(n=t.target)||void 0===n?void 0:n.files,H(!0);var r,o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=kr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;B(i)}}catch(t){o.e(t)}finally{o.f()}};["dragenter","dragover","dragleave","drop"].forEach((function(t){window.addEventListener(t,(function(t){t.preventDefault(),"fileDropArea"!==t.target.dataset.id&&(t.dataTransfer.effectAllowed="none",t.dataTransfer.dropEffect="none")}),!1)})),x().addEventListener("change",L,!1),v.addEventListener("drop",L,!1),w().addEventListener("change",L,!1);var _=function(){e.sendMessageEvent(Fr.cancelFileSelection),W()},W=function(){e.filesSelected([]),c.forEach((function(t){t.abort()})),H(!1)};Object(r.v)()?(m.addEventListener("touchend",_),D.addEventListener("touchend",_),j.addEventListener("touchend",_),h.addEventListener("touchend",(function(){e.sendMessageEvent(Fr.deleteFile)})),y.addEventListener("touchend",(function(){e.sendMessageEvent(Fr.downloadFile)})),E.addEventListener("touchend",(function(){x().click()})),null==g||g.addEventListener("touchend",(function(){w().click()})),C.addEventListener("touchend",(function(){var t=A.value;N()&&t.length>0&&e.filesSelected([t])}))):(D.addEventListener("click",_),j.addEventListener("click",_),m.addEventListener("click",_),h.addEventListener("click",(function(){e.sendMessageEvent(Fr.deleteFile)})),y.addEventListener("click",(function(){e.sendMessageEvent(Fr.downloadFile)})),E.addEventListener("click",(function(){x().click()})),null==g||g.addEventListener("click",(function(){w().click()})),C.addEventListener("click",(function(){var t=A.value;N()&&t.length>0&&e.filesSelected([t])})));var N=function(){var t=A.value;return t&&t.match(/^[a-zA-Z0-9. _-]*$/)?(P.innerHTML="",O.style.display="none",!0):(P.innerHTML=e.api.translate("<p>${files.saveInvlidFilename}</p>"),e.animateShow(O),!1)};A.addEventListener("input",N);var H=function(t){var e=o.querySelector(".ws-progress-bar");t?(b.style.display="",e.style.width="0%",e.parentElement.style.display=""):(b.style.display="none",e.parentElement.style.display="none",e.style.width="0%")},q=function(t,i){R.closest(".webswing-element-content")||o.append(R);var a=R.querySelector('div[data-id="title"]');a&&(a.innerHTML=e.api.translate(t.title));var s=R.querySelector('div[data-id="message"]');s&&(s.innerHTML=e.api.translate(t.message));var c=R.querySelector('button[data-id="downloadLinkButton"]');c&&(c.innerHTML=e.api.translate(t.buttonMessage),Object(r.C)(c),Object(r.v)()?null==c||c.addEventListener("touchend",(function(){window.open(i,"_blank"),_r(R)})):null==c||c.addEventListener("click",(function(){window.open(i,"_blank"),_r(R)})),null==c||c.blur());var l=R.querySelector('button[data-id="cancelDownloadLinkButton"]');Object(r.C)(l),Object(r.v)()?null==l||l.addEventListener("touchend",(function(){_r(R)})):null==l||l.addEventListener("click",(function(){_r(R)})),null==l||l.blur(),R.style.display="",n.activeElement&&n.activeElement.blur(),c.focus()};o.addEventListener("dragover",(function(){i?clearTimeout(i):v.classList.add("ws-filebar-dropArea--ondrag"),i=setTimeout((function(){i=void 0,v.classList.remove("ws-filebar-dropArea--ondrag")}),100)})),this.holderMap[t.name]={win:t,autoSave:function(t,n){M.closest(".webswing-element-content")||o.appendChild(M),A.value=t.selection,S.innerHTML="",k.style.display="none",e.animateShow(M)},autoUpload:function(t,n){I.closest(".webswing-element-content")||(o.appendChild(I),S.innerHTML="",k.style.display="none"),l=[],u=[],T.value=n,x().multiple=t.isMultiSelection,x().setAttribute("accept",t.filter),e.animateShow(I)},close:function(){null!=d&&d.closest(".webswing-element-content")&&(a?s=!0:(d.style.display="none",e.api.focusDefault(),d=Object(r.f)(d))),null!=I&&I.closest(".webswing-element-content")&&(I.style.display="none",e.api.focusDefault(),I=Object(r.f)(I)),null!=M&&M.closest(".webswing-element-content")&&(M.style.display="none",e.api.focusDefault(),M=Object(r.f)(M))},download:function(t){if(Object(r.v)())q({title:"${files.downloadLink.download.title}",message:"${files.downloadLink.download.message}",buttonMessage:"${files.downloadLink.download.button}"},e.getFileUrl(t));else{var o,i="hiddenDownloader"+t,a=n.getElementById(i);null!=a&&(null===(o=a.parentNode)||void 0===o||o.removeChild(a)),(a=n.createElement("iframe")).id=i,a.style.display="none",n.body.appendChild(a),a.src=e.getFileUrl(t)}},link:function(t){Object(r.v)()?q({title:"${files.downloadLink.link.title}",message:"${files.downloadLink.link.message}",buttonMessage:"${files.downloadLink.link.button}"},t):window.open(t,"_blank")},open:function(t,n){s=!1,d.closest(".webswing-element-content")||(o.appendChild(d),H(!1),S.innerHTML="",k.style.display="none"),p.value=n,Lr(y,f,t.allowDownload),Lr(g,f,t.allowUpload),Lr(h,f,t.allowDelete),e.showOrHide(v,t.allowUpload),e.showOrHide(m,(t.allowDownload||t.allowUpload||t.allowDelete)&&!t.customDialog),w().multiple=t.isMultiSelection,w().setAttribute("accept",t.filter),e.showOrHide(d,t.allowDownload||t.allowUpload||t.allowDelete)},print:function(t){var n=e.api.cfg.connectionUrl+"print/web/viewer.html?file="+encodeURIComponent(e.getFileUrl(t));Object(r.v)()?q({title:"${files.downloadLink.print.title}",message:"${files.downloadLink.print.message}",buttonMessage:"${files.downloadLink.print.button}"},n):window.open(n,"_blank")}}}},{key:"animateShow",value:function(t){t.style.display="";var e=t.querySelectorAll(".init-focus");e.length&&e[0].focus()}},{key:"animateHide",value:function(t){t.style.display="none",this.api.focusDefault()}},{key:"showOrHide",value:function(t,e){e?this.animateShow(t):this.animateHide(t)}},{key:"filesSelected",value:function(t){this.api.send({selected:{files:t}})}},{key:"sendMessageEvent",value:function(t){this.api.sendSimpleEvent({type:t})}},{key:"getFileUrl",value:function(t){return this.api.cfg.connectionUrl+t}}])&&Er(e.prototype,n),o&&Er(e,o),a}(o.b);function Lr(t,e,n){var o=Object(r.f)(t);n&&e.appendChild(o)}function _r(t){null!=t&&t.closest(".webswing-element-content")&&(t.style.display="none",Object(r.f)(t))}var Wr=n(370),Nr=n.n(Wr);function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ur(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ur(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){s=!0,i=t})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ur(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yr(t,e){return(Yr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kr(t);if(e){var o=Kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xr(this,n)}}function Xr(t,e){return!e||"object"!==Hr(e)&&"function"!=typeof e?$r(t):e}function $r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qr=P.appFrameProtoIn.KeyboardEventMsgInProto.KeyEventTypeProto,Zr=P.appFrameProtoIn.MouseEventMsgInProto.MouseEventTypeProto,to=P.appFrameProtoIn.CopyEventMsgInProto.CopyEventMsgTypeProto,eo={cfg:"webswing.config",send:"socket.send",sendHandshake:"base.handshake",getCanvas:"canvas.get",getRootWidth:"canvas.width",getRootHeight:"canvas.height",displayPasteDialog:"clipboard.displayPasteDialog",translate:"translate.translate",repaint:"render.repaint",showBar:"dialog.showBar",dialogs:"dialog.content",hasUndockedWindows:"render.hasUndockedWindows",focusDefault:"focusManager.focusDefault"},no=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yr(t,e)}(a,t);var e,n,o,i=Gr(a);function a(){var t;zr(this,a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Vr($r(t=i.call.apply(i,[this].concat(n))),"canvas",void 0),Vr($r(t),"input",void 0),Vr($r(t),"cursor",void 0),Vr($r(t),"touchBar",void 0),Vr($r(t),"registered",!1),Vr($r(t),"tapStarted",0),Vr($r(t),"dragStarted",0),Vr($r(t),"dragging",!1),Vr($r(t),"scaling",!1),Vr($r(t),"lastScaleDist",0),Vr($r(t),"touchStartY",0),Vr($r(t),"touchStartX",0),Vr($r(t),"inputEvtQueue",[]),Vr($r(t),"latestMouseWheelEvent",void 0),Vr($r(t),"latestMouseMoveEvent",void 0),Vr($r(t),"sendInterval",void 0),Vr($r(t),"canvasResizeInterval",void 0),Vr($r(t),"scaleHideTimer",void 0),Vr($r(t),"toastTimer",void 0),Vr($r(t),"tapDelayThreshold",750),Vr($r(t),"doubleTapDelayThreshold",500),Vr($r(t),"lastTap",0),Vr($r(t),"tapMoveThreshold",10),Vr($r(t),"longPressTimeout",void 0),Vr($r(t),"longPressStartTimeout",void 0),Vr($r(t),"lastRepaint",0),Vr($r(t),"repaintTimeout",void 0),Vr($r(t),"isKeyboardProbablyShowing",!1),Vr($r(t),"focusCounter",0),Vr($r(t),"scaleStartScrollLeft",0),Vr($r(t),"scaleStartScrollTop",0),Vr($r(t),"scaleStartPoints",[]),Vr($r(t),"scaleStartDim",{}),Vr($r(t),"maxScale",3),Vr($r(t),"scaleSpeed",10),Vr($r(t),"compositionText",""),Vr($r(t),"composing",!1),Vr($r(t),"backspaceKeyDown",!1),Vr($r(t),"scrollMode","drag"),Vr($r(t),"touchpadMode",!1),Vr($r(t),"fullscreenButton",void 0),Vr($r(t),"scalingEnabled",!0),Vr($r(t),"staticScaleEnabled",!1),Vr($r(t),"switchModeRequested",!1),Vr($r(t),"switchModeDontAsk",!1),Vr($r(t),"switchModeAlreadySwitched",!1),Vr($r(t),"isProbablyTouchBook",!1),Vr($r(t),"currentMode","mouse"),Vr($r(t),"currentConfig",null),Vr($r(t),"lastRootWidth",0),Vr($r(t),"lastRootHeight",0),Vr($r(t),"lastWinWidth",0),Vr($r(t),"lastWinHeight",0),Vr($r(t),"handleInputFocus",(function(e){var n,r,o;(null===(n=t.input)||void 0===n?void 0:n.matches(".focused-with-caret.editable"))?(null===(r=document.querySelector("#fake-input"))||void 0===r||r.remove(),t.input.matches(":focus")?""===t.input.value&&(t.input.value=" ",t.input.selectionStart=t.input.selectionEnd=t.input.value.length):0===t.focusCounter&&(t.api.focusDefault(),t.focusCounter++)):(e.preventDefault(),null===(o=t.input)||void 0===o||o.blur());return!1})),Vr($r(t),"handleInputBlur",(function(e){var n;t.focusCounter=0,t.input.value="",null===(n=document.getElementById("fake-input"))||void 0===n||n.remove(),t.api.focusDefault(),t.repaint()})),Vr($r(t),"handleKeyup",(function(e){8!==e.keyCode&&13!==e.keyCode||t.inputEvtQueue.push(t.getKBKey(Qr.keyup,e)),t.backspaceKeyDown=!1})),Vr($r(t),"handleKeydown",(function(e){return 8!==e.keyCode&&13!==e.keyCode||t.inputEvtQueue.push(t.getKBKey(Qr.keydown,e)),t.backspaceKeyDown=8===e.keyCode,8!==e.keyCode||1!==t.input.value.length||(t.input.value=" ",t.input.selectionStart=t.input.selectionEnd=t.input.value.length,e.preventDefault(),e.stopPropagation(),!1)})),Vr($r(t),"handleCompositionStart",(function(e){t.compositionText=e.data,t.composing=!0})),Vr($r(t),"handleCompositionUpdate",(function(e){var n,r=qr(t.compositionText);try{for(r.s();!(n=r.n()).done;){n.value;t.sendBackspace()}}catch(t){r.e(t)}finally{r.f()}t.compositionText=e.data})),Vr($r(t),"handleCompositionEnd",(function(e){t.compositionText=e.data,0===t.compositionText.length&&(t.composing=!1)})),Vr($r(t),"handleInputEvent",(function(e){if("deleteContentBackward"===e.inputType){if(t.backspaceKeyDown)return;if(t.composing){var n,r=qr(t.compositionText);try{for(r.s();!(n=r.n()).done;){n.value;t.sendBackspace()}}catch(t){r.e(t)}finally{r.f()}}else if(t.sendBackspace(),0===t.input.value.length)return t.input.value=" ",setTimeout((function(){t.input.selectionStart=t.input.selectionEnd=t.input.value.length}),1),e.preventDefault(),void e.stopPropagation()}"insertCompositionText"!==e.inputType?e.isComposing||"insertText"!==e.inputType||null==e.data||(t.sendWordsUsingKeypressEvent(e.data),t.compositionText="",t.composing=!1):null!=e.data&&e.data.length&&(t.sendWordsUsingKeypressEvent(e.data),t.compositionText=e.data)})),Vr($r(t),"handleFullScreenChange",(function(){t.repaint();var e,n,r=window.document,o=r.fullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||r.msFullscreenElement;(t.toast("Fullscreen "+(o?"ON":"OFF")),null!=t.fullscreenButton)&&(null===(e=t.fullscreenButton.querySelector(".ws-button-toggle-fullscreen"))||void 0===e||e.classList.toggle("ws-icon-resize-small",o),null===(n=t.fullscreenButton.querySelector(".ws-button-toggle-fullscreen"))||void 0===n||n.classList.toggle("ws-icon-resize-full",!o))})),Vr($r(t),"handleGestureStart",(function(t){t.preventDefault()})),Vr($r(t),"handleStart",(function(e){ro(e.target)||(t.touchpadMode?t.handleStartPointer(e):"drag"===t.scrollMode?t.handleStartScrollDrag(e):"swipe"===t.scrollMode&&t.handleStartScrollSwipe(e))})),Vr($r(t),"handleMove",(function(e){ro(e.target)?e.cancelable&&e.preventDefault():t.touchpadMode?t.handleMovePointer(e):"drag"===t.scrollMode?t.handleMoveScrollDrag(e):"swipe"===t.scrollMode&&t.handleMoveScrollSwipe(e)})),Vr($r(t),"handleEnd",(function(e){ro(e.target)||(t.touchpadMode?t.handleEndPointer(e):"drag"===t.scrollMode?t.handleEndScrollDrag(e):"swipe"===t.scrollMode&&t.handleEndScrollSwipe(e))})),Vr($r(t),"handleCancel",(function(e){ro(e.target)||(t.touchpadMode||"drag"===t.scrollMode||"swipe"===t.scrollMode)&&t.handleCancelDefault(e)})),Vr($r(t),"handleStartDefault",(function(e){null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),null!=t.longPressStartTimeout&&(clearTimeout(t.longPressStartTimeout),t.longPressStartTimeout=void 0);var n=e.changedTouches;if(1===e.touches.length){t.dragStarted=e.timeStamp,t.tapStarted=e.timeStamp;var r=n[0].clientX,o=n[0].clientY;t.touchStartX=r,t.touchStartY=o,t.animateDrag(n[0].clientX,n[0].clientY),t.longPressStartTimeout=setTimeout((function(){t.animateLongPress(n[0].clientX,n[0].clientY)}),50),t.longPressTimeout=setTimeout((function(){t.longPressTimeout=void 0,t.tapStarted=0;var n=[];n.push(t.createMouseEvent(e.target,Zr.mousedown,r,o,3)),n.push(t.createMouseEvent(e.target,Zr.mouseup,r,o,3)),t.api.send({events:n}),t.api.focusDefault(),t.cancelAnimateDrag(),t.animateLongPressOut(r,o)}),t.tapDelayThreshold)}else t.tapStarted=0,t.dragStarted=0,t.touchStartY=0,t.touchStartX=0,t.cancelAnimateLongPress(),t.cancelAnimateDrag(),null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0);t.handleStartScaling(e),e.cancelable&&e.preventDefault()})),Vr($r(t),"handleStartScrollDrag",(function(e){t.handleStartDefault(e),t.dragging=!1})),Vr($r(t),"handleStartScrollSwipe",(function(e){t.handleStartDefault(e),t.cancelAnimateDrag()})),Vr($r(t),"handleStartPointer",(function(e){null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),null!=t.longPressStartTimeout&&(clearTimeout(t.longPressStartTimeout),t.longPressStartTimeout=void 0);var n=e.changedTouches;if(1===e.touches.length){if(t.tapStarted=e.timeStamp,t.dragStarted=e.timeStamp,t.touchStartX=n[0].clientX,t.touchStartY=n[0].clientY,t.cursor){var r=t.cursor.getBoundingClientRect(),o=r.left,i=r.top;t.cursor.dataset.originX=o.toString(),t.cursor.dataset.originY=i.toString();var a=t.getPointerRelatedCanvas(o,i);t.longPressStartTimeout=setTimeout((function(){t.animateLongPress(o,i)}),50),t.longPressTimeout=setTimeout((function(){t.longPressTimeout=void 0,t.tapStarted=0;var e=[];e.push(t.createMouseEvent(a,Zr.mousedown,o,i,3)),e.push(t.createMouseEvent(a,Zr.mouseup,o,i,3)),t.api.send({events:e}),t.api.focusDefault(),t.animateLongPressOut(o,i)}),t.tapDelayThreshold)}}else t.tapStarted=0,t.touchStartY=0,t.touchStartX=0,t.cancelAnimateLongPress(),null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0);t.handleStartScaling(e),t.dragging=!1,e.cancelable&&e.preventDefault()})),Vr($r(t),"handleMoveDefault",(function(e){if(t.scalingEnabled&&t.scaling&&2===e.touches.length){var n,r,o,i,a,s,c=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY),l=(c-t.lastScaleDist)*t.scaleSpeed;t.lastScaleDist=c;var u=l/Math.hypot(null===(n=t.canvas)||void 0===n?void 0:n.width,null===(r=t.canvas)||void 0===r?void 0:r.height),d=Number(t.canvas.dataset.scale)||1,p=Number(t.canvas.dataset.minscale)||1;u=Math.min(Math.max(p,d+u),t.maxScale),t.doScaleCanvas(u);var f=e.touches[0].clientX,h=e.touches[0].clientY,y=e.touches[1].clientX,g=e.touches[1].clientY,v=t.scaleStartPoints[0].x,m=t.scaleStartPoints[0].y,w=t.scaleStartPoints[1].x,b=t.scaleStartPoints[1].y,O=(null===(o=t.canvas)||void 0===o?void 0:o.clientWidth)*u-t.scaleStartDim.width,P=(null===(i=t.canvas)||void 0===i?void 0:i.clientHeight)*u-t.scaleStartDim.height,k={x:(v+w)/2,y:(m+b)/2},S={x:(f+y)/2,y:(h+g)/2},I=t.scaleStartScrollLeft+O*(k.x/(null===(a=t.canvas)||void 0===a?void 0:a.clientWidth)),E=t.scaleStartScrollTop+P*(k.y/(null===(s=t.canvas)||void 0===s?void 0:s.clientHeight));I+=k.x-S.x,E+=k.y-S.y;var j=t.api.cfg.rootElement;j.scrollLeft=I,j.scrollTop=E}else t.scaling=!1})),Vr($r(t),"handleMoveScrollDrag",(function(e){t.handleMoveDefault(e);var n=e.changedTouches;1===e.touches.length?t.handleDragMove(e.target,e.touches[0].clientX,e.touches[0].clientY,n[0].clientX,n[0].clientY,t.touchStartX,t.touchStartY,!0,(function(){return!0})):(t.tapStarted=0,t.dragStarted=0,t.dragging=!1),e.cancelable&&(e.preventDefault(),e.stopPropagation())})),Vr($r(t),"handleMoveScrollSwipe",(function(e){t.handleMoveDefault(e);var n=e.changedTouches;if(1===e.touches.length){if(Math.abs(t.touchStartX-e.touches[0].clientX)>t.tapMoveThreshold||Math.abs(t.touchStartY-e.touches[0].clientY)>t.tapMoveThreshold){t.tapStarted=0,clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0,t.cancelAnimateLongPress();var r=t.touchStartY-e.touches[0].clientY;if(0!==r){var o=t.createMouseEvent(e.target,Zr.mousewheel,n[0].clientX,n[0].clientY,0);o.mouse.wheelDelta=r,null!=t.latestMouseWheelEvent?t.latestMouseWheelEvent.mouse.wheelDelta+=r:t.latestMouseWheelEvent=o,t.touchStartY=e.touches[0].clientY}}}else t.tapStarted=0;e.cancelable&&(e.preventDefault(),e.stopPropagation())})),Vr($r(t),"handleMovePointer",(function(e){if(t.handleMoveDefault(e),1===e.touches.length){var n=t.getPointerCoords(e.touches[0].clientX,e.touches[0].clientY),r=t.getPointerRelatedCanvas(n.x,n.y);t.cursor&&(t.cursor.style.left=n.x+"px",t.cursor.style.top=n.y+"px",t.handleDragMove(r,e.touches[0].clientX,e.touches[0].clientY,n.x,n.y,Number(t.cursor.dataset.originX),Number(t.cursor.dataset.originY),!1,(function(){return e.timeStamp-t.lastTap<=t.doubleTapDelayThreshold})),t.dragging||(t.latestMouseMoveEvent=t.createMouseEvent(r,Zr.mousemove,n.x,n.y,0),t.cancelAnimateLongPress()))}else t.tapStarted=0,t.dragStarted=0,t.dragging=!1,t.latestMouseMoveEvent=void 0;e.cancelable&&(e.preventDefault(),e.stopPropagation())})),Vr($r(t),"handleEndDefault",(function(e,n,o,i){if((null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),t.tapStarted>0)&&e.timeStamp-t.tapStarted<=t.tapDelayThreshold){var a=[];if(a.push(t.createMouseEvent(n,Zr.mousedown,o,i,1)),a.push(t.createMouseEvent(n,Zr.mouseup,o,i,1)),n&&n.closest(".webswing-html-canvas")){var s=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,clientX:o,clientY:i});n.dispatchEvent(s)}if(t.api.send({events:a}),Object(r.v)()&&t.focusFakeInput(),t.cancelAnimateDrag(),t.cancelAnimateLongPress(),t.animateTap(o,i),t.tapStarted-t.lastTap<=t.doubleTapDelayThreshold){var c=t.createMouseEvent(n,Zr.dblclick,o,i,1);t.api.send({events:[c]}),t.lastTap=0}t.lastTap=t.tapStarted}t.scaling=!1,t.lastScaleDist=0,e.cancelable&&(e.preventDefault(),e.stopPropagation())})),Vr($r(t),"handleEndScrollDrag",(function(e){var n=e.changedTouches;t.handleEndDefault(e,e.target,n[0].clientX,n[0].clientY),t.handleDragMoveEnd(e.target,n[0].clientX,n[0].clientY)})),Vr($r(t),"handleEndScrollSwipe",(function(e){var n=e.changedTouches;t.handleEndDefault(e,e.target,n[0].clientX,n[0].clientY)})),Vr($r(t),"handleEndPointer",(function(e){var n=e.changedTouches,r=t.getPointerCoords(n[0].clientX,n[0].clientY),o=t.getPointerRelatedCanvas(r.x,r.y);t.handleEndDefault(e,o,r.x,r.y),t.handleDragMoveEnd(o,r.x,r.y)})),Vr($r(t),"handleCancelDefault",(function(e){null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),e.cancelable&&(e.preventDefault(),e.stopPropagation())})),Vr($r(t),"handleDragMove",(function(e,n,r,o,i,a,s,c,l){(Math.abs(t.touchStartX-n)>t.tapMoveThreshold||Math.abs(t.touchStartY-r)>t.tapMoveThreshold)&&(t.tapStarted=0,null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),t.cancelAnimateLongPress(),!t.dragging&&t.dragStarted>0&&l()&&(t.dragging=!0,t.api.send({events:[t.createMouseEvent(e,Zr.mousedown,a,s,1)]}))),t.dragging&&(t.api.send({events:[t.createMouseEvent(e,Zr.mousemove,o,i,1)]}),c&&t.animateDrag(o,i))})),Vr($r(t),"handleDragMoveEnd",(function(e,n,r){if(t.dragging){var o=t.createMouseEvent(e,Zr.mouseup,n,r,1);t.api.send({events:[o]}),t.api.focusDefault(),t.dragging=!1}t.cancelAnimateDrag()})),Vr($r(t),"handleStartScaling",(function(e){if(t.scalingEnabled){var n=t.api.cfg.rootElement;if(t.scaleStartScrollLeft=n.offsetLeft,t.scaleStartScrollTop=n.offsetTop,2===e.touches.length){t.scaling=!0;var r=e.touches[0].clientX,o=e.touches[0].clientY,i=e.touches[1].clientX,a=e.touches[1].clientY;t.lastScaleDist=Math.hypot(r-i,o-a),t.scaleStartPoints=[{x:r,y:o},{x:i,y:a}];var s=t.canvas,c=Number(s.dataset.scale)||Number(s.dataset.minscale)||1;t.scaleStartDim={width:s.clientWidth*c,height:s.clientHeight*c}}else t.scaling=!1,t.lastScaleDist=0,t.scaleStartPoints=[]}})),t}return e=a,(n=[{key:"provides",value:function(){var t=this;return{"touch.register":this.register,"touch.cursorChanged":this.cursorChanged,"touch.inputFocusLost":this.inputFocusLost,"touch.touchBarConfig":this.touchBarConfig(),"touch.touchBarEnabled":function(){return null!=t.touchBar},"touch.switchMode":this.switchMode,"touch.dispose":this.dispose,"touch.correctPosition":this.correctPosition,"touch.refreshScale":this.refreshScale}}},{key:"touchBarConfig",value:function(){var t=this;return{buttons:{defaultButtons:{toggleMode:{label:'<span class="ws-button-toggle-mode ws-icon-mouse-pointer" role="button"></span>',title:"${touch.controlMode}",enabled:!0,hidden:!1,action:function(e){t.buttonToggleMode(e)}},switchToDesktop:{label:'<span class="ws-button-switch-to-desktop ws-icon-desktop" role="button"></span>',title:"${touch.desktopMode}",enabled:!0,hidden:!0,action:function(e){t.buttonSwitchToDesktop(e)}},copy:{label:'<span class="ws-icon-docs" role="button"></span>',title:"${touch.copy}",enabled:!0,hidden:!1,action:function(e){t.buttonCopy(e)}},cut:{label:'<span class="ws-icon-scissors" role="button"></span>',title:"${touch.cut}",enabled:!0,hidden:!1,action:function(e){t.buttonCut(e)}},paste:{label:'<span class="ws-icon-paste" role="button"></span>',title:"${touch.paste}",enabled:!0,hidden:!1,action:function(e){t.buttonPaste(e)}},keyboard:{label:'<span class="ws-icon-keyboard" role="button"></span>',title:"${touch.keyboard}",enabled:!0,hidden:!0,action:function(e){t.buttonOpenKeyboard(e)}},fullscreen:{label:'<span class="ws-button-toggle-fullscreen ws-icon-resize-full" role="button"></span>',title:"${touch.fullscreen}",enabled:!Object(r.v)(),hidden:!1,action:function(e){t.buttonToggleFullscreen(e)}}},left:[],center:[],right:[]},scalingEnabled:!1,staticScaleEnabled:!1}}},{key:"register",value:function(t){var e=this;this.canvas=this.api.getCanvas(),this.doRegister(t,!1),this.currentConfig=t,document.addEventListener("touchstart",(function(t){ro(t.target)||e.api.hasUndockedWindows()||e.registered||e.switchModeDontAsk||e.switchModeRequested||(e.switchModeRequested=!0,e.api.showBar(e.api.dialogs.touchSwitchModeTouchDialog),t.preventDefault())})),document.addEventListener("mousemove",(function(t){ro(t.target)||!e.registered||e.switchModeDontAsk||e.switchModeRequested||e.isProbablyTouchBook||(e.switchModeRequested=!0,e.api.showBar(e.api.dialogs.touchSwitchModeMouseDialog),t.preventDefault(),t.stopPropagation())}),!1)}},{key:"doRegister",value:function(t,e){var n;this.registered||!Object(r.w)()&&!e||(this.input=document.querySelector(".ws-input-hidden"),document.addEventListener("touchstart",this.handleStart,{passive:!1}),document.addEventListener("touchend",this.handleEnd,{passive:!1}),document.addEventListener("touchcancel",this.handleCancel,{passive:!1}),document.addEventListener("touchleave",this.handleEnd,{passive:!1}),document.addEventListener("touchmove",this.handleMove,{passive:!1}),this.api.cfg.rootElementWrapper.classList.add("touch"),this.input.addEventListener("focus",this.handleInputFocus),this.input.addEventListener("blur",this.handleInputBlur),this.input.addEventListener("keyup",this.handleKeyup),this.input.addEventListener("keydown",this.handleKeydown),this.input.addEventListener("compositionstart",this.handleCompositionStart),this.input.addEventListener("compositionupdate",this.handleCompositionUpdate),this.input.addEventListener("compositionend",this.handleCompositionEnd),this.input.addEventListener("input",this.handleInputEvent),document.addEventListener("webkitfullscreenchange",this.handleFullScreenChange),document.addEventListener("mozfullscreenchange",this.handleFullScreenChange),document.addEventListener("fullscreenchange",this.handleFullScreenChange),document.addEventListener("MSFullscreenChange",this.handleFullScreenChange),Object(r.v)()&&document.addEventListener("gesturestart",this.handleGestureStart),this.initIntervals(),this.api.cfg.rootElement.onselectstart=function(t){return!1},this.registered=!0,this.api.cfg.touchMode=!0,this.currentMode="touch",this.touchpadMode=!1,this.input.blur(),this.api.focusDefault(),this.lastRootWidth=this.api.cfg.rootElement.clientWidth,this.lastRootHeight=this.api.cfg.rootElement.clientHeight,this.lastWinWidth=Math.round(document.body.clientWidth),this.lastWinHeight=Math.round(document.body.clientHeight),null===(n=this.api.cfg.rootElement.parentElement)||void 0===n||n.insertAdjacentHTML("beforeend",Nr.a),this.api.cfg.hideTouchBar||this.initTouchBar(t),this.initMisc(t),this.initScale())}},{key:"dispose",value:function(){var t;this.registered&&(document.removeEventListener("touchstart",this.handleStart),document.removeEventListener("touchend",this.handleEnd),document.removeEventListener("touchcancel",this.handleCancel),document.removeEventListener("touchleave",this.handleEnd),document.removeEventListener("touchmove",this.handleMove),this.api.cfg.rootElementWrapper.classList.remove("touch"),this.input&&(this.input.removeEventListener("focus",this.handleInputFocus),this.input.removeEventListener("blur",this.handleInputBlur),this.input.removeEventListener("keyup",this.handleKeyup),this.input.removeEventListener("keydown",this.handleKeydown),this.input.removeEventListener("compositionstart",this.handleCompositionStart),this.input.removeEventListener("compositionupdate",this.handleCompositionUpdate),this.input.removeEventListener("compositionend",this.handleCompositionEnd),this.input.removeEventListener("input",this.handleInputEvent)),document.removeEventListener("webkitfullscreenchange",this.handleFullScreenChange),document.removeEventListener("mozfullscreenchange",this.handleFullScreenChange),document.removeEventListener("fullscreenchange",this.handleFullScreenChange),document.removeEventListener("MSFullscreenChange",this.handleFullScreenChange),Object(r.v)()&&document.removeEventListener("gesturestart",this.handleGestureStart),this.api.cfg.rootElement.onselectstart=function(){return!0},this.api.sendHandshake(),clearInterval(this.sendInterval),clearInterval(this.canvasResizeInterval),null===(t=document.querySelector(".touch-control, #ws-cursor"))||void 0===t||t.remove(),this.touchBar=void 0,this.currentMode="mouse",this.registered=!1)}},{key:"initIntervals",value:function(){var t=this;this.sendInterval=setInterval((function(){return t.sendInput()}),100),setTimeout((function(){t.canvasResizeInterval=setInterval((function(){return t.resizeCheck()}),500)}),3e3)}},{key:"initTouchBar",value:function(t){if(null==this.touchBar){var e=this.api.cfg.rootElement.parentElement;if(this.touchBar=e.querySelector('[data-id="touchBar"]'),t&&t.buttons){var n=this.touchBar.querySelector(".ws-toolbar-container"),o=t.buttons.defaultButtons;o&&(this.appendButtonsToBar([o.toggleMode],null==n?void 0:n.querySelector(".align-left")),this.appendButtonsToBar([o.switchToDesktop],null==n?void 0:n.querySelector(".align-left")),this.appendButtonsToBar([o.copy],null==n?void 0:n.querySelector(".align-center")),this.appendButtonsToBar([o.cut],null==n?void 0:n.querySelector(".align-center")),this.appendButtonsToBar([o.paste],null==n?void 0:n.querySelector(".align-center")),this.appendButtonsToBar([o.keyboard],null==n?void 0:n.querySelector(".align-right")),this.appendButtonsToBar([o.fullscreen],null==n?void 0:n.querySelector(".align-right"))),this.appendButtonsToBar(t.buttons.left,null==n?void 0:n.querySelector(".align-left")),this.appendButtonsToBar(t.buttons.center,null==n?void 0:n.querySelector(".align-center")),this.appendButtonsToBar(t.buttons.right,null==n?void 0:n.querySelector(".align-right"))}this.cursor=document.getElementById("ws-cursor"),Object(r.B)(this.touchBar)}}},{key:"initMisc",value:function(t){var e,n=this;t&&(this.scalingEnabled=!1,this.staticScaleEnabled=t.staticScaleEnabled),null===(e=document.querySelector("#ws-canvas-scale .scale-restore"))||void 0===e||e.addEventListener("click",(function(){n.doScaleCanvas(1)}))}},{key:"initScale",value:function(){if(this.scalingEnabled){var t=0;this.touchBar&&null!=this.touchBar&&(t=this.touchBar.clientHeight);var e=Math.min(document.body.offsetWidth/this.api.getRootWidth(),(document.body.offsetHeight-t)/this.api.getRootHeight());this.canvas.dataset.scale=String(e),this.canvas.dataset.minscale=String(e),this.doScaleCanvas(e)}else if(this.staticScaleEnabled){var n=this.api.cfg.rootElement.clientHeight,r=this.api.cfg.rootElement.clientWidth,o=Math.min(r/this.api.getRootWidth(),n/this.api.getRootHeight());this.canvas.dataset.scale=String(o),this.refreshScale()}}},{key:"refreshScale",value:function(){if(this.staticScaleEnabled){var t=Number(this.canvas.dataset.scale)||1;this.api.cfg.rootElement.querySelectorAll(".webswing-canvas:not([data-id=canvas]), .ws-input-hidden").forEach((function(e){e.style.zoom=t+""}))}}},{key:"disposeScale",value:function(){this.scalingEnabled?(this.canvas.dataset.scale=String(1),this.canvas.dataset.minscale=String(1),this.doScaleCanvas(1)):this.staticScaleEnabled&&(this.canvas.dataset.scale=String(1),this.api.cfg.rootElement.querySelectorAll(".webswing-canvas:not([data-id=canvas]), .ws-input-hidden").forEach((function(t){t.style.zoom="1"})))}},{key:"appendButtonsToBar",value:function(t,e){if(t){var n,r=qr(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.appendButtonToBar(o,e)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"appendButtonToBar",value:function(t,e){if(t&&t.enabled){var n=document.createElement("button");n.classList.add("ws-touchbar-btn"),n.innerHTML=this.api.translate(t.label),n.setAttribute("title",this.api.translate(t.title)),Object(r.v)()?n.addEventListener("touchend",(function(){t.action&&t.action(n)})):n.addEventListener("click",(function(){t.action&&t.action(n)})),t.hidden?Object(r.t)(n):Object(r.B)(n),e.contains(n)||e.appendChild(n)}}},{key:"cursorChanged",value:function(t){if(this.cursor&&this.registered&&this.api.cfg.touchMode&&this.touchpadMode)if(this.cursor.classList.remove(),this.cursor.style.content="",null==t.b64img){var e=t.cursor;e&&null!=e&&this.cursor.classList.add(e)}else if(this.cursor.classList.add("custom"),this.api.cfg.ieVersion)this.cursor.style.content="url('"+this.api.cfg.connectionUrl+"file?id="+t.curFile+"')";else{var n=Object(r.p)(t.b64img);this.cursor.style.content="url("+n+")"}}},{key:"inputFocusLost",value:function(){this.input&&this.registered&&this.api.cfg.touchMode&&(this.input.matches(".focused-with-caret.editable")||this.hideKeyboard())}},{key:"focusFakeInput",value:function(){var t;if(!document.querySelectorAll("#fake-input").length){var e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("readonly","true"),e.id="fake-input",e.style.position="absolute",e.style.opacity="0",e.style.height="0",e.style.fontSize="16px",document.body.prepend(e),e.addEventListener("focus",(function(){setTimeout((function(){var t;null===(t=document.querySelector("#fake-input"))||void 0===t||t.remove()}),1e3)}))}null===(t=document.querySelector("#fake-input"))||void 0===t||t.focus({preventScroll:!0})}},{key:"switchMode",value:function(t,e){this.switchModeRequested=!1,e&&(this.switchModeDontAsk=!0),t&&("mouse"===this.currentMode?(this.doRegister(this.currentConfig,!0),this.api.sendHandshake(),this.switchModeAlreadySwitched&&!this.isProbablyTouchBook||(Object(r.B)(document.querySelector(".ws-button-switch-to-desktop").parentElement),Object(r.t)(document.querySelector(".ws-button-toggle-mode").parentElement),this.isProbablyTouchBook=!0)):(this.disposeScale(),this.dispose(),this.api.cfg.touchMode=!1),this.switchModeAlreadySwitched=!0)}},{key:"buttonToggleMode",value:function(t){var e,n;this.touchpadMode=!this.touchpadMode,null===(e=t.querySelector(".ws-button-toggle-mode"))||void 0===e||e.classList.toggle("ws-icon-hand-paper-o",this.touchpadMode),null===(n=t.querySelector(".ws-button-toggle-mode"))||void 0===n||n.classList.toggle("ws-icon-mouse-pointer",!this.touchpadMode),this.cursor&&(this.touchpadMode?Object(r.B)(this.cursor):Object(r.t)(this.cursor),this.cursor.style.top=this.cursor.parentElement.clientHeight/2+"px",this.cursor.style.left=this.cursor.parentElement.clientWidth/2+"px"),t.blur(),this.toast(this.touchpadMode?"Pointer Mode":"Touch Mode")}},{key:"buttonSwitchToDesktop",value:function(t){this.disposeScale(),this.dispose(),this.api.cfg.touchMode=!1}},{key:"buttonCopy",value:function(t){t.blur(),this.api.send({copy:{type:to.copy}}),this.toast("Copy")}},{key:"buttonCut",value:function(t){t.blur(),this.api.send({copy:{type:to.cut}}),this.toast("Cut")}},{key:"buttonPaste",value:function(t){t.blur(),this.api.displayPasteDialog({title:"${clipboard.paste.title.touch}",message:"${clipboard.paste.message.touch}"}),this.toast("Paste")}},{key:"buttonOpenKeyboard",value:function(t){t.blur(),this.showKeyboard(),this.toast("Keyboard ON")}},{key:"buttonToggleFullscreen",value:function(t){this.fullscreenButton=t,t.blur();var e=window.document,n=e.documentElement,r=n.requestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||n.msRequestFullscreen,o=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?o.call(e):r.call(n)}},{key:"animateTap",value:function(t,e){window.pageYOffset>0&&(e+=window.pageYOffset);var n=document.getElementById("ws-touch-effect");null==n||n.classList.remove("animate","animateLong","animateLongOut"),n.style.top=e-(null==n?void 0:n.clientHeight)/2+"px",n.style.left=t-(null==n?void 0:n.clientWidth)/2+"px",null==n||n.classList.add("animate")}},{key:"animateLongPress",value:function(t,e){window.pageYOffset>0&&(e+=window.pageYOffset);var n=document.getElementById("ws-touch-effect");null==n||n.classList.remove("animate","animateLong","animateLongOut"),n.style.top=e-(null==n?void 0:n.clientHeight)/2+"px",n.style.left=t-(null==n?void 0:n.clientWidth)/2+"px",null==n||n.classList.add("animateLong")}},{key:"animateLongPressOut",value:function(t,e){window.pageYOffset>0&&(e+=window.pageYOffset);var n=document.getElementById("ws-touch-effect");null==n||n.classList.remove("animate","animateLong","animateLongOut"),n.style.top=e-(null==n?void 0:n.clientHeight)/2+"px",n.style.left=t-(null==n?void 0:n.clientWidth)/2+"px",null==n||n.classList.add("animateLongOut")}},{key:"cancelAnimateLongPress",value:function(){null!=this.longPressStartTimeout&&(clearTimeout(this.longPressStartTimeout),this.longPressStartTimeout=void 0);var t=document.getElementById("ws-touch-effect");null==t||t.classList.remove("animate","animateLong","animateLongOut")}},{key:"cancelAnimateDrag",value:function(){document.querySelectorAll(".ws-drag-effect").forEach((function(t){t.style.display="none"}))}},{key:"animateDrag",value:function(t,e){window.pageYOffset>0&&(e+=window.pageYOffset),document.querySelectorAll(".ws-drag-effect").forEach((function(n){n.style.display="block",n.style.top=e-(null==n?void 0:n.clientHeight)/2+"px",n.style.left=t-(null==n?void 0:n.clientWidth)/2+"px"}))}},{key:"getPointerCoords",value:function(t,e){var n,r,o=this.api.cfg.rootElement.clientHeight,i=this.api.cfg.rootElement.clientWidth,a=t-this.touchStartX,s=e-this.touchStartY,c=Number(null===(n=this.cursor)||void 0===n?void 0:n.dataset.originX),l=Number(null===(r=this.cursor)||void 0===r?void 0:r.dataset.originY);return{x:Math.max(0,Math.min(c+a,i-1)),y:Math.max(0,Math.min(l+s,o-1))}}},{key:"getPointerRelatedCanvas",value:function(t,e){return document.elementFromPoint(t,e)}},{key:"doScaleCanvas",value:function(t){var e=this;this.scalingEnabled&&(null!=this.scaleHideTimer&&(clearTimeout(this.scaleHideTimer),this.scaleHideTimer=void 0),1===t?(this.canvas.style.transform="scale("+t+")",this.canvas.style.transformOrigin=""):(this.canvas.style.transform="scale("+t+")",this.canvas.style.transformOrigin="top left"),this.canvas.dataset.scale=String(t),1!==t?(Object(r.B)(document.getElementById("ws-canvas-scale")),Object(r.B)(document.querySelector("#ws-canvas-scale .scale-restore"))):Object(r.t)(document.querySelector("#ws-canvas-scale .scale-restore")),document.querySelector("#ws-canvas-scale .scale-value").textContent=Number(100*t).toFixed(0)+"%",this.scaleHideTimer=setTimeout((function(){Object(r.t)(document.getElementById("ws-canvas-scale")),e.scaleHideTimer=void 0}),3e3),this.repaint())}},{key:"correctPosition",value:function(){this.api.cfg.rootElement.scrollTop>0&&this.api.cfg.rootElement.scrollTo(0,0),this.isKeyboardProbablyShowing||this.staticScaleEnabled&&this.initScale()}},{key:"sendWordsUsingKeypressEvent",value:function(t){for(var e=0,n=t.length;e<n;e++)this.inputEvtQueue.push({key:{type:Qr.keydown,character:t.charCodeAt(e),keycode:0}},{key:{type:Qr.keypress,character:t.charCodeAt(e),keycode:0}},{key:{type:Qr.keyup,character:t.charCodeAt(e),keycode:0}})}},{key:"sendBackspace",value:function(){this.inputEvtQueue.push({key:{type:Qr.keydown,character:8,keycode:8,alt:!1,ctrl:!1,shift:!1,meta:!1}}),this.inputEvtQueue.push({key:{type:Qr.keypress,character:8,keycode:8,alt:!1,ctrl:!1,shift:!1,meta:!1}}),this.inputEvtQueue.push({key:{type:Qr.keyup,character:8,keycode:8,alt:!1,ctrl:!1,shift:!1,meta:!1}})}},{key:"getKBKey",value:function(t,e){var n=e.which;0===n&&null!=e.key&&(n=e.key.charCodeAt(0));var r=e.keyCode;return 0===r&&(r=n),{key:{type:t,character:n,keycode:r,alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey,meta:e.metaKey}}}},{key:"createMouseEvent",value:function(t,e,n,r,o){var i,a,s,c,l,u=Number(this.canvas.dataset.scale)||1;if(i=t&&null!=t&&t.parentNode&&null!=t.parentNode&&t.parentNode.getBoundingClientRect?t.matches(".internal")?null===(a=t.parentElement)||void 0===a?void 0:a.parentElement:t.parentElement:this.api.getCanvas(),t&&t.matches("canvas.webswing-canvas")&&t.dataset.id&&"canvas"!==t.dataset.id&&(t.matches(".internal")?t.parentNode&&(null===(c=t.parentElement)||void 0===c?void 0:c.dataset.ownerid)&&(s=t.parentElement.dataset.ownerid):s=t.dataset.id),!(e!==Zr.mouseup||t&&t.matches&&t.matches("canvas.webswing-canvas")))return{mouse:{x:-1,y:-1,type:e,button:o,buttons:0===o?0:Math.pow(2,o),winId:s||"",timeMilis:Date.now()%864e5}};e===Zr.mouseup&&t&&t.matches&&!t.matches("canvas.webswing-canvas")&&null!=t.closest(".webswing-html-canvas")&&(i=null==t||null===(l=t.closest(".webswing-html-canvas"))||void 0===l?void 0:l.parentElement);var d=i.getBoundingClientRect().left,p=i.getBoundingClientRect().top,f=Math.round((n-d)/u),h=Math.round((r-p)/u);return t&&t.parentElement&&(f+=t.parentElement.scrollLeft/u,h+=t.parentElement.scrollTop/u),{mouse:{x:Math.round(f),y:Math.round(h),type:e,button:o,buttons:0===o?0:Math.pow(2,o),winId:s||"",timeMilis:Date.now()%864e5}}}},{key:"sendInput",value:function(){this.enqueueInputEvent();var t=this.inputEvtQueue;this.inputEvtQueue=[],t.length>0&&this.api.send({events:t})}},{key:"enqueueInputEvent",value:function(){if(this.api.cfg.hasControl){if(null!=this.latestMouseWheelEvent){var t,e,n,r,o=null===(t=this.latestMouseWheelEvent.mouse)||void 0===t?void 0:t.wheelDelta;if(o){var i=Math.sign(o);Math.abs(o)<10?o=i:o/=10}this.inputEvtQueue.push({mouse:{x:null===(e=this.latestMouseWheelEvent.mouse)||void 0===e?void 0:e.x,y:null===(n=this.latestMouseWheelEvent.mouse)||void 0===n?void 0:n.y,type:Zr.mousewheel,wheelDelta:o,button:0,buttons:0,ctrl:!1,alt:!1,shift:!1,meta:!1,timeMilis:null===(r=this.latestMouseWheelEvent.mouse)||void 0===r?void 0:r.timeMilis}}),this.latestMouseWheelEvent=void 0}null!=this.latestMouseMoveEvent&&(this.inputEvtQueue.push(this.latestMouseMoveEvent),this.latestMouseMoveEvent=void 0)}}},{key:"showKeyboard",value:function(){}},{key:"hideKeyboard",value:function(){this.input&&(this.input.style.top="",this.input.style.left="",this.input.style.height="",this.input.classList.remove("focused-with-caret editable"),this.input.blur(),this.api.focusDefault())}},{key:"resizeCheck",value:function(){if(!this.api.cfg.mirror&&null!=this.canvas){if(this.lastRootWidth!==this.api.cfg.rootElement.clientWidth||this.lastRootHeight!==this.api.cfg.rootElement.clientHeight){if(this.scalingEnabled){var t,e=Math.min(document.body.offsetWidth/this.api.getRootWidth(),(document.body.offsetHeight-(null===(t=this.touchBar)||void 0===t?void 0:t.clientHeight))/this.api.getRootHeight());this.canvas.dataset.minscale=String(e),e>Number(this.canvas.dataset.scale)&&(this.canvas.dataset.scale=String(e),this.doScaleCanvas(e))}this.lastRootWidth=this.api.cfg.rootElement.clientWidth,this.lastRootHeight=this.api.cfg.rootElement.clientHeight,this.api.sendHandshake()}var n,r,o=this.lastWinWidth!==Math.round(document.body.clientWidth),i=this.lastWinHeight!==Math.round(document.body.clientHeight);if(o&&i&&this.correctPosition(),i&&!o&&this.lastWinHeight-document.body.clientHeight>100)return void((null===(n=this.input)||void 0===n?void 0:n.matches(".focused-with-caret.editable"))&&(this.isKeyboardProbablyShowing=!0));(null===(r=this.input)||void 0===r?void 0:r.matches(".focused-with-caret.editable"))&&this.isKeyboardProbablyShowing&&(this.isKeyboardProbablyShowing=!1,this.hideKeyboard()),this.lastWinWidth=Math.round(document.body.clientWidth),this.lastWinHeight=Math.round(document.body.clientHeight),this.isKeyboardProbablyShowing=!1}}},{key:"repaint",value:function(){var t=this;null!=this.repaintTimeout&&(clearTimeout(this.repaintTimeout),this.repaintTimeout=void 0),(new Date).getTime()-this.lastRepaint<500?this.repaintTimeout=setTimeout((function(){t.repaint()}),250):(this.api.repaint(),this.lastRepaint=(new Date).getTime())}},{key:"toast",value:function(t){null!=this.toastTimer&&(clearTimeout(this.toastTimer),this.toastTimer=void 0);var e=document.querySelector("#ws-toast");e.textContent=t,Object(r.B)(e),this.toastTimer=setTimeout((function(){e.textContent="",Object(r.t)(e)}),2e3)}}])&&Jr(e.prototype,n),o&&Jr(e,o),a}(o.b);function ro(t){return!t||!(t instanceof Element&&t.matches&&(t.matches("canvas.webswing-canvas")||t.matches(".webswing-html-canvas")))&&!t.closest(".webswing-html-canvas")}function oo(t){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function io(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ao(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ao(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function so(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lo(t,e){return(lo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ho(t);if(e){var o=ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return po(this,n)}}function po(t,e){return!e||"object"!==oo(e)&&"function"!=typeof e?fo(t):e}function fo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ho(t){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var go={cfg:"webswing.config",send:"socket.send",sendSimpleEvent:"socket.sendSimpleEvent",getCanvas:"canvas.get",cut:"clipboard.cut",copy:"clipboard.copy",paste:"clipboard.paste",isAccessibilityEnabled:"accessible.isEnabled",toggleAccessibility:"accessible.toggle",focusInput:"focusManager.focusInput",inputConfig:"input.config"},vo=P.appFrameProtoIn.KeyboardEventMsgInProto.KeyEventTypeProto,mo=P.appFrameProtoIn.MouseEventMsgInProto.MouseEventTypeProto,wo=P.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto,bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lo(t,e)}(a,t);var e,n,o,i=uo(a);function a(){var t;so(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return yo(fo(t=i.call.apply(i,[this].concat(n))),"registered",!1),yo(fo(t),"registeredListeners",[]),yo(fo(t),"latestMouseMoveEvent",void 0),yo(fo(t),"latestMouseWheelEvent",void 0),yo(fo(t),"latestWindowResizeEvent",void 0),yo(fo(t),"latestKeyDownEvent",void 0),yo(fo(t),"latestKeyDownEventSendTimeout",null),yo(fo(t),"mouseDown",0),yo(fo(t),"mouseDownButton",0),yo(fo(t),"mouseDownCanvas",void 0),yo(fo(t),"inputEvtQueue",[]),yo(fo(t),"pixelsScrolled",0),yo(fo(t),"compositionInput",!1),yo(fo(t),"focusedHtmlCanvas",void 0),yo(fo(t),"ctrlCounter",0),yo(fo(t),"lastCtrlKey",0),yo(fo(t),"ctrl3Timeout",void 0),yo(fo(t),"caretControlKeys",[33,34,35,36,37,38,39,40]),t}return e=a,(n=[{key:"provides",value:function(){return{"input.register":this.register,"input.sendInput":this.sendInput,"input.dispose":this.dispose,"input.registerUndockedCanvas":this.registerUndockedCanvas,"input.updateFocusedHtmlCanvas":this.updateFocusedHtmlCanvas,"input.config":this.config()}}},{key:"config",value:function(){return{preventWheelEvent:!0}}},{key:"sendInput",value:function(t){this.enqueueInputEvent();var e=this.inputEvtQueue;this.inputEvtQueue=[],null!=t&&e.push(t),e.length>0&&this.api.send({events:e})}},{key:"enqueueInputEvent",value:function(t){this.api.cfg.hasControl&&(null!=this.latestMouseMoveEvent&&(this.inputEvtQueue.push(this.latestMouseMoveEvent),this.latestMouseMoveEvent=void 0),null!=this.latestMouseWheelEvent&&(this.inputEvtQueue.push(this.latestMouseWheelEvent),this.latestMouseWheelEvent=void 0),null!=this.latestWindowResizeEvent&&(this.inputEvtQueue.push(this.latestWindowResizeEvent),this.latestWindowResizeEvent=void 0),null!=t&&JSON.stringify(this.inputEvtQueue[this.inputEvtQueue.length-1])!==JSON.stringify(t)&&this.inputEvtQueue.push(t))}},{key:"resetInput",value:function(){this.latestMouseMoveEvent=void 0,this.latestMouseWheelEvent=void 0,this.latestWindowResizeEvent=void 0,this.latestKeyDownEvent=void 0,this.latestKeyDownEventSendTimeout=null,this.mouseDown=0,this.mouseDownButton=0,this.resetMouseDownCanvas(),this.inputEvtQueue=[]}},{key:"dispose",value:function(){this.registered=!1,this.resetInput();var t,e=io(this.registeredListeners);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.useCapture?n.target.removeEventListener(n.name,n.listener,n.useCapture):n.target.removeEventListener(n.name,n.listener)}}catch(t){e.e(t)}finally{e.f()}}},{key:"registerUndockedCanvas",value:function(t){var e,n=t.document.createElement("input");n.classList.add("ws-input-hidden"),n.setAttribute("autocorrect","off"),n.setAttribute("autocthis.api.alize","none"),n.setAttribute("autocomplete","off"),n.setAttribute("data-id","input-handler"),null===(e=t.document.querySelector(".webswing-element .webswing-element-content"))||void 0===e||e.appendChild(n),t.inputHandler=n,this.registerInternal(t.inputHandler,t.document,t)}},{key:"register",value:function(){this.registered||(this.registerInternal(document.querySelector(".ws-input-hidden"),document,window),this.registered=!0)}},{key:"registerInternal",value:function(t,e,n){var r=this;this.resetInput(),this.focusInput(t),this.registerGlobalListener(e,"mousedown",(function(e){return r.handleMouseDown(e,t)}),!0),this.registerGlobalListener(e,"dblclick",(function(e){return r.handleDblClick(e,t)})),this.registerGlobalListener(e,"mousemove",(function(t){return r.handleMouseMove(t)})),this.registerGlobalListener(e,"mouseup",(function(e){return r.handleMouseUp(e,t)})),this.registerGlobalListener(e.querySelector(".webswing-element"),"wheel",(function(t){return r.handleWheel(t)})),this.registerGlobalListener(e,"contextmenu",(function(t){return r.handleContextMenu(t)})),this.registerGlobalListener(e,"keydown",(function(t){return r.handleKeyDown(t)})),this.registerGlobalListener(e,"keypress",(function(t){return r.handleKeyPress(t)})),this.registerGlobalListener(e,"keyup",(function(t){return r.handleKeyUp(t)})),this.registerGlobalListener(e,"compositionstart",(function(e){return r.handleCompositionStart(e,t)})),this.registerGlobalListener(e,"compositionupdate",(function(e){return r.handleCompositionUpdate(e,t)})),this.registerGlobalListener(e,"compositionend",(function(e){return r.handleCompositionEnd(e,t)})),this.registerGlobalListener(e,"input",(function(e){return r.handleInput(e,t)})),this.registerGlobalListener(e,"cut",(function(t){return r.handleCut(t)})),this.registerGlobalListener(e,"copy",(function(t){return r.handleCopy(t)})),this.registerGlobalListener(e,"paste",(function(t){return r.handlePaste(t)})),this.registerGlobalListener(e,"mouseout",(function(e){return r.mouseOutEventHandler(e,t)})),this.registerGlobalListener(e,"mouseover",(function(t){return r.mouseOverEventHandler(t)})),this.registerGlobalListener(n,"blur",(function(t){setTimeout((function(){return r.handleWindowBlur(t.target)}),0)}))}},{key:"registerGlobalListener",value:function(t,e,n,r){t.addEventListener(e,n,r),this.registeredListeners.push({target:t,name:e,listener:n,useCapture:r})}},{key:"updateFocusedHtmlCanvas",value:function(t){var e=function(t){for(;t&&t.matches;){if(t.matches("div.webswing-html-canvas"))return t;t=t.parentNode}return!1}(t);e?(this.focusedHtmlCanvas!==e&&this.sendInput({focus:{htmlPanelId:e.getAttribute("data-id")}}),this.focusedHtmlCanvas=e):this.focusedHtmlCanvas=void 0}},{key:"handleWindowBlur",value:function(t){null!==t&&this.updateFocusedHtmlCanvas(t.document.activeElement)}},{key:"handleMouseDown",value:function(t,e){if(this.updateFocusedHtmlCanvas(t.target),!Po(t)){this.mouseDownEventHandler(t);var n=this.getMousePos(t,mo.mousedown,t.target);return this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(n),this.focusInput(e),this.sendInput(),t.preventDefault(),t.stopPropagation(),!1}}},{key:"handleDblClick",value:function(t,e){if(!Po(t)){var n=this.getMousePos(t,mo.dblclick,t.target);return this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(n),this.focusInput(e),this.sendInput(),t.preventDefault(),t.stopPropagation(),!1}}},{key:"handleMouseMove",value:function(t){if(this.updatePageOffset(t),!Po(t)||null!=this.mouseDownCanvas){var e=this.getMousePos(t,mo.mousemove,null!=this.mouseDownCanvas?this.mouseDownCanvas:t.target);return this.latestMouseMoveEvent=e,Po(t)&&null!=this.mouseDownCanvas&&(t.preventDefault(),t.stopPropagation()),!1}}},{key:"handleMouseUp",value:function(t,e){var n=this.getMousePos(t,mo.mouseup,t.target);this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(n);var r=t.target;return r&&r.matches&&r.matches("canvas.webswing-canvas")&&null!=this.mouseDownCanvas&&this.focusInput(e),this.sendInput(),this.mouseDown=this.mouseDown&~Math.pow(2,t.which),this.mouseDownButton=0,this.resetMouseDownCanvas(),!1}},{key:"handleWheel",value:function(t){if(!Po(t)){if(this.pixelsScrolled+=Object(r.h)()?100*t.deltaY:t.deltaY,this.pixelsScrolled>=100||this.pixelsScrolled<=-100){this.pixelsScrolled=0;var e,n,o=this.getMousePos(t,mo.mousewheel,t.target);this.latestMouseMoveEvent=void 0,null!=this.latestMouseWheelEvent&&(o.mouse.wheelDelta+=null===(e=this.latestMouseWheelEvent)||void 0===e||null===(n=e.mouse)||void 0===n?void 0:n.wheelDelta),this.latestMouseWheelEvent=o}return this.api.inputConfig.preventWheelEvent&&t.preventDefault(),t.stopPropagation(),!1}}},{key:"handleContextMenu",value:function(t){if(!Po(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:"handleKeyDown",value:function(t){Po(t)&&ko(t)||this.keyDownHandler(t)}},{key:"handleKeyPress",value:function(t){Po(t)&&ko(t)||this.keyPressHandler(t)}},{key:"handleKeyUp",value:function(t){this.handleAccessibilityAccessKeys(t),Po(t)&&ko(t)||this.keyUpHandler(t)}},{key:"handleCompositionStart",value:function(t,e){ko(t)||this.api.cfg.touchMode||(this.compositionInput=!0,e.classList.add("ws-input-ime"),e.classList.remove("ws-input-hidden"),e.style.font="14px sans-serif")}},{key:"handleCompositionUpdate",value:function(t,e){if(!ko(t)&&!this.api.cfg.touchMode){var n=t.data;e.style.width=this.getTextWidth(n,"14px sans-serif")+"px"}}},{key:"handleCompositionEnd",value:function(t,e){if(!ko(t)&&!this.api.cfg.touchMode){e.classList.add("ws-input-hidden"),e.classList.remove("ws-input-ime"),e.style.width="1px";var n=this.api.cfg.ieVersion&&this.api.cfg.ieVersion<=11,r=t.target;this.sentWordsUsingKeypressEvent(n?r.value:t.data),this.compositionInput=!1,this.focusInput(e)}}},{key:"handleInput",value:function(t,e){ko(t)||this.api.cfg.touchMode||!this.compositionInput&&e.value&&(!t.isComposing&&"insertText"===t.inputType&&null!=t.data||this.api.cfg.ieVersion&&"input"===t.type)&&" "!==e.value&&(this.sentWordsUsingKeypressEvent(e.value),this.focusInput(e))}},{key:"handleCut",value:function(t){return t.preventDefault(),t.stopPropagation(),this.api.cut(t),!1}},{key:"handleCopy",value:function(t){return t.preventDefault(),t.stopPropagation(),this.api.copy(t),!1}},{key:"handlePaste",value:function(t){return t.preventDefault(),t.stopPropagation(),this.api.paste(t,!1),!1}},{key:"keyDownHandler",value:function(t){var e=this;if(!this.api.cfg.touchMode){var n=[9,12,16,17,18,19,20,27,32,33,34,35,36,37,38,39,40,44,45,46,91,92,93,145,225,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135],o=t.keyCode;-1!==n.indexOf(o)&&(this.api.cfg.virtualKB||this.isInputCaretControl(t.keyCode,t.target)||(t.preventDefault(),t.stopPropagation()));var i=this.getKBKey(vo.keydown,t);if(!this.isClipboardEvent(i)){var a,s,c;if(this.isCtrlCmd(i)&&!(null===(a=i.key)||void 0===a?void 0:a.alt)&&t.preventDefault(),null!=this.latestKeyDownEvent&&(this.enqueueInputEvent(this.latestKeyDownEvent),this.latestKeyDownEvent=void 0,clearTimeout(this.latestKeyDownEventSendTimeout),this.latestKeyDownEventSendTimeout=null),this.latestKeyDownEvent=i,this.latestKeyDownEventSendTimeout=setTimeout((function(){e.enqueueInputEvent(e.latestKeyDownEvent),e.latestKeyDownEvent=void 0}),100),!Object(r.j)()&&!(null===(s=i.key)||void 0===s?void 0:s.ctrl)&&(null===(c=i.key)||void 0===c?void 0:c.alt)&&-1===n.indexOf(o)){if(t.preventDefault(),t.stopPropagation(),(i=this.getKBKey(vo.keypress,t)).key)if(1===t.key.length)i.key.character=t.key.charCodeAt(0);else{var l,u,d=null===(l=i.key)||void 0===l?void 0:l.keycode;i.key.character=!(null===(u=i.key)||void 0===u?void 0:u.shift)&&d>=65&&d<=90?d+32:d}this.enqueueInputEvent(i)}8===t.keyCode&&(t.stopImmediatePropagation(),t.preventDefault())}return!1}}},{key:"isInputCaretControl",value:function(t,e){return!e.matches("[aria-hidden=true]")&&-1!==this.caretControlKeys.indexOf(t)}},{key:"keyPressHandler",value:function(t){if(!this.api.cfg.touchMode){var e,n,o=this.getKBKey(vo.keypress,t);if(!this.isClipboardEvent(o))t.preventDefault(),t.stopPropagation(),(null===(e=this.latestKeyDownEvent)||void 0===e?void 0:e.key)&&(this.latestKeyDownEvent.key.character=null===(n=o.key)||void 0===n?void 0:n.character,this.enqueueInputEvent(this.latestKeyDownEvent),this.latestKeyDownEvent=void 0,clearTimeout(this.latestKeyDownEventSendTimeout),this.latestKeyDownEventSendTimeout=null),this.enqueueInputEvent(o);return Object(r.j)()&&o.key&&(o.key.alt=!1),!1}}},{key:"keyUpHandler",value:function(t){var e,n;if(!this.api.cfg.touchMode){var r=this.getKBKey(vo.keyup,t);return null!=this.latestKeyDownEvent&&(null===(e=this.latestKeyDownEvent.key)||void 0===e?void 0:e.keycode)===(null===(n=r.key)||void 0===n?void 0:n.keycode)&&(this.enqueueInputEvent(this.latestKeyDownEvent),this.latestKeyDownEvent=void 0,clearTimeout(this.latestKeyDownEventSendTimeout),this.latestKeyDownEventSendTimeout=null),this.isClipboardEvent(r)||(this.api.cfg.virtualKB||this.isInputCaretControl(t.keyCode,t.target)||(t.preventDefault(),t.stopPropagation()),this.enqueueInputEvent(r),this.sendInput()),!1}}},{key:"isClipboardEvent",value:function(t){var e,n,r,o,i,a,s,c,l,u=this.isCtrlCmd(t),d=vo.keypress===(null===(e=t.key)||void 0===e?void 0:e.type)?120===t.key.character||24===t.key.character||99===t.key.character:88===(null===(n=t.key)||void 0===n?void 0:n.character)||67===(null===(r=t.key)||void 0===r?void 0:r.character),p=u&&!(null===(o=t.key)||void 0===o?void 0:o.alt)&&!(null===(i=t.key)||void 0===i?void 0:i.shift)&&d,f=vo.keypress===(null===(a=t.key)||void 0===a?void 0:a.type)?118===t.key.character||22===t.key.character||86===t.key.character:86===(null===(s=t.key)||void 0===s?void 0:s.character);return u&&!(null===(c=t.key)||void 0===c?void 0:c.alt)&&!(null===(l=t.key)||void 0===l?void 0:l.shift)&&f||p}},{key:"isCtrlCmd",value:function(t){var e,n;return this.api.cfg.isMac?null===(e=t.key)||void 0===e?void 0:e.meta:null===(n=t.key)||void 0===n?void 0:n.ctrl}},{key:"getTextWidth",value:function(t,e){var n=this.api.getCanvas().getContext("2d");n.save(),n.font=e;var r=n.measureText(t);return n.restore(),Math.ceil(r.width)+5}},{key:"updatePageOffset",value:function(t){var e,n=t.target;(null===(e=n.ownerDocument)||void 0===e?void 0:e.defaultView)&&(n.ownerDocument.defaultView.pageOffset={x:t.screenX-t.clientX,y:t.screenY-t.clientY})}},{key:"handleAccessibilityAccessKeys",value:function(t){var e=this;null!=this.ctrl3Timeout&&(clearTimeout(this.ctrl3Timeout),this.ctrl3Timeout=void 0);var n=(new Date).getTime();17===t.keyCode?(n-this.lastCtrlKey<1e3?this.ctrlCounter++:this.ctrlCounter=0,this.lastCtrlKey=n):this.ctrlCounter=0,this.ctrlCounter+1===3&&this.api.isAccessibilityEnabled()&&(this.ctrl3Timeout=setTimeout((function(){e.ctrlCounter=0,e.api.sendSimpleEvent({type:wo.requestWindowSwitchList})}),1e3)),this.ctrlCounter+1===5&&(this.api.toggleAccessibility(),this.ctrlCounter=0)}},{key:"setMouseDownCanvas",value:function(t){this.mouseDownCanvas=Oo(t.target)?t.target:null,Oo(t.target)&&document.querySelectorAll(".webswing-html-canvas iframe").forEach((function(t){t.classList.add("webswing-iframe-muted-while-dragging")}))}},{key:"resetMouseDownCanvas",value:function(){this.mouseDownCanvas=void 0,document.querySelectorAll(".webswing-html-canvas iframe").forEach((function(t){t.classList.remove("webswing-iframe-muted-while-dragging")}))}},{key:"mouseDownEventHandler",value:function(t){this.mouseDown=this.mouseDown|Math.pow(2,t.which),this.mouseDownButton=t.which,this.setMouseDownCanvas(t)}},{key:"mouseOutEventHandler",value:function(t,e){Oo(t.target)||Oo(t.relatedTarget)||null!=this.mouseDownCanvas||this.mouseOutEventHandlerImpl(t,e)}},{key:"mouseOutEventHandlerImpl",value:function(t,e){if(0!==this.mouseDown&&this.api.cfg.hasControl&&this.api.cfg.canPaint&&!this.api.cfg.mirrorMode&&!this.api.cfg.touchMode&&!this.compositionInput){var n,r,o,i,a=this.getMousePos(t,mo.mouseup,t.target),s=this.api.getCanvas().getBoundingClientRect();((null===(n=a.mouse)||void 0===n?void 0:n.x)<0||(null===(r=a.mouse)||void 0===r?void 0:r.x)>s.width)&&(a.mouse.x=-1),((null===(o=a.mouse)||void 0===o?void 0:o.y)<0||(null===(i=a.mouse)||void 0===i?void 0:i.y)>s.height)&&(a.mouse.y=-1),this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(a),this.focusInput(e),this.sendInput()}this.mouseDown=0,this.mouseDownButton=0,this.resetMouseDownCanvas()}},{key:"mouseOverEventHandler",value:function(t){var e=t.target;if(!e||!e.matches||!e.matches("#canvas-overlay")&&!e.matches(".canvas-component")){var n=Math.pow(2,t.which);if(0!==this.mouseDownButton&&this.mouseDownButton!==t.which&&this.mouseDown!==n){var r=this.getMousePos(t,mo.mouseup,t.target);r.mouse.buttons=this.mouseDown,r.mouse.button=this.mouseDownButton,this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(r),this.sendInput(),this.mouseDown=0,this.mouseDownButton=0,this.resetMouseDownCanvas()}}}},{key:"focusInput",value:function(t){this.api.focusInput(t)}},{key:"sentWordsUsingKeypressEvent",value:function(t){for(var e=0,n=t.length;e<n;e++)this.inputEvtQueue.push({key:{type:vo.keypress,character:t.charCodeAt(e),keycode:0}})}},{key:"getMousePos",value:function(t,e,n){var o,i,a,s,c;o=n&&null!=n&&n.parentNode&&null!=n.parentNode&&n.parentNode.getBoundingClientRect?n.matches(".internal")?(null===(i=n.parentNode)||void 0===i?void 0:i.parentNode).getBoundingClientRect():n.parentNode.getBoundingClientRect():this.api.getCanvas().getBoundingClientRect(),n&&n.matches&&n.matches("canvas.webswing-canvas")&&n.dataset.id&&"canvas"!==n.dataset.id&&(n.matches(".internal")?n.parentNode&&(null===(s=n.parentElement)||void 0===s?void 0:s.dataset.ownerid)&&(a=null===(c=n.parentElement)||void 0===c?void 0:c.dataset.ownerid):a=n.dataset.id);var l,u,d=Math.round(t.clientX-o.left),p=Math.round(t.clientY-o.top),f=0;return"wheel"===t.type&&e===mo.mousewheel&&(f=Object(r.h)()?-Math.max(-1,Math.min(1,100*-t.deltaY)):Object(r.i)()<=11?-Math.max(-1,Math.min(1,-t.deltaY)):-Math.max(-1,Math.min(1,t.wheelDelta||-t.detail))),e!==mo.mouseup||n&&n.matches&&n.matches("canvas.webswing-canvas")||(d=-1,p=-1),e===mo.mouseup&&n&&n.matches&&!n.matches("canvas.webswing-canvas")&&null!=n.closest(".webswing-html-canvas")&&(o=null===(l=null===(u=n.closest(".webswing-html-canvas"))||void 0===u?void 0:u.parentNode)||void 0===l?void 0:l.getBoundingClientRect(),d=Math.round(t.clientX-o.left),p=Math.round(t.clientY-o.top)),{mouse:{x:d,y:p,type:e,wheelDelta:f,button:e===mo.mousemove?0:t.which,buttons:this.mouseDown,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey,meta:t.metaKey,winId:a||"",timeMilis:Date.now()%864e5}}}},{key:"getKBKey",value:function(t,e){var n=e.which;0===n&&null!=e.key&&(n=e.key.charCodeAt(0));var r=e.keyCode;return 0===r&&(r=n),{key:{type:t,character:n,keycode:r,alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey,meta:e.metaKey}}}}])&&co(e.prototype,n),o&&co(e,o),a}(o.b);function Oo(t){return t&&t.matches&&t.matches("canvas.webswing-canvas")}function Po(t){return!(Oo(t.target)||(e=t.target,e&&e.matches&&e.matches(".aria-element")));var e}function ko(t){return!((e=t.target)&&e.matches&&(e.matches("input.ws-input-hidden")||e.matches("input.ws-input-ime")||e.matches("input.aria-element")||e.matches("textarea.aria-element")));var e}var So=n(371),Io=n.n(So);function Eo(t){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function To(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ao(t,e){return(Ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Co(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fo(t);if(e){var o=Fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Do(this,n)}}function Do(t,e){return!e||"object"!==Eo(e)&&"function"!=typeof e?Ro(t):e}function Ro(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fo(t){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lo={cfg:"webswing.config",taskbarConfig:"taskbar.config",shouldWindowShowInTaskbar:"taskbar.shouldWindowShowInTaskbar",activateWindow:"taskbar.activateWindow",restoreWindow:"taskbar.restoreWindow",translate:"translate.translate"},_o=O.appFrameProtoOut.WindowMsgOutProto.WindowClassTypeProto,Wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ao(t,e)}(i,t);var e,n,r,o=Co(i);function i(){var t;To(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Bo(Ro(t=o.call.apply(o,[this].concat(n))),"taskbar",null),Bo(Ro(t),"taskbarButton",null),Bo(Ro(t),"taskbarMenu",null),Bo(Ro(t),"dragStartX",0),Bo(Ro(t),"dragStartY",0),Bo(Ro(t),"dragLeft",0),Bo(Ro(t),"dragTop",0),Bo(Ro(t),"dragging",!1),Bo(Ro(t),"wasDragging",!1),Bo(Ro(t),"snap",!0),Bo(Ro(t),"snapLimit",10),Bo(Ro(t),"winMap",{}),Bo(Ro(t),"effectTimer",null),Bo(Ro(t),"registeredListeners",[]),t}return e=i,(n=[{key:"provides",value:function(){return{"taskbar.init":this.init,"taskbar.dispose":this.dispose,"taskbar.updateWindowStates":this.updateWindowStates,"taskbar.config":this.config(),"taskbar.shouldWindowShowInTaskbar":this.shouldWindowShowInTaskbar,"taskbar.activateWindow":this.activateWindow,"taskbar.restoreWindow":this.restoreWindow,"taskbar.validatePosition":this.validatePositionAndSnap}}},{key:"config",value:function(){return{enabled:!1,autoHide:!0}}},{key:"init",value:function(){this.api.taskbarConfig.enabled&&!this.api.cfg.touchMode&&(this.taskbar||(this.api.cfg.rootElement.insertAdjacentHTML("beforeend",Io.a),this.taskbar=this.api.cfg.rootElement.querySelector("[data-id=taskbar]"),this.taskbar&&(this.taskbar.style.display="block",this.hideTaskbar(),this.initPosition(),this.taskbarButton=this.taskbar.querySelector(".ws-taskbar-button"),this.taskbarMenu=this.taskbar.querySelector(".ws-taskbar-menu"),this.taskbar.querySelector(".ws-taskbar-img").setAttribute("src",this.api.cfg.connectionUrl+"rest/appicon"),this.addListeners())))}},{key:"dispose",value:function(){this.hideTaskbar(),this.removeListeners(),this.taskbar&&this.taskbar.parentNode&&this.taskbar.parentNode.removeChild(this.taskbar),this.taskbar=null,this.taskbarButton=null}},{key:"addListeners",value:function(){var t=this;if(this.taskbar&&this.taskbarButton){var e=this.taskbar.querySelector(".ws-taskbar-list");e&&(this.registerGlobalListener(this.taskbarButton,"click",(function(){return t.handleTaskbarClick()})),this.registerGlobalListener(e,"click",(function(e){return t.handleTaskbarListClick(e)})),this.registerGlobalListener(document,"mousedown",(function(e){return t.handleTaskbarMousedown(e)}),!0),this.registerGlobalListener(document,"mouseup",(function(){return t.handleTaskbarMouseup()})),this.registerGlobalListener(document,"mousemove",(function(e){return t.handleTaskbarMousemove(e)})))}}},{key:"removeListeners",value:function(){var t,e=jo(this.registeredListeners);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.target&&(n.useCapture?n.target.removeEventListener(n.name,n.listener,n.useCapture):n.target.removeEventListener(n.name,n.listener))}}catch(t){e.e(t)}finally{e.f()}}},{key:"registerGlobalListener",value:function(t,e,n,r){t.addEventListener(e,n,r),this.registeredListeners.push({target:t,name:e,listener:n,useCapture:r})}},{key:"handleTaskbarClick",value:function(){this.wasDragging?this.wasDragging=!1:this.toggleMenu()}},{key:"handleTaskbarListClick",value:function(t){var e=t.target;if(e.classList.contains("ws-taskbar-list-item")){var n=e.getAttribute("data-id");if(!n)return;var r=this.winMap[n];r.minimized&&this.api.restoreWindow(r.win),this.api.activateWindow(r.win),this.closeMenu()}}},{key:"handleTaskbarMousedown",value:function(t){this.dragging=!1,this.wasDragging=!1,t.target.closest(".ws-taskbar-button")?(this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragLeft=this.taskbar.offsetLeft,this.dragTop=this.taskbar.offsetTop,this.dragging=!0):t.target.closest(".ws-taskbar-menu")||this.closeMenu()}},{key:"handleTaskbarMouseup",value:function(){this.dragging=!1}},{key:"handleTaskbarMousemove",value:function(t){this.dragging&&(this.wasDragging=!0,this.closeMenu(),this.taskbar.style.bottom="auto",this.taskbar.style.left=this.dragLeft+(t.clientX-this.dragStartX)+"px",this.taskbar.style.right="auto",this.taskbar.style.top=this.dragTop+(t.clientY-this.dragStartY)+"px",this.taskbar.style.bottom="auto",localStorage.setItem("wt_left",this.taskbar.style.left),localStorage.setItem("wt_top",this.taskbar.style.top),this.validatePositionAndSnap())}},{key:"initPosition",value:function(){this.taskbar.style.bottom="auto",this.taskbar.style.right="auto","true"===localStorage.getItem("wt_st")?this.taskbar.style.top="0":localStorage.getItem("wt_top")&&(this.taskbar.style.top=localStorage.getItem("wt_top")),"true"===localStorage.getItem("wt_sl")?this.taskbar.style.left="0":localStorage.getItem("wt_left")&&(this.taskbar.style.left=localStorage.getItem("wt_left")),"true"===localStorage.getItem("wt_sb")&&(this.taskbar.style.bottom="0",this.taskbar.style.top="auto"),"true"===localStorage.getItem("wt_sr")&&(this.taskbar.style.right="0",this.taskbar.style.left="auto"),this.validatePositionAndSnap()}},{key:"validatePositionAndSnap",value:function(){if(this.taskbar&&this.taskbarMenu){var t=!1,e=!1,n=!1,r=!1;this.snap&&(this.taskbar.offsetLeft<=this.snapLimit&&(this.taskbar.style.left="0",this.taskbar.style.right="auto",t=!0),this.taskbar.offsetTop<=this.snapLimit&&(this.taskbar.style.top="0",this.taskbar.style.bottom="auto",e=!0),this.api.cfg.rootElement.offsetHeight-(this.taskbar.offsetTop+this.taskbar.clientHeight)<=this.snapLimit&&(this.taskbar.style.bottom="0",this.taskbar.style.top="auto",n=!0),this.api.cfg.rootElement.offsetWidth-(this.taskbar.offsetLeft+this.taskbar.clientWidth)<=this.snapLimit&&(this.taskbar.style.right="0",this.taskbar.style.left="auto",r=!0),localStorage.setItem("wt_st",e+""),localStorage.setItem("wt_sb",n+""),localStorage.setItem("wt_sl",t+""),localStorage.setItem("wt_sr",r+"")),this.api.cfg.rootElement.offsetHeight-this.taskbar.offsetTop-this.taskbar.clientHeight>=this.taskbarMenu.offsetHeight?(this.taskbarMenu.style.top=this.taskbar.clientHeight+"px",this.taskbarMenu.style.bottom="auto"):(this.taskbarMenu.style.bottom=this.taskbar.clientHeight+"px",this.taskbarMenu.style.top="auto"),this.api.cfg.rootElement.offsetWidth-this.taskbar.offsetLeft>=this.taskbarMenu.offsetWidth?(this.taskbarMenu.style.left="0",this.taskbarMenu.style.right="auto"):(this.taskbarMenu.style.right="0",this.taskbarMenu.style.left="auto")}}},{key:"constructMenu",value:function(){if(this.taskbar){var t=this.taskbar.querySelector(".ws-taskbar-list");if(t){var e=this.taskbar.querySelectorAll(".ws-taskbar-list-item");if(e)for(var n=0;n<e.length;n++){var r=e[n],o=r.getAttribute("data-id");o&&this.winMap[o]?r.textContent=this.winMap[o].title:t.removeChild(r)}for(var i in this.winMap)if(i in this.winMap){var a=this.winMap[i];if(!this.taskbar.querySelector('.ws-taskbar-list-item[data-id="'+i+'"]')){var s=document.createElement("li");s.setAttribute("data-id",a.id),s.classList.add("ws-taskbar-list-item"),s.textContent=a.title,t.appendChild(s)}}this.validatePositionAndSnap()}}}},{key:"updateWindowStates",value:function(t){var e=this;if(this.api.taskbarConfig.enabled&&this.taskbar)if(null!=t){var n=0,r=!0,o={};for(var i in t)if(i in t){var a=t[i];if(!this.api.shouldWindowShowInTaskbar(a))continue;var s={id:i,title:!a.htmlWindow&&a.title&&a.title.length?a.title:this.api.translate("taskbar.window.untitled"),win:a,minimized:!a.htmlWindow&&a.minimized||!1};r=r&&s.minimized;var c=this.winMap[i]&&this.winMap[i].minimized!==s.minimized,l=!this.winMap[i]&&s.minimized;(c||l)&&(s.minimized?(a.element.classList.add("ws-minimized"),a.element.style.display="",this.taskbar.classList.add("minimized-effect"),null!=this.effectTimer&&clearTimeout(this.effectTimer),this.effectTimer=setTimeout((function(){e.effectTimer=null,e.taskbar.classList.remove("minimized-effect")}),2e3)):(a.element.classList.remove("ws-minimized"),a.element.style.display="inline")),o[i]=s,n++}this.winMap=o,0!==n?this.api.taskbarConfig.autoHide&&1===n&&!r?this.hideTaskbar():(this.showTaskbar(),this.taskbar.classList.contains("active")&&this.constructMenu()):this.hideTaskbar()}else this.api.taskbarConfig.autoHide&&this.hideTaskbar()}},{key:"shouldWindowShowInTaskbar",value:function(t){if(t.htmlWindow||t.internal)return!1;switch(t.classType){case _o.Dialog:case _o.JDialog:case _o.Frame:case _o.JFrame:return!0;default:return!1}}},{key:"activateWindow",value:function(t){t.htmlWindow||t.requestFocus()}},{key:"restoreWindow",value:function(t){t.htmlWindow||(t.restore(),t.element&&t.element.classList.remove("ws-minimized"))}},{key:"toggleMenu",value:function(){this.taskbar&&(this.taskbar.classList.toggle("active"),this.taskbar.classList.contains("active")&&this.constructMenu())}},{key:"hideTaskbar",value:function(){this.taskbar&&(this.taskbar.style.visibility="hidden",this.taskbar.classList.remove("minimized-effect"),this.closeMenu())}},{key:"showTaskbar",value:function(){this.taskbar&&(this.taskbar.style.visibility="visible")}},{key:"closeMenu",value:function(){this.taskbar&&this.taskbar.classList.remove("active")}}])&&Mo(e.prototype,n),r&&Mo(e,r),i}(o.b);function No(t){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uo(t,e){return(Uo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Go(t);if(e){var o=Go(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jo(this,n)}}function Jo(t,e){return!e||"object"!==No(e)&&"function"!=typeof e?Yo(t):e}function Yo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Go(t){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $o={send:"socket.send"},Ko=O.appFrameProtoOut.AudioEventMsgOutProto.AudioEventTypeProto,Vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uo(t,e)}(i,t);var e,n,r,o=zo(i);function i(){var t;Ho(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Xo(Yo(t=o.call.apply(o,[this].concat(n))),"audio",{}),Xo(Yo(t),"audioPlaybackPingInterval",1e3),t}return e=i,(n=[{key:"provides",value:function(){return{"audio.handleAudio":this.handleAudio,"audio.dispose":this.dispose}}},{key:"handleAudio",value:function(t){var e=this;switch(t.eventType){case Ko.play:var n=this.audio[t.id];if(n)n.paused&&(n.loopCount=t.loop||0,null!=t.time&&t.time>0&&(n.currentTime=t.time),this.startAudioPing(n),n.play());else{var r=new Blob([t.data],{type:"audio/mpeg"}),o=window.URL.createObjectURL(r);(n=new Audio).src=o,n.id=t.id,n.loopCount=t.loop||0,null!=t.time&&t.time>0&&(n.currentTime=t.time),n.addEventListener("ended",(function(t){return e.audioEndedHandler(t)})),this.audio[t.id]=n,this.startAudioPing(n),n.play()}break;case Ko.stop:var i=this.audio[t.id];i&&(i.pause(),this.stopAudioPing(i));break;case Ko.update:var a=this.audio[t.id];a&&null!=t.time&&t.time>0&&(a.currentTime=t.time);break;case Ko.dispose:var s=this.audio[t.id];s&&s.paused&&delete this.audio[t.id]}}},{key:"dispose",value:function(){for(var t in this.audio)if(t in this.audio){var e=this.audio[t];e&&(e.pause(),this.stopAudioPing(e))}this.audio={}}},{key:"audioEndedHandler",value:function(t){var e=t.srcElement;if(e){if(!e.loopCount||1===e.loopCount)return e.loopCount=0,e.currentTime=0,e.pause(),this.stopAudioPing(e),void this.api.send({audio:{id:e.id,stop:!0}});e.loopCount=e.loopCount-1,e.play()}}},{key:"startAudioPing",value:function(t){var e=this;t.playbackTimer&&clearInterval(t.playbackTimer),t.playbackTimer=setInterval((function(){e.api.send({audio:{id:t.id,ping:!0}})}),this.audioPlaybackPingInterval)}},{key:"stopAudioPing",value:function(t){t&&t.playbackTimer&&clearInterval(t.playbackTimer)}}])&&qo(e.prototype,n),r&&qo(e,r),i}(o.b);function Qo(t){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ti(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ti(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ei(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ri(t,e){return(ri=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=si(t);if(e){var o=si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ii(this,n)}}function ii(t,e){return!e||"object"!==Qo(e)&&"function"!=typeof e?ai(t):e}function ai(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function si(t){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ci(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var li={cfg:"webswing.config",send:"socket.send",sendTabsUpdate:"socket.sendTabsUpdate",showOverlay:"dialog.showOverlay",hideOverlay:"dialog.hideOverlay",dialogs:"dialog.content",getWindows:"render.getWindows",getWindowById:"render.getWindowById",registerUndockedCanvas:"input.registerUndockedCanvas",getInstanceId:"socket.instanceId",repaint:"render.repaint",getDesktopSize:"canvas.getDesktopSize"},ui=P.appFrameProtoIn.WindowEventMsgInProto.WindowEventTypeProto,di=O.appFrameProtoOut.WindowMsgOutProto.DockModeProto,pi=O.appFrameProtoOut.WindowMsgOutProto.DockStateProto,fi=i.commonProto.TabStateMsgInProto.TabStateTypeProto,hi=i.commonProto.TabStateMsgInProto.TabOriginTypeProto,yi=i.commonProto.TabStateMsgInProto.TabEventTypeProto,gi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ri(t,e)}(a,t);var e,n,o,i=oi(a);function a(){var t;ei(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ci(ai(t=i.call.apply(i,[this].concat(n))),"timerCanvasResize",void 0),ci(ai(t),"timerWindowResize",void 0),ci(ai(t),"timerModalOverlay",void 0),ci(ai(t),"canvasResizeInterval",250),ci(ai(t),"ignoreCanvasResizeTimestamp",null),ci(ai(t),"tabOwnerCanvas",null),ci(ai(t),"ignoreResizeEvents",!1),ci(ai(t),"pendingUndockEvents",[]),ci(ai(t),"pendingUndockEventExpiration",3e3),ci(ai(t),"instanceTabEventExpiration",5e3),ci(ai(t),"lastModalRequest",null),t}return e=a,(n=[{key:"provides",value:function(){return{"dock.dispose":this.dispose,"dock.reset":this.reset,"dock.handleWindowDockState":this.handleWindowDockState,"dock.checkUndockedModalBlocked":this.checkUndockedModalBlocked,"dock.undockWindow":this.undockWindow,"dock.dockWindow":this.dockWindow,"dock.setInstanceTab":this.setInstanceTab,"dock.removeInstanceTab":this.removeInstanceTab,"dock.onUndockedWindowResize":this.onUndockedWindowResize,"dock.onUndockedWindowClose":this.onUndockedWindowClose,"dock.handleUndockEvent":this.handleUndockEvent,"dock.checkPendingUndockEvents":this.checkPendingUndockEvents,"dock.hasPendingUndockEvent":this.hasPendingUndockEvent}}},{key:"dispose",value:function(){this.api.cfg.undockedStart&&clearInterval(this.timerCanvasResize),this.api.hideOverlay(window,this.api.dialogs.dockingModalityOverlay)}},{key:"reset",value:function(){var t=this;this.api.cfg.undockedStart&&(clearInterval(this.timerCanvasResize),this.timerCanvasResize=setInterval((function(){return t.onCanvasResized()}),this.canvasResizeInterval))}},{key:"checkPendingUndockEvents",value:function(){var t,e=[],n=(new Date).getTime(),r=Zo(this.pendingUndockEvents);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=this.api.getWindowById(o.undockEvent.windowId);i?i.htmlWindow||this.handleUndockEventInternal(o.undockEvent.undock,i):n-o.timestamp<this.pendingUndockEventExpiration&&e.push(o)}}catch(t){r.e(t)}finally{r.f()}this.pendingUndockEvents=e}},{key:"hasPendingUndockEvent",value:function(t){var e,n=Zo(this.pendingUndockEvents);try{for(n.s();!(e=n.n()).done;)if(e.value.undockEvent.windowId===t)return!0}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"handleUndockEvent",value:function(t){var e=this.api.getWindowById(t.windowId);if(e){if(!e.htmlWindow){var n=e;this.handleUndockEventInternal(t.undock,n)}}else this.pendingUndockEvents.push({undockEvent:t,timestamp:(new Date).getTime()})}},{key:"handleUndockEventInternal",value:function(t,e){if(e.tabId===window.name)if(t){var n=e.element.getBoundingClientRect();this.undockWindow(e.id,e.tabId,e.element,n.left,n.top,n.width,n.height,null,null)}else this.dockWindow(e)}},{key:"undockWindow",value:function(t,e,n,o,i,a,s,c,l){if(!this.api.cfg.mirrorMode&&e===window.name){var u;u=n.parentNode?n.parentNode.ownerDocument.defaultView:window;var d=Object(r.n)(this.api.cfg.connectionUrl);d=d.lastIndexOf("/")!==d.length-1?d+"/":d;var p=this.api.getInstanceId(),f="tid_"+Object(r.b)()+"-"+p;this.setInstanceTab(p,f,fi.Disconnected,hi.Undocked),this.api.send({window:{id:t,eventType:ui.undock,x:0,y:0,width:Math.floor(a),height:Math.floor(s),tabId:f}});var h=u.pageOffset;h||(h={x:0,y:0});var y={x:o+h.x,y:i+h.y},g=!1;null!=c&&(y.x=c+(window.screen.availLeft||0),g=!0),null!=l&&(y.y=l+(window.screen.availTop||0),g=!0);var v=window.open(d+"undocked",f,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+a+",height="+s+",top="+y.y+",left="+y.x);g||setTimeout((function(){if(v){var t=v.outerHeight-v.innerHeight-9,e=v.outerWidth-v.innerWidth-8;v.moveBy(0-e,0-t)}}),100)}}},{key:"dockWindow",value:function(t){if(!this.api.cfg.mirrorMode&&this.api.cfg.undockedStart&&t.tabId===window.name&&t.dockMode!==di.none&&t.dockState!==pi.docked){var e=this.getTabOwnerCanvas();if(e&&e.id===t.id){this.ignoreResizeEvents=!0;var n=window.pageOffset;n||(n={x:0,y:0});var r={x:0,y:0};if(window.opener){var o=window.opener.pageOffset;r=o||{x:window.opener.screenX,y:window.opener.screenY}}this.api.send({window:{id:t.id,eventType:ui.dock,x:Math.floor((0!==n.x?n.x:window.screenX)-r.x),y:Math.floor((0!==n.y?n.y:window.screenY)-r.y)}}),this.checkUndockedModalBlocked()}}}},{key:"handleWindowDockState",value:function(t,e){var n=e.tabId===window.name&&e.tabId!==t.tabId&&e.dockState!==t.dockState&&t.dockState===pi.undocked;e.tabId=t.tabId,this.api.cfg.mirrorMode||void 0===t.dockState||(e.element&&(e.tabId!==window.name||t.dockState===pi.toBeUndocked?e.element.classList.add("ws-render-blocked"):e.element.classList.remove("ws-render-blocked")),t.dockState!==pi.toBeUndocked||t.tabId!==window.name?e.dockState!==t.dockState&&(e.dockState=t.dockState,e.isUndocking=!1,t.dockState===pi.undocked?n&&this.windowUndocked(e):e.tabId===window.name?(e.element.classList.remove("ws-render-blocked"),this.api.repaint(),this.windowDocked(e)):this.getTabOwnerCanvas()===e&&(e.preventDockClose=!0,window.close()),this.checkUndockedModalBlocked()):e.isUndocking||(e.isUndocking=!0,this.undockWindow(t.id,e.tabId,e.element,t.posX,t.posY,t.width,t.height,t.screenPosX||null,t.screenPosY||null)))}},{key:"checkUndockedModalBlocked",value:function(){0!==document.querySelectorAll(".webswing-canvas:not([data-id=canvas])").length&&0!==document.querySelectorAll(".webswing-canvas.modal-blocked").length&&0===document.querySelectorAll(".webswing-canvas:not(.modal-blocked):not(.ws-render-blocked):not([data-id=canvas])").length?this.requestToggleOverlay(!0):this.requestToggleOverlay(!1)}},{key:"requestToggleOverlay",value:function(t){var e=this;if(this.timerModalOverlay){if(null!=this.lastModalRequest&&this.lastModalRequest===t)return;clearTimeout(this.timerModalOverlay)}this.lastModalRequest=t,this.timerModalOverlay=setTimeout((function(){e.timerModalOverlay=null,e.lastModalRequest=null,t?e.api.showOverlay(window,e.api.dialogs.dockingModalityOverlay):e.api.hideOverlay(window,e.api.dialogs.dockingModalityOverlay)}),100)}},{key:"onUndockedWindowResize",value:function(){var t=this;this.ignoreResizeEvents||(this.ignoreCanvasResizeTimestamp=(new Date).getTime(),this.timerWindowResize&&clearTimeout(this.timerWindowResize),this.timerWindowResize=setTimeout((function(){t.timerWindowResize=null;var e=t.getTabOwnerCanvas();if(e&&e.element&&e.resizable){var n=e.element.parentElement.getBoundingClientRect(),r=e.element.getBoundingClientRect();r.width===n.width&&r.height===n.height||e.setBounds(0,0,n.width,n.height)}}),100))}},{key:"onCanvasResized",value:function(){if(!this.ignoreResizeEvents){var t=(new Date).getTime();if(!(this.ignoreCanvasResizeTimestamp&&t-this.ignoreCanvasResizeTimestamp<1e3)){var e=0,n=0,r=this.api.getWindows(!0);if(r&&r.length){var o,i=Zo(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(a.tabId&&a.tabId===window.name&&a.dockState!==pi.toBeUndocked){var s=a.element.getBoundingClientRect();s.left+s.width>e&&(e=s.left+s.width),s.top+s.height>n&&(n=s.top+s.height)}}}catch(t){i.e(t)}finally{i.f()}var c=e-window.innerWidth,l=n-window.innerHeight;0===c&&0===l||window.resizeBy(c,l)}}}}},{key:"onUndockedWindowClose",value:function(){if(this.api.cfg.undockedStart){var t=this.getTabOwnerCanvas();t&&(t.preventDockClose||t.close(),this.api.repaint(),setTimeout((function(){window.close()}),1))}}},{key:"getTabOwnerCanvas",value:function(){if(!this.tabOwnerCanvas){var t=this.api.getWindows(!0);if(!t||!t.length)return;var e,n=Zo(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.tabId&&r.tabId===window.name&&r.dockState===pi.undocked){this.tabOwnerCanvas=r;break}}}catch(t){n.e(t)}finally{n.f()}}return this.tabOwnerCanvas}},{key:"removeInstanceTab",value:function(){var t={id:window.name,state:fi.Disconnected,origin:this.api.cfg.undockedStart?hi.Undocked:hi.Primary,event:yi.Removed,timestamp:(new Date).getTime()};localStorage.setItem("webswing_tabsupdate_"+this.api.getInstanceId(),JSON.stringify(t)),this.api.sendTabsUpdate({tabs:[t]})}},{key:"setInstanceTab",value:function(t,e,n,o){var i=this.api.getDesktopSize(),a={id:e,state:n,origin:o,event:yi.Added,desktopWidth:i.width,desktopHeight:i.height,dpr:Object(r.o)(),userScreenWidth:window.screen.availWidth,userScreenHeight:window.screen.availHeight,timestamp:(new Date).getTime()};localStorage.setItem("webswing_tabsupdate_"+t,JSON.stringify(a)),this.api.sendTabsUpdate({tabs:[a]});var s=[],c=(new Date).getTime();for(var l in localStorage)if(l.startsWith("webswing_tabsupdate_")){var u=JSON.parse(localStorage.getItem(l));u&&u.timestamp&&c-u.timestamp>this.instanceTabEventExpiration&&s.push(l)}for(var d=0,p=s;d<p.length;d++){var f=p[d];localStorage.removeItem(f)}}},{key:"windowUndocked",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowUndocked&&this.api.cfg.windowsListener.windowUndocked(t)}catch(t){console.error(t)}}},{key:"windowDocked",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowDocked&&this.api.cfg.windowsListener.windowDocked(t)}catch(t){console.error(t)}}}])&&ni(e.prototype,n),o&&ni(e,o),a}(o.b),vi="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==vi&&vi,mi="URLSearchParams"in vi,wi="Symbol"in vi&&"iterator"in Symbol,bi="FileReader"in vi&&"Blob"in vi&&function(){try{return new Blob,!0}catch(t){return!1}}(),Oi="FormData"in vi,Pi="ArrayBuffer"in vi;if(Pi)var ki=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Si=ArrayBuffer.isView||function(t){return t&&ki.indexOf(Object.prototype.toString.call(t))>-1};function Ii(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function Ei(t){return"string"!=typeof t&&(t=String(t)),t}function ji(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return wi&&(e[Symbol.iterator]=function(){return e}),e}function xi(t){this.map={},t instanceof xi?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function Ti(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function Mi(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function Ai(t){var e=new FileReader,n=Mi(e);return e.readAsArrayBuffer(t),n}function Ci(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Di(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:bi&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Oi&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:mi&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Pi&&bi&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=Ci(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Pi&&(ArrayBuffer.prototype.isPrototypeOf(t)||Si(t))?this._bodyArrayBuffer=Ci(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):mi&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},bi&&(this.blob=function(){var t=Ti(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=Ti(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Ai)}),this.text=function(){var t,e,n,r=Ti(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=Mi(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Oi&&(this.formData=function(){return this.text().then(Bi)}),this.json=function(){return this.text().then(JSON.parse)},this}xi.prototype.append=function(t,e){t=Ii(t),e=Ei(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},xi.prototype.delete=function(t){delete this.map[Ii(t)]},xi.prototype.get=function(t){return t=Ii(t),this.has(t)?this.map[t]:null},xi.prototype.has=function(t){return this.map.hasOwnProperty(Ii(t))},xi.prototype.set=function(t,e){this.map[Ii(t)]=Ei(e)},xi.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},xi.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),ji(t)},xi.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),ji(t)},xi.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),ji(t)},wi&&(xi.prototype[Symbol.iterator]=xi.prototype.entries);var Ri=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Fi(t,e){if(!(this instanceof Fi))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(e=e||{}).body;if(t instanceof Fi){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new xi(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new xi(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),Ri.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Bi(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function Li(t,e){if(!(this instanceof Li))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new xi(e.headers),this.url=e.url||"",this._initBody(t)}Fi.prototype.clone=function(){return new Fi(this,{body:this._bodyInit})},Di.call(Fi.prototype),Di.call(Li.prototype),Li.prototype.clone=function(){return new Li(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new xi(this.headers),url:this.url})},Li.error=function(){var t=new Li(null,{status:0,statusText:""});return t.type="error",t};var _i=[301,302,303,307,308];Li.redirect=function(t,e){if(-1===_i.indexOf(e))throw new RangeError("Invalid status code");return new Li(null,{status:e,headers:{location:t}})};var Wi=vi.DOMException;try{new Wi}catch(t){(Wi=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),Wi.prototype.constructor=Wi}function Ni(t,e){return new Promise((function(n,r){var o=new Fi(t,e);if(o.signal&&o.signal.aborted)return r(new Wi("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var t,e,r={status:i.status,statusText:i.statusText,headers:(t=i.getAllResponseHeaders()||"",e=new xi,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};r.url="responseURL"in i?i.responseURL:r.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;setTimeout((function(){n(new Li(o,r))}),0)},i.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.onabort=function(){setTimeout((function(){r(new Wi("Aborted","AbortError"))}),0)},i.open(o.method,function(t){try{return""===t&&vi.location.href?vi.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(bi?i.responseType="blob":Pi&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof xi?o.headers.forEach((function(t,e){i.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){i.setRequestHeader(t,Ei(e.headers[t]))})),o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}function Hi(t){!function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})}();var e=Object(r.c)(t),n={scan:function(t){t=null!=t?t:n;var e={},o=document.querySelectorAll("[data-webswing-instance]");for(var a in o.forEach((function(n){var r=n.dataset.webswingInstance;if("false"!==n.dataset.webswingActive){var o,a;null!=t[r]&&null!=t[r].options&&null!=t[r].options.customization&&"function"==typeof t[r].options.customization&&(a=t[r].options.customization),null===(o=n.querySelector("#loading"))||void 0===o||o.remove();var s=i(n,a,t[r]?t[r].options:null);n.setAttribute("data-webswing-active","true"),null!=r&&(e[r]=s)}})),e)e.hasOwnProperty(a)&&(null!=t[a]&&null!=t[a].disconnect&&(console.warn("Bootstrapping Webswing instance named '"+a+"'.Instance with this name has already been bootstrapped. Disconnecting old instance."),t[a].disconnect(),delete t[a]),t[a]=Object(r.l)(e[a],t[a]))},bootstrap:function(t,e){i(t,e)}};return n;function i(n,r,i){var a=new o.a;a.addModule("webswing",new m(a,n,i),y),a.addModule("dialog",new mr(a),vr),a.addModule("canvas",new er(a),tr),a.addModule("base",new _(a),R),a.addModule("render",new st(a),tt),a.addModule("input",new bo(a),go),a.addModule("touch",new no(a),eo),a.addModule("socket",new St(a),Ot),a.addModule("files",new Br(a),Dr),a.addModule("login",new Dt(a,e),Ct),a.addModule("identity",new Ht(a),{}),a.addModule("jslink",new ne(a),Zt),a.addModule("clipboard",new Pe(a),we),a.addModule("playback",new Be(a),Re),a.addModule("translate",new Le.a(a,t),{}),a.addModule("ping",new Ke(a),$e),a.addModule("accessible",new In(a),Sn),a.addModule("focusManager",new zn(a),qn),a.addModule("taskbar",new Wo(a),Lo),a.addModule("audio",new Vo(a),$o),a.addModule("dock",new gi(a),li);var s=new cn(a);return a.addModule("external",s,sn),null!=r&&r(a),a.injectAndVerify(),s.getApi()}}Ni.polyfill=!0,vi.fetch||(vi.fetch=Ni,vi.Headers=xi,vi.Request=Fi,vi.Response=Li);n(389);Object(Le.b)().then((function(t){var e=Hi(t),n=document.querySelector("[data-webswing-global-var]");if(n){var r=String(n.dataset.webswingGlobalVar);window[r]=e,e.scan(window)}else e.scan(window)}));n(156)},,,function(t,e){}]);